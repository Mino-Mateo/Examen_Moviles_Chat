function M9(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Nf(t,e){const n=new Set(t.split(","));return i=>n.has(i)}const et={},Dr=[],Tn=()=>{},Zk=()=>!1,lu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Df=t=>t.startsWith("onUpdate:"),Ot=Object.assign,Lf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},ex=Object.prototype.hasOwnProperty,De=(t,e)=>ex.call(t,e),be=Array.isArray,Lr=t=>cu(t)==="[object Map]",hy=t=>cu(t)==="[object Set]",we=t=>typeof t=="function",vt=t=>typeof t=="string",ur=t=>typeof t=="symbol",ot=t=>t!==null&&typeof t=="object",fy=t=>(ot(t)||we(t))&&we(t.then)&&we(t.catch),py=Object.prototype.toString,cu=t=>py.call(t),tx=t=>cu(t).slice(8,-1),my=t=>cu(t)==="[object Object]",Mf=t=>vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ia=Nf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},nx=/-(\w)/g,ci=uu(t=>t.replace(nx,(e,n)=>n?n.toUpperCase():"")),ix=/\B([A-Z])/g,dr=uu(t=>t.replace(ix,"-$1").toLowerCase()),du=uu(t=>t.charAt(0).toUpperCase()+t.slice(1)),gd=uu(t=>t?"on".concat(du(t)):""),_o=(t,e)=>!Object.is(t,e),bd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},gy=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},ox=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let yg;const by=()=>yg||(yg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vf(t){if(be(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=vt(i)?lx(i):Vf(i);if(o)for(const r in o)e[r]=o[r]}return e}else if(vt(t)||ot(t))return t}const rx=/;(?![^(]*\))/g,sx=/:([^]+)/,ax=/\/\*[^]*?\*\//g;function lx(t){const e={};return t.replace(ax,"").split(rx).forEach(n=>{if(n){const i=n.split(sx);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function hu(t){let e="";if(vt(t))e=t;else if(be(t))for(let n=0;n<t.length;n++){const i=hu(t[n]);i&&(e+=i+" ")}else if(ot(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const cx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ux=Nf(cx);function _y(t){return!!t||t===""}const wg=t=>vt(t)?t:t==null?"":be(t)||ot(t)&&(t.toString===py||!we(t.toString))?JSON.stringify(t,vy,2):String(t),vy=(t,e)=>e&&e.__v_isRef?vy(t,e.value):Lr(e)?{["Map(".concat(e.size,")")]:[...e.entries()].reduce((n,[i,o],r)=>(n[_d(i,r)+" =>"]=o,n),{})}:hy(e)?{["Set(".concat(e.size,")")]:[...e.values()].map(n=>_d(n))}:ur(e)?_d(e):ot(e)&&!be(e)&&!my(e)?String(e):e,_d=(t,e="")=>{var n;return ur(t)?"Symbol(".concat((n=t.description)!=null?n:e,")"):t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pn;class yy{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pn,!e&&Pn&&(this.index=(Pn.scopes||(Pn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Pn;try{return Pn=this,e()}finally{Pn=n}}}on(){Pn=this}off(){Pn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function dx(t){return new yy(t)}function hx(t,e=Pn){e&&e.active&&e.effects.push(t)}function fx(){return Pn}let Ho;class Ff{constructor(e,n,i,o){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,hx(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Io();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(px(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),To()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=lo,n=Ho;try{return lo=!0,Ho=this,this._runnings++,Eg(this),this.fn()}finally{Ig(this),this._runnings--,Ho=n,lo=e}}stop(){this.active&&(Eg(this),Ig(this),this.onStop&&this.onStop(),this.active=!1)}}function px(t){return t.value}function Eg(t){t._trackId++,t._depsLength=0}function Ig(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)wy(t.deps[e],t);t.deps.length=t._depsLength}}function wy(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let lo=!0,lh=0;const Ey=[];function Io(){Ey.push(lo),lo=!1}function To(){const t=Ey.pop();lo=t===void 0?!0:t}function $f(){lh++}function Uf(){for(lh--;!lh&&ch.length;)ch.shift()()}function Iy(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&wy(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ch=[];function Ty(t,e,n){$f();for(const i of t.keys()){let o;i._dirtyLevel<e&&(o!=null?o:o=t.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(o!=null?o:o=t.get(i)===i._trackId)&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&ch.push(i.scheduler)))}Uf()}const ky=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},uh=new WeakMap,qo=Symbol(""),dh=Symbol("");function un(t,e,n){if(lo&&Ho){let i=uh.get(t);i||uh.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=ky(()=>i.delete(n))),Iy(Ho,o)}}function Si(t,e,n,i,o,r){const s=uh.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&be(t)){const l=Number(i);s.forEach((u,d)=>{(d==="length"||!ur(d)&&d>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":be(t)?Mf(n)&&a.push(s.get("length")):(a.push(s.get(qo)),Lr(t)&&a.push(s.get(dh)));break;case"delete":be(t)||(a.push(s.get(qo)),Lr(t)&&a.push(s.get(dh)));break;case"set":Lr(t)&&a.push(s.get(qo));break}$f();for(const l of a)l&&Ty(l,4);Uf()}const mx=Nf("__proto__,__v_isRef,__isVue"),xy=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ur)),Tg=gx();function gx(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=ze(this);for(let r=0,s=this.length;r<s;r++)un(i,"get",r+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(ze)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Io(),$f();const i=ze(this)[e].apply(this,n);return Uf(),To(),i}}),t}function bx(t){ur(t)||(t=String(t));const e=ze(this);return un(e,"has",t),e.hasOwnProperty(t)}class Cy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(o?r?Rx:Py:r?Ry:Ay).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=be(e);if(!o){if(s&&De(Tg,n))return Reflect.get(Tg,n,i);if(n==="hasOwnProperty")return bx}const a=Reflect.get(e,n,i);return(ur(n)?xy.has(n):mx(n))||(o||un(e,"get",n),r)?a:dn(a)?s&&Mf(n)?a:a.value:ot(a)?o?Ny(a):pu(a):a}}class Sy extends Cy{constructor(e=!1){super(!1,e)}set(e,n,i,o){let r=e[n];if(!this._isShallow){const l=wa(r);if(!wc(i)&&!wa(i)&&(r=ze(r),i=ze(i)),!be(e)&&dn(r)&&!dn(i))return l?!1:(r.value=i,!0)}const s=be(e)&&Mf(n)?Number(n)<e.length:De(e,n),a=Reflect.set(e,n,i,o);return e===ze(o)&&(s?_o(i,r)&&Si(e,"set",n,i):Si(e,"add",n,i)),a}deleteProperty(e,n){const i=De(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&i&&Si(e,"delete",n,void 0),o}has(e,n){const i=Reflect.has(e,n);return(!ur(n)||!xy.has(n))&&un(e,"has",n),i}ownKeys(e){return un(e,"iterate",be(e)?"length":qo),Reflect.ownKeys(e)}}class _x extends Cy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const vx=new Sy,yx=new _x,wx=new Sy(!0);const Bf=t=>t,fu=t=>Reflect.getPrototypeOf(t);function Dl(t,e,n=!1,i=!1){t=t.__v_raw;const o=ze(t),r=ze(e);n||(_o(e,r)&&un(o,"get",e),un(o,"get",r));const{has:s}=fu(o),a=i?Bf:n?Hf:Ea;if(s.call(o,e))return a(t.get(e));if(s.call(o,r))return a(t.get(r));t!==o&&t.get(e)}function Ll(t,e=!1){const n=this.__v_raw,i=ze(n),o=ze(t);return e||(_o(t,o)&&un(i,"has",t),un(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function Ml(t,e=!1){return t=t.__v_raw,!e&&un(ze(t),"iterate",qo),Reflect.get(t,"size",t)}function kg(t){t=ze(t);const e=ze(this);return fu(e).has.call(e,t)||(e.add(t),Si(e,"add",t,t)),this}function xg(t,e){e=ze(e);const n=ze(this),{has:i,get:o}=fu(n);let r=i.call(n,t);r||(t=ze(t),r=i.call(n,t));const s=o.call(n,t);return n.set(t,e),r?_o(e,s)&&Si(n,"set",t,e):Si(n,"add",t,e),this}function Cg(t){const e=ze(this),{has:n,get:i}=fu(e);let o=n.call(e,t);o||(t=ze(t),o=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return o&&Si(e,"delete",t,void 0),r}function Sg(){const t=ze(this),e=t.size!==0,n=t.clear();return e&&Si(t,"clear",void 0,void 0),n}function Vl(t,e){return function(i,o){const r=this,s=r.__v_raw,a=ze(s),l=e?Bf:t?Hf:Ea;return!t&&un(a,"iterate",qo),s.forEach((u,d)=>i.call(o,l(u),l(d),r))}}function Fl(t,e,n){return function(...i){const o=this.__v_raw,r=ze(o),s=Lr(r),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=o[t](...i),d=n?Bf:e?Hf:Ea;return!e&&un(r,"iterate",l?dh:qo),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[d(h[0]),d(h[1])]:d(h),done:p}},[Symbol.iterator](){return this}}}}function Ki(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ex(){const t={get(r){return Dl(this,r)},get size(){return Ml(this)},has:Ll,add:kg,set:xg,delete:Cg,clear:Sg,forEach:Vl(!1,!1)},e={get(r){return Dl(this,r,!1,!0)},get size(){return Ml(this)},has:Ll,add:kg,set:xg,delete:Cg,clear:Sg,forEach:Vl(!1,!0)},n={get(r){return Dl(this,r,!0)},get size(){return Ml(this,!0)},has(r){return Ll.call(this,r,!0)},add:Ki("add"),set:Ki("set"),delete:Ki("delete"),clear:Ki("clear"),forEach:Vl(!0,!1)},i={get(r){return Dl(this,r,!0,!0)},get size(){return Ml(this,!0)},has(r){return Ll.call(this,r,!0)},add:Ki("add"),set:Ki("set"),delete:Ki("delete"),clear:Ki("clear"),forEach:Vl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Fl(r,!1,!1),n[r]=Fl(r,!0,!1),e[r]=Fl(r,!1,!0),i[r]=Fl(r,!0,!0)}),[t,n,e,i]}const[Ix,Tx,kx,xx]=Ex();function zf(t,e){const n=e?t?xx:kx:t?Tx:Ix;return(i,o,r)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(De(n,o)&&o in i?n:i,o,r)}const Cx={get:zf(!1,!1)},Sx={get:zf(!1,!0)},Ax={get:zf(!0,!1)};const Ay=new WeakMap,Ry=new WeakMap,Py=new WeakMap,Rx=new WeakMap;function Px(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ox(t){return t.__v_skip||!Object.isExtensible(t)?0:Px(tx(t))}function pu(t){return wa(t)?t:jf(t,!1,vx,Cx,Ay)}function Oy(t){return jf(t,!1,wx,Sx,Ry)}function Ny(t){return jf(t,!0,yx,Ax,Py)}function jf(t,e,n,i,o){if(!ot(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=o.get(t);if(r)return r;const s=Ox(t);if(s===0)return t;const a=new Proxy(t,s===2?i:n);return o.set(t,a),a}function oa(t){return wa(t)?oa(t.__v_raw):!!(t&&t.__v_isReactive)}function wa(t){return!!(t&&t.__v_isReadonly)}function wc(t){return!!(t&&t.__v_isShallow)}function Dy(t){return t?!!t.__v_raw:!1}function ze(t){const e=t&&t.__v_raw;return e?ze(e):t}function Nx(t){return Object.isExtensible(t)&&gy(t,"__v_skip",!0),t}const Ea=t=>ot(t)?pu(t):t,Hf=t=>ot(t)?Ny(t):t;class Ly{constructor(e,n,i,o){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ff(()=>e(this._value),()=>ac(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=ze(this);return(!e._cacheable||e.effect.dirty)&&_o(e._value,e._value=e.effect.run())&&ac(e,4),My(e),e.effect._dirtyLevel>=2&&ac(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Dx(t,e,n=!1){let i,o;const r=we(t);return r?(i=t,o=Tn):(i=t.get,o=t.set),new Ly(i,o,r||!o,n)}function My(t){var e;lo&&Ho&&(t=ze(t),Iy(Ho,(e=t.dep)!=null?e:t.dep=ky(()=>t.dep=void 0,t instanceof Ly?t:void 0)))}function ac(t,e=4,n){t=ze(t);const i=t.dep;i&&Ty(i,e)}function dn(t){return!!(t&&t.__v_isRef===!0)}function nn(t){return Vy(t,!1)}function Ka(t){return Vy(t,!0)}function Vy(t,e){return dn(t)?t:new Lx(t,e)}class Lx{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ze(e),this._value=n?e:Ea(e)}get value(){return My(this),this._value}set value(e){const n=this.__v_isShallow||wc(e)||wa(e);e=n?e:ze(e),_o(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ea(e),ac(this,4))}}function se(t){return dn(t)?t.value:t}const Mx={get:(t,e,n)=>se(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return dn(o)&&!dn(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function Fy(t){return oa(t)?t:new Proxy(t,Mx)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function co(t,e,n,i){try{return i?t(...i):t()}catch(o){mu(o,e,n)}}function $n(t,e,n,i){if(we(t)){const o=co(t,e,n,i);return o&&fy(o)&&o.catch(r=>{mu(r,e,n)}),o}if(be(t)){const o=[];for(let r=0;r<t.length;r++)o.push($n(t[r],e,n,i));return o}}function mu(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let r=e.parent;const s=e.proxy,a="https://vuejs.org/error-reference/#runtime-".concat(n);for(;r;){const u=r.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,s,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){Io(),co(l,null,10,[t,s,a]),To();return}}Vx(t,n,o,i)}function Vx(t,e,n,i=!0){console.error(t)}let Ia=!1,hh=!1;const Xt=[];let ti=0;const Mr=[];let Qi=null,Vo=0;const $y=Promise.resolve();let qf=null;function Uy(t){const e=qf||$y;return t?e.then(this?t.bind(this):t):e}function Fx(t){let e=ti+1,n=Xt.length;for(;e<n;){const i=e+n>>>1,o=Xt[i],r=Ta(o);r<t||r===t&&o.pre?e=i+1:n=i}return e}function Wf(t){(!Xt.length||!Xt.includes(t,Ia&&t.allowRecurse?ti+1:ti))&&(t.id==null?Xt.push(t):Xt.splice(Fx(t.id),0,t),By())}function By(){!Ia&&!hh&&(hh=!0,qf=$y.then(jy))}function $x(t){const e=Xt.indexOf(t);e>ti&&Xt.splice(e,1)}function Ux(t){be(t)?Mr.push(...t):(!Qi||!Qi.includes(t,t.allowRecurse?Vo+1:Vo))&&Mr.push(t),By()}function Ag(t,e,n=Ia?ti+1:0){for(;n<Xt.length;n++){const i=Xt[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;Xt.splice(n,1),n--,i()}}}function zy(t){if(Mr.length){const e=[...new Set(Mr)].sort((n,i)=>Ta(n)-Ta(i));if(Mr.length=0,Qi){Qi.push(...e);return}for(Qi=e,Vo=0;Vo<Qi.length;Vo++)Qi[Vo]();Qi=null,Vo=0}}const Ta=t=>t.id==null?1/0:t.id,Bx=(t,e)=>{const n=Ta(t)-Ta(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function jy(t){hh=!1,Ia=!0,Xt.sort(Bx);try{for(ti=0;ti<Xt.length;ti++){const e=Xt[ti];e&&e.active!==!1&&co(e,null,14)}}finally{ti=0,Xt.length=0,zy(),Ia=!1,qf=null,(Xt.length||Mr.length)&&jy()}}function zx(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||et;let o=n;const r=e.startsWith("update:"),s=r&&e.slice(7);if(s&&s in i){const d="".concat(s==="modelValue"?"model":s,"Modifiers"),{number:h,trim:p}=i[d]||et;p&&(o=n.map(g=>vt(g)?g.trim():g)),h&&(o=n.map(ox))}let a,l=i[a=gd(e)]||i[a=gd(ci(e))];!l&&r&&(l=i[a=gd(dr(e))]),l&&$n(l,t,6,o);const u=i[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,$n(u,t,6,o)}}function Hy(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const r=t.emits;let s={},a=!1;if(!we(t)){const l=u=>{const d=Hy(u,e,!0);d&&(a=!0,Ot(s,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(ot(t)&&i.set(t,null),null):(be(r)?r.forEach(l=>s[l]=null):Ot(s,r),ot(t)&&i.set(t,s),s)}function gu(t,e){return!t||!lu(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,dr(e))||De(t,e))}let on=null,qy=null;function Ec(t){const e=on;return on=t,qy=t&&t.type.__scopeId||null,e}function ge(t,e=on,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&zg(-1);const r=Ec(e);let s;try{s=t(...o)}finally{Ec(r),i._d&&zg(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function vd(t){const{type:e,vnode:n,proxy:i,withProxy:o,propsOptions:[r],slots:s,attrs:a,emit:l,render:u,renderCache:d,props:h,data:p,setupState:g,ctx:x,inheritAttrs:E}=t,S=Ec(t);let T,A;try{if(n.shapeFlag&4){const L=o||i,V=L;T=Zn(u.call(V,L,d,h,g,p,x)),A=a}else{const L=e;T=Zn(L.length>1?L(h,{attrs:a,slots:s,emit:l}):L(h,null)),A=e.props?a:jx(a)}}catch(L){la.length=0,mu(L,t,1),T=ue(Xo)}let O=T;if(A&&E!==!1){const L=Object.keys(A),{shapeFlag:V}=O;L.length&&V&7&&(r&&L.some(Df)&&(A=Hx(A,r)),O=Kr(O,A,!1,!0))}return n.dirs&&(O=Kr(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(n.dirs):n.dirs),n.transition&&(O.transition=n.transition),T=O,Ec(S),T}const jx=t=>{let e;for(const n in t)(n==="class"||n==="style"||lu(n))&&((e||(e={}))[n]=t[n]);return e},Hx=(t,e)=>{const n={};for(const i in t)(!Df(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function qx(t,e,n){const{props:i,children:o,component:r}=t,{props:s,children:a,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Rg(i,s,u):!!s;if(l&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const p=d[h];if(s[p]!==i[p]&&!gu(u,p))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?Rg(i,s,u):!0:!!s;return!1}function Rg(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const r=i[o];if(e[r]!==t[r]&&!gu(n,r))return!0}return!1}function Wx({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Gx="components";function Kx(t,e){return Xx(Gx,t,!0,e)||t}const Yx=Symbol.for("v-ndc");function Xx(t,e,n=!0,i=!1){const o=on||Mt;if(o){const r=o.type;{const a=KC(r,!1);if(a&&(a===e||a===ci(e)||a===du(ci(e))))return r}const s=Pg(o[t]||r[t],e)||Pg(o.appContext[t],e);return!s&&i?r:s}}function Pg(t,e){return t&&(t[e]||t[ci(e)]||t[du(ci(e))])}const Qx=t=>t.__isSuspense;function Jx(t,e){e&&e.pendingBranch?be(t)?e.effects.push(...t):e.effects.push(t):Ux(t)}const Zx=Symbol.for("v-scx"),eC=()=>Pt(Zx),$l={};function Vr(t,e,n){return Wy(t,e,n)}function Wy(t,e,{immediate:n,deep:i,flush:o,once:r,onTrack:s,onTrigger:a}=et){if(e&&r){const D=e;e=(...y)=>{D(...y),V()}}const l=Mt,u=D=>i===!0?D:Fo(D,i===!1?1:void 0);let d,h=!1,p=!1;if(dn(t)?(d=()=>t.value,h=wc(t)):oa(t)?(d=()=>u(t),h=!0):be(t)?(p=!0,h=t.some(D=>oa(D)||wc(D)),d=()=>t.map(D=>{if(dn(D))return D.value;if(oa(D))return u(D);if(we(D))return co(D,l,2)})):we(t)?e?d=()=>co(t,l,2):d=()=>(g&&g(),$n(t,l,3,[x])):d=Tn,e&&i){const D=d;d=()=>Fo(D())}let g,x=D=>{g=O.onStop=()=>{co(D,l,4),g=O.onStop=void 0}},E;if(vu)if(x=Tn,e?n&&$n(e,l,3,[d(),p?[]:void 0,x]):d(),o==="sync"){const D=eC();E=D.__watcherHandles||(D.__watcherHandles=[])}else return Tn;let S=p?new Array(t.length).fill($l):$l;const T=()=>{if(!(!O.active||!O.dirty))if(e){const D=O.run();(i||h||(p?D.some((y,b)=>_o(y,S[b])):_o(D,S)))&&(g&&g(),$n(e,l,3,[D,S===$l?void 0:p&&S[0]===$l?[]:S,x]),S=D)}else O.run()};T.allowRecurse=!!e;let A;o==="sync"?A=T:o==="post"?A=()=>an(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),A=()=>Wf(T));const O=new Ff(d,Tn,A),L=fx(),V=()=>{O.stop(),L&&Lf(L.effects,O)};return e?n?T():S=O.run():o==="post"?an(O.run.bind(O),l&&l.suspense):O.run(),E&&E.push(V),V}function tC(t,e,n){const i=this.proxy,o=vt(t)?t.includes(".")?Gy(i,t):()=>i[t]:t.bind(i,i);let r;we(e)?r=e:(r=e.handler,n=e);const s=Ya(this),a=Wy(o,r.bind(i),n);return s(),a}function Gy(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Fo(t,e=1/0,n){if(e<=0||!ot(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,dn(t))Fo(t.value,e,n);else if(be(t))for(let i=0;i<t.length;i++)Fo(t[i],e,n);else if(hy(t)||Lr(t))t.forEach(i=>{Fo(i,e,n)});else if(my(t))for(const i in t)Fo(t[i],e,n);return t}function nC(t,e){if(on===null)return t;const n=yu(on)||on.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[r,s,a,l=et]=e[o];r&&(we(r)&&(r={mounted:r,updated:r}),r.deep&&Fo(s),i.push({dir:r,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Oo(t,e,n,i){const o=t.dirs,r=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];r&&(a.oldValue=r[s].value);let l=a.dir[i];l&&(Io(),$n(l,n,8,[t.el,a,t,e]),To())}}/*! #__NO_SIDE_EFFECTS__ */function Gn(t,e){return we(t)?Ot({name:t.name},e,{setup:t}):t}const lc=t=>!!t.type.__asyncLoader,Ky=t=>t.type.__isKeepAlive;function iC(t,e){Yy(t,"a",e)}function oC(t,e){Yy(t,"da",e)}function Yy(t,e,n=Mt){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(bu(e,i,n),n){let o=n.parent;for(;o&&o.parent;)Ky(o.parent.vnode)&&rC(i,e,n,o),o=o.parent}}function rC(t,e,n,i){const o=bu(e,t,i,!0);Kf(()=>{Lf(i[e],o)},n)}function bu(t,e,n=Mt,i=!1){if(n){const o=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;Io();const a=Ya(n),l=$n(e,n,t,s);return a(),To(),l});return i?o.unshift(r):o.push(r),r}}const Vi=t=>(e,n=Mt)=>(!vu||t==="sp")&&bu(t,(...i)=>e(...i),n),sC=Vi("bm"),Gf=Vi("m"),aC=Vi("bu"),lC=Vi("u"),cC=Vi("bum"),Kf=Vi("um"),uC=Vi("sp"),dC=Vi("rtg"),hC=Vi("rtc");function fC(t,e=Mt){bu("ec",t,e)}function pC(t,e,n,i){let o;const r=n;if(be(t)||vt(t)){o=new Array(t.length);for(let s=0,a=t.length;s<a;s++)o[s]=e(t[s],s,void 0,r)}else if(typeof t=="number"){o=new Array(t);for(let s=0;s<t;s++)o[s]=e(s+1,s,void 0,r)}else if(ot(t))if(t[Symbol.iterator])o=Array.from(t,(s,a)=>e(s,a,void 0,r));else{const s=Object.keys(t);o=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];o[a]=e(t[u],u,a,r)}}else o=[];return o}const fh=t=>t?u0(t)?yu(t)||t.proxy:fh(t.parent):null,ra=Ot(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fh(t.parent),$root:t=>fh(t.root),$emit:t=>t.emit,$options:t=>Yf(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Wf(t.update)}),$nextTick:t=>t.n||(t.n=Uy.bind(t.proxy)),$watch:t=>tC.bind(t)}),yd=(t,e)=>t!==et&&!t.__isScriptSetup&&De(t,e),mC={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:o,props:r,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=s[e];if(g!==void 0)switch(g){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return r[e]}else{if(yd(i,e))return s[e]=1,i[e];if(o!==et&&De(o,e))return s[e]=2,o[e];if((u=t.propsOptions[0])&&De(u,e))return s[e]=3,r[e];if(n!==et&&De(n,e))return s[e]=4,n[e];ph&&(s[e]=0)}}const d=ra[e];let h,p;if(d)return e==="$attrs"&&un(t.attrs,"get",""),d(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==et&&De(n,e))return s[e]=4,n[e];if(p=l.config.globalProperties,De(p,e))return p[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:r}=t;return yd(o,e)?(o[e]=n,!0):i!==et&&De(i,e)?(i[e]=n,!0):De(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:r}},s){let a;return!!n[s]||t!==et&&De(t,s)||yd(e,s)||(a=r[0])&&De(a,s)||De(i,s)||De(ra,s)||De(o.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:De(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Og(t){return be(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ph=!0;function gC(t){const e=Yf(t),n=t.proxy,i=t.ctx;ph=!1,e.beforeCreate&&Ng(e.beforeCreate,t,"bc");const{data:o,computed:r,methods:s,watch:a,provide:l,inject:u,created:d,beforeMount:h,mounted:p,beforeUpdate:g,updated:x,activated:E,deactivated:S,beforeDestroy:T,beforeUnmount:A,destroyed:O,unmounted:L,render:V,renderTracked:D,renderTriggered:y,errorCaptured:b,serverPrefetch:_,expose:k,inheritAttrs:C,components:P,directives:w,filters:Le}=e;if(u&&bC(u,i,null),s)for(const _e in s){const ie=s[_e];we(ie)&&(i[_e]=ie.bind(n))}if(o){const _e=o.call(n,n);ot(_e)&&(t.data=pu(_e))}if(ph=!0,r)for(const _e in r){const ie=r[_e],dt=we(ie)?ie.bind(n,n):we(ie.get)?ie.get.bind(n,n):Tn,Bt=!we(ie)&&we(ie.set)?ie.set.bind(n):Tn,Zt=En({get:dt,set:Bt});Object.defineProperty(i,_e,{enumerable:!0,configurable:!0,get:()=>Zt.value,set:Ae=>Zt.value=Ae})}if(a)for(const _e in a)Xy(a[_e],i,n,_e);if(l){const _e=we(l)?l.call(n):l;Reflect.ownKeys(_e).forEach(ie=>{Fr(ie,_e[ie])})}d&&Ng(d,t,"c");function Ie(_e,ie){be(ie)?ie.forEach(dt=>_e(dt.bind(n))):ie&&_e(ie.bind(n))}if(Ie(sC,h),Ie(Gf,p),Ie(aC,g),Ie(lC,x),Ie(iC,E),Ie(oC,S),Ie(fC,b),Ie(hC,D),Ie(dC,y),Ie(cC,A),Ie(Kf,L),Ie(uC,_),be(k))if(k.length){const _e=t.exposed||(t.exposed={});k.forEach(ie=>{Object.defineProperty(_e,ie,{get:()=>n[ie],set:dt=>n[ie]=dt})})}else t.exposed||(t.exposed={});V&&t.render===Tn&&(t.render=V),C!=null&&(t.inheritAttrs=C),P&&(t.components=P),w&&(t.directives=w)}function bC(t,e,n=Tn){be(t)&&(t=mh(t));for(const i in t){const o=t[i];let r;ot(o)?"default"in o?r=Pt(o.from||i,o.default,!0):r=Pt(o.from||i):r=Pt(o),dn(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:s=>r.value=s}):e[i]=r}}function Ng(t,e,n){$n(be(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Xy(t,e,n,i){const o=i.includes(".")?Gy(n,i):()=>n[i];if(vt(t)){const r=e[t];we(r)&&Vr(o,r)}else if(we(t))Vr(o,t.bind(n));else if(ot(t))if(be(t))t.forEach(r=>Xy(r,e,n,i));else{const r=we(t.handler)?t.handler.bind(n):e[t.handler];we(r)&&Vr(o,r,t)}}function Yf(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:r,config:{optionMergeStrategies:s}}=t.appContext,a=r.get(e);let l;return a?l=a:!o.length&&!n&&!i?l=e:(l={},o.length&&o.forEach(u=>Ic(l,u,s,!0)),Ic(l,e,s)),ot(e)&&r.set(e,l),l}function Ic(t,e,n,i=!1){const{mixins:o,extends:r}=e;r&&Ic(t,r,n,!0),o&&o.forEach(s=>Ic(t,s,n,!0));for(const s in e)if(!(i&&s==="expose")){const a=_C[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const _C={data:Dg,props:Lg,emits:Lg,methods:Ks,computed:Ks,beforeCreate:tn,created:tn,beforeMount:tn,mounted:tn,beforeUpdate:tn,updated:tn,beforeDestroy:tn,beforeUnmount:tn,destroyed:tn,unmounted:tn,activated:tn,deactivated:tn,errorCaptured:tn,serverPrefetch:tn,components:Ks,directives:Ks,watch:yC,provide:Dg,inject:vC};function Dg(t,e){return e?t?function(){return Ot(we(t)?t.call(this,this):t,we(e)?e.call(this,this):e)}:e:t}function vC(t,e){return Ks(mh(t),mh(e))}function mh(t){if(be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function tn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ks(t,e){return t?Ot(Object.create(null),t,e):e}function Lg(t,e){return t?be(t)&&be(e)?[...new Set([...t,...e])]:Ot(Object.create(null),Og(t),Og(e!=null?e:{})):e}function yC(t,e){if(!t)return e;if(!e)return t;const n=Ot(Object.create(null),t);for(const i in e)n[i]=tn(t[i],e[i]);return n}function Qy(){return{app:null,config:{isNativeTag:Zk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wC=0;function EC(t,e){return function(i,o=null){we(i)||(i=Ot({},i)),o!=null&&!ot(o)&&(o=null);const r=Qy(),s=new WeakSet;let a=!1;const l=r.app={_uid:wC++,_component:i,_props:o,_container:null,_context:r,_instance:null,version:XC,get config(){return r.config},set config(u){},use(u,...d){return s.has(u)||(u&&we(u.install)?(s.add(u),u.install(l,...d)):we(u)&&(s.add(u),u(l,...d))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,d){return d?(r.components[u]=d,l):r.components[u]},directive(u,d){return d?(r.directives[u]=d,l):r.directives[u]},mount(u,d,h){if(!a){const p=ue(i,o);return p.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),d&&e?e(p,u):t(p,u,h),a=!0,l._container=u,u.__vue_app__=l,yu(p.component)||p.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,d){return r.provides[u]=d,l},runWithContext(u){const d=sa;sa=l;try{return u()}finally{sa=d}}};return l}}let sa=null;function Fr(t,e){if(Mt){let n=Mt.provides;const i=Mt.parent&&Mt.parent.provides;i===n&&(n=Mt.provides=Object.create(i)),n[t]=e}}function Pt(t,e,n=!1){const i=Mt||on;if(i||sa){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:sa._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&we(e)?e.call(i&&i.proxy):e}}const Jy={},Zy=()=>Object.create(Jy),e0=t=>Object.getPrototypeOf(t)===Jy;function IC(t,e,n,i=!1){const o={},r=Zy();t.propsDefaults=Object.create(null),t0(t,e,o,r);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);n?t.props=i?o:Oy(o):t.type.props?t.props=o:t.props=r,t.attrs=r}function TC(t,e,n,i){const{props:o,attrs:r,vnode:{patchFlag:s}}=t,a=ze(o),[l]=t.propsOptions;let u=!1;if((i||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let p=d[h];if(gu(t.emitsOptions,p))continue;const g=e[p];if(l)if(De(r,p))g!==r[p]&&(r[p]=g,u=!0);else{const x=ci(p);o[x]=gh(l,a,x,g,t,!1)}else g!==r[p]&&(r[p]=g,u=!0)}}}else{t0(t,e,o,r)&&(u=!0);let d;for(const h in a)(!e||!De(e,h)&&((d=dr(h))===h||!De(e,d)))&&(l?n&&(n[h]!==void 0||n[d]!==void 0)&&(o[h]=gh(l,a,h,void 0,t,!0)):delete o[h]);if(r!==a)for(const h in r)(!e||!De(e,h))&&(delete r[h],u=!0)}u&&Si(t.attrs,"set","")}function t0(t,e,n,i){const[o,r]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(ia(l))continue;const u=e[l];let d;o&&De(o,d=ci(l))?!r||!r.includes(d)?n[d]=u:(a||(a={}))[d]=u:gu(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,s=!0)}if(r){const l=ze(n),u=a||et;for(let d=0;d<r.length;d++){const h=r[d];n[h]=gh(o,l,h,u[h],t,!De(u,h))}}return s}function gh(t,e,n,i,o,r){const s=t[n];if(s!=null){const a=De(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&we(l)){const{propsDefaults:u}=o;if(n in u)i=u[n];else{const d=Ya(o);i=u[n]=l.call(null,e),d()}}else i=l}s[0]&&(r&&!a?i=!1:s[1]&&(i===""||i===dr(n))&&(i=!0))}return i}function n0(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const r=t.props,s={},a=[];let l=!1;if(!we(t)){const d=h=>{l=!0;const[p,g]=n0(h,e,!0);Ot(s,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!l)return ot(t)&&i.set(t,Dr),Dr;if(be(r))for(let d=0;d<r.length;d++){const h=ci(r[d]);Mg(h)&&(s[h]=et)}else if(r)for(const d in r){const h=ci(d);if(Mg(h)){const p=r[d],g=s[h]=be(p)||we(p)?{type:p}:Ot({},p);if(g){const x=$g(Boolean,g.type),E=$g(String,g.type);g[0]=x>-1,g[1]=E<0||x<E,(x>-1||De(g,"default"))&&a.push(h)}}}const u=[s,a];return ot(t)&&i.set(t,u),u}function Mg(t){return t[0]!=="$"&&!ia(t)}function Vg(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Fg(t,e){return Vg(t)===Vg(e)}function $g(t,e){return be(e)?e.findIndex(n=>Fg(n,t)):we(e)&&Fg(e,t)?0:-1}const i0=t=>t[0]==="_"||t==="$stable",Xf=t=>be(t)?t.map(Zn):[Zn(t)],kC=(t,e,n)=>{if(e._n)return e;const i=ge((...o)=>Xf(e(...o)),n);return i._c=!1,i},o0=(t,e,n)=>{const i=t._ctx;for(const o in t){if(i0(o))continue;const r=t[o];if(we(r))e[o]=kC(o,r,i);else if(r!=null){const s=Xf(r);e[o]=()=>s}}},r0=(t,e)=>{const n=Xf(e);t.slots.default=()=>n},xC=(t,e)=>{const n=t.slots=Zy();if(t.vnode.shapeFlag&32){const i=e._;i?(Ot(n,e),gy(n,"_",i,!0)):o0(e,n)}else e&&r0(t,e)},CC=(t,e,n)=>{const{vnode:i,slots:o}=t;let r=!0,s=et;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(Ot(o,e),!n&&a===1&&delete o._):(r=!e.$stable,o0(e,o)),s=e}else e&&(r0(t,e),s={default:1});if(r)for(const a in o)!i0(a)&&s[a]==null&&delete o[a]};function bh(t,e,n,i,o=!1){if(be(t)){t.forEach((p,g)=>bh(p,e&&(be(e)?e[g]:e),n,i,o));return}if(lc(i)&&!o)return;const r=i.shapeFlag&4?yu(i.component)||i.component.proxy:i.el,s=o?null:r,{i:a,r:l}=t,u=e&&e.r,d=a.refs===et?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(vt(u)?(d[u]=null,De(h,u)&&(h[u]=null)):dn(u)&&(u.value=null)),we(l))co(l,a,12,[s,d]);else{const p=vt(l),g=dn(l);if(p||g){const x=()=>{if(t.f){const E=p?De(h,l)?h[l]:d[l]:l.value;o?be(E)&&Lf(E,r):be(E)?E.includes(r)||E.push(r):p?(d[l]=[r],De(h,l)&&(h[l]=d[l])):(l.value=[r],t.k&&(d[t.k]=l.value))}else p?(d[l]=s,De(h,l)&&(h[l]=s)):g&&(l.value=s,t.k&&(d[t.k]=s))};s?(x.id=-1,an(x,n)):x()}}}const an=Jx;function SC(t){return AC(t)}function AC(t,e){const n=by();n.__VUE__=!0;const{insert:i,remove:o,patchProp:r,createElement:s,createText:a,createComment:l,setText:u,setElementText:d,parentNode:h,nextSibling:p,setScopeId:g=Tn,insertStaticContent:x}=t,E=(I,R,M,z=null,U=null,K=null,Q=void 0,G=null,Y=!!R.dynamicChildren)=>{if(I===R)return;I&&!Fs(I,R)&&(z=B(I),Ae(I,U,K,!0),I=null),R.patchFlag===-2&&(Y=!1,R.dynamicChildren=null);const{type:q,ref:ee,shapeFlag:de}=R;switch(q){case _u:S(I,R,M,z);break;case Xo:T(I,R,M,z);break;case Ed:I==null&&A(R,M,z,Q);break;case Jn:P(I,R,M,z,U,K,Q,G,Y);break;default:de&1?V(I,R,M,z,U,K,Q,G,Y):de&6?w(I,R,M,z,U,K,Q,G,Y):(de&64||de&128)&&q.process(I,R,M,z,U,K,Q,G,Y,oe)}ee!=null&&U&&bh(ee,I&&I.ref,K,R||I,!R)},S=(I,R,M,z)=>{if(I==null)i(R.el=a(R.children),M,z);else{const U=R.el=I.el;R.children!==I.children&&u(U,R.children)}},T=(I,R,M,z)=>{I==null?i(R.el=l(R.children||""),M,z):R.el=I.el},A=(I,R,M,z)=>{[I.el,I.anchor]=x(I.children,R,M,z,I.el,I.anchor)},O=({el:I,anchor:R},M,z)=>{let U;for(;I&&I!==R;)U=p(I),i(I,M,z),I=U;i(R,M,z)},L=({el:I,anchor:R})=>{let M;for(;I&&I!==R;)M=p(I),o(I),I=M;o(R)},V=(I,R,M,z,U,K,Q,G,Y)=>{R.type==="svg"?Q="svg":R.type==="math"&&(Q="mathml"),I==null?D(R,M,z,U,K,Q,G,Y):_(I,R,U,K,Q,G,Y)},D=(I,R,M,z,U,K,Q,G)=>{let Y,q;const{props:ee,shapeFlag:de,transition:ce,dirs:re}=I;if(Y=I.el=s(I.type,K,ee&&ee.is,ee),de&8?d(Y,I.children):de&16&&b(I.children,Y,null,z,U,wd(I,K),Q,G),re&&Oo(I,null,z,"created"),y(Y,I,I.scopeId,Q,z),ee){for(const Te in ee)Te!=="value"&&!ia(Te)&&r(Y,Te,null,ee[Te],K,I.children,z,U,ft);"value"in ee&&r(Y,"value",null,ee.value,K),(q=ee.onVnodeBeforeMount)&&Qn(q,z,I)}re&&Oo(I,null,z,"beforeMount");const he=RC(U,ce);he&&ce.beforeEnter(Y),i(Y,R,M),((q=ee&&ee.onVnodeMounted)||he||re)&&an(()=>{q&&Qn(q,z,I),he&&ce.enter(Y),re&&Oo(I,null,z,"mounted")},U)},y=(I,R,M,z,U)=>{if(M&&g(I,M),z)for(let K=0;K<z.length;K++)g(I,z[K]);if(U){let K=U.subTree;if(R===K){const Q=U.vnode;y(I,Q,Q.scopeId,Q.slotScopeIds,U.parent)}}},b=(I,R,M,z,U,K,Q,G,Y=0)=>{for(let q=Y;q<I.length;q++){const ee=I[q]=G?Ji(I[q]):Zn(I[q]);E(null,ee,R,M,z,U,K,Q,G)}},_=(I,R,M,z,U,K,Q)=>{const G=R.el=I.el;let{patchFlag:Y,dynamicChildren:q,dirs:ee}=R;Y|=I.patchFlag&16;const de=I.props||et,ce=R.props||et;let re;if(M&&No(M,!1),(re=ce.onVnodeBeforeUpdate)&&Qn(re,M,R,I),ee&&Oo(R,I,M,"beforeUpdate"),M&&No(M,!0),q?k(I.dynamicChildren,q,G,M,z,wd(R,U),K):Q||ie(I,R,G,null,M,z,wd(R,U),K,!1),Y>0){if(Y&16)C(G,R,de,ce,M,z,U);else if(Y&2&&de.class!==ce.class&&r(G,"class",null,ce.class,U),Y&4&&r(G,"style",de.style,ce.style,U),Y&8){const he=R.dynamicProps;for(let Te=0;Te<he.length;Te++){const Me=he[Te],Xe=de[Me],pt=ce[Me];(pt!==Xe||Me==="value")&&r(G,Me,Xe,pt,U,I.children,M,z,ft)}}Y&1&&I.children!==R.children&&d(G,R.children)}else!Q&&q==null&&C(G,R,de,ce,M,z,U);((re=ce.onVnodeUpdated)||ee)&&an(()=>{re&&Qn(re,M,R,I),ee&&Oo(R,I,M,"updated")},z)},k=(I,R,M,z,U,K,Q)=>{for(let G=0;G<R.length;G++){const Y=I[G],q=R[G],ee=Y.el&&(Y.type===Jn||!Fs(Y,q)||Y.shapeFlag&70)?h(Y.el):M;E(Y,q,ee,null,z,U,K,Q,!0)}},C=(I,R,M,z,U,K,Q)=>{if(M!==z){if(M!==et)for(const G in M)!ia(G)&&!(G in z)&&r(I,G,M[G],null,Q,R.children,U,K,ft);for(const G in z){if(ia(G))continue;const Y=z[G],q=M[G];Y!==q&&G!=="value"&&r(I,G,q,Y,Q,R.children,U,K,ft)}"value"in z&&r(I,"value",M.value,z.value,Q)}},P=(I,R,M,z,U,K,Q,G,Y)=>{const q=R.el=I?I.el:a(""),ee=R.anchor=I?I.anchor:a("");let{patchFlag:de,dynamicChildren:ce,slotScopeIds:re}=R;re&&(G=G?G.concat(re):re),I==null?(i(q,M,z),i(ee,M,z),b(R.children||[],M,ee,U,K,Q,G,Y)):de>0&&de&64&&ce&&I.dynamicChildren?(k(I.dynamicChildren,ce,M,U,K,Q,G),(R.key!=null||U&&R===U.subTree)&&Qf(I,R,!0)):ie(I,R,M,ee,U,K,Q,G,Y)},w=(I,R,M,z,U,K,Q,G,Y)=>{R.slotScopeIds=G,I==null?R.shapeFlag&512?U.ctx.activate(R,M,z,Q,Y):Le(R,M,z,U,K,Q,Y):Ue(I,R,Y)},Le=(I,R,M,z,U,K,Q)=>{const G=I.component=jC(I,z,U);if(Ky(I)&&(G.ctx.renderer=oe),HC(G),G.asyncDep){if(U&&U.registerDep(G,Ie),!I.el){const Y=G.subTree=ue(Xo);T(null,Y,R,M)}}else Ie(G,I,R,M,U,K,Q)},Ue=(I,R,M)=>{const z=R.component=I.component;if(qx(I,R,M))if(z.asyncDep&&!z.asyncResolved){_e(z,R,M);return}else z.next=R,$x(z.update),z.effect.dirty=!0,z.update();else R.el=I.el,z.vnode=R},Ie=(I,R,M,z,U,K,Q)=>{const G=()=>{if(I.isMounted){let{next:ee,bu:de,u:ce,parent:re,vnode:he}=I;{const zt=s0(I);if(zt){ee&&(ee.el=he.el,_e(I,ee,Q)),zt.asyncDep.then(()=>{I.isUnmounted||G()});return}}let Te=ee,Me;No(I,!1),ee?(ee.el=he.el,_e(I,ee,Q)):ee=he,de&&bd(de),(Me=ee.props&&ee.props.onVnodeBeforeUpdate)&&Qn(Me,re,ee,he),No(I,!0);const Xe=vd(I),pt=I.subTree;I.subTree=Xe,E(pt,Xe,h(pt.el),B(pt),I,U,K),ee.el=Xe.el,Te===null&&Wx(I,Xe.el),ce&&an(ce,U),(Me=ee.props&&ee.props.onVnodeUpdated)&&an(()=>Qn(Me,re,ee,he),U)}else{let ee;const{el:de,props:ce}=R,{bm:re,m:he,parent:Te}=I,Me=lc(R);if(No(I,!1),re&&bd(re),!Me&&(ee=ce&&ce.onVnodeBeforeMount)&&Qn(ee,Te,R),No(I,!0),de&&Fe){const Xe=()=>{I.subTree=vd(I),Fe(de,I.subTree,I,U,null)};Me?R.type.__asyncLoader().then(()=>!I.isUnmounted&&Xe()):Xe()}else{const Xe=I.subTree=vd(I);E(null,Xe,M,z,I,U,K),R.el=Xe.el}if(he&&an(he,U),!Me&&(ee=ce&&ce.onVnodeMounted)){const Xe=R;an(()=>Qn(ee,Te,Xe),U)}(R.shapeFlag&256||Te&&lc(Te.vnode)&&Te.vnode.shapeFlag&256)&&I.a&&an(I.a,U),I.isMounted=!0,R=M=z=null}},Y=I.effect=new Ff(G,Tn,()=>Wf(q),I.scope),q=I.update=()=>{Y.dirty&&Y.run()};q.id=I.uid,No(I,!0),q()},_e=(I,R,M)=>{R.component=I;const z=I.vnode.props;I.vnode=R,I.next=null,TC(I,R.props,z,M),CC(I,R.children,M),Io(),Ag(I),To()},ie=(I,R,M,z,U,K,Q,G,Y=!1)=>{const q=I&&I.children,ee=I?I.shapeFlag:0,de=R.children,{patchFlag:ce,shapeFlag:re}=R;if(ce>0){if(ce&128){Bt(q,de,M,z,U,K,Q,G,Y);return}else if(ce&256){dt(q,de,M,z,U,K,Q,G,Y);return}}re&8?(ee&16&&ft(q,U,K),de!==q&&d(M,de)):ee&16?re&16?Bt(q,de,M,z,U,K,Q,G,Y):ft(q,U,K,!0):(ee&8&&d(M,""),re&16&&b(de,M,z,U,K,Q,G,Y))},dt=(I,R,M,z,U,K,Q,G,Y)=>{I=I||Dr,R=R||Dr;const q=I.length,ee=R.length,de=Math.min(q,ee);let ce;for(ce=0;ce<de;ce++){const re=R[ce]=Y?Ji(R[ce]):Zn(R[ce]);E(I[ce],re,M,null,U,K,Q,G,Y)}q>ee?ft(I,U,K,!0,!1,de):b(R,M,z,U,K,Q,G,Y,de)},Bt=(I,R,M,z,U,K,Q,G,Y)=>{let q=0;const ee=R.length;let de=I.length-1,ce=ee-1;for(;q<=de&&q<=ce;){const re=I[q],he=R[q]=Y?Ji(R[q]):Zn(R[q]);if(Fs(re,he))E(re,he,M,null,U,K,Q,G,Y);else break;q++}for(;q<=de&&q<=ce;){const re=I[de],he=R[ce]=Y?Ji(R[ce]):Zn(R[ce]);if(Fs(re,he))E(re,he,M,null,U,K,Q,G,Y);else break;de--,ce--}if(q>de){if(q<=ce){const re=ce+1,he=re<ee?R[re].el:z;for(;q<=ce;)E(null,R[q]=Y?Ji(R[q]):Zn(R[q]),M,he,U,K,Q,G,Y),q++}}else if(q>ce)for(;q<=de;)Ae(I[q],U,K,!0),q++;else{const re=q,he=q,Te=new Map;for(q=he;q<=ce;q++){const Dt=R[q]=Y?Ji(R[q]):Zn(R[q]);Dt.key!=null&&Te.set(Dt.key,q)}let Me,Xe=0;const pt=ce-he+1;let zt=!1,pi=0;const Kn=new Array(pt);for(q=0;q<pt;q++)Kn[q]=0;for(q=re;q<=de;q++){const Dt=I[q];if(Xe>=pt){Ae(Dt,U,K,!0);continue}let rn;if(Dt.key!=null)rn=Te.get(Dt.key);else for(Me=he;Me<=ce;Me++)if(Kn[Me-he]===0&&Fs(Dt,R[Me])){rn=Me;break}rn===void 0?Ae(Dt,U,K,!0):(Kn[rn-he]=q+1,rn>=pi?pi=rn:zt=!0,E(Dt,R[rn],M,null,U,K,Q,G,Y),Xe++)}const Bi=zt?PC(Kn):Dr;for(Me=Bi.length-1,q=pt-1;q>=0;q--){const Dt=he+q,rn=R[Dt],zi=Dt+1<ee?R[Dt+1].el:z;Kn[q]===0?E(null,rn,M,zi,U,K,Q,G,Y):zt&&(Me<0||q!==Bi[Me]?Zt(rn,M,zi,2):Me--)}}},Zt=(I,R,M,z,U=null)=>{const{el:K,type:Q,transition:G,children:Y,shapeFlag:q}=I;if(q&6){Zt(I.component.subTree,R,M,z);return}if(q&128){I.suspense.move(R,M,z);return}if(q&64){Q.move(I,R,M,oe);return}if(Q===Jn){i(K,R,M);for(let de=0;de<Y.length;de++)Zt(Y[de],R,M,z);i(I.anchor,R,M);return}if(Q===Ed){O(I,R,M);return}if(z!==2&&q&1&&G)if(z===0)G.beforeEnter(K),i(K,R,M),an(()=>G.enter(K),U);else{const{leave:de,delayLeave:ce,afterLeave:re}=G,he=()=>i(K,R,M),Te=()=>{de(K,()=>{he(),re&&re()})};ce?ce(K,he,Te):Te()}else i(K,R,M)},Ae=(I,R,M,z=!1,U=!1)=>{const{type:K,props:Q,ref:G,children:Y,dynamicChildren:q,shapeFlag:ee,patchFlag:de,dirs:ce}=I;if(G!=null&&bh(G,null,M,I,!0),ee&256){R.ctx.deactivate(I);return}const re=ee&1&&ce,he=!lc(I);let Te;if(he&&(Te=Q&&Q.onVnodeBeforeUnmount)&&Qn(Te,R,I),ee&6)fn(I.component,M,z);else{if(ee&128){I.suspense.unmount(M,z);return}re&&Oo(I,null,R,"beforeUnmount"),ee&64?I.type.remove(I,R,M,U,oe,z):q&&(K!==Jn||de>0&&de&64)?ft(q,R,M,!1,!0):(K===Jn&&de&384||!U&&ee&16)&&ft(Y,R,M),z&&Ye(I)}(he&&(Te=Q&&Q.onVnodeUnmounted)||re)&&an(()=>{Te&&Qn(Te,R,I),re&&Oo(I,null,R,"unmounted")},M)},Ye=I=>{const{type:R,el:M,anchor:z,transition:U}=I;if(R===Jn){ht(M,z);return}if(R===Ed){L(I);return}const K=()=>{o(M),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(I.shapeFlag&1&&U&&!U.persisted){const{leave:Q,delayLeave:G}=U,Y=()=>Q(M,K);G?G(I.el,K,Y):Y()}else K()},ht=(I,R)=>{let M;for(;I!==R;)M=p(I),o(I),I=M;o(R)},fn=(I,R,M)=>{const{bum:z,scope:U,update:K,subTree:Q,um:G}=I;z&&bd(z),U.stop(),K&&(K.active=!1,Ae(Q,I,R,M)),G&&an(G,R),an(()=>{I.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},ft=(I,R,M,z=!1,U=!1,K=0)=>{for(let Q=K;Q<I.length;Q++)Ae(I[Q],R,M,z,U)},B=I=>I.shapeFlag&6?B(I.component.subTree):I.shapeFlag&128?I.suspense.next():p(I.anchor||I.el);let te=!1;const J=(I,R,M)=>{I==null?R._vnode&&Ae(R._vnode,null,null,!0):E(R._vnode||null,I,R,null,null,null,M),te||(te=!0,Ag(),zy(),te=!1),R._vnode=I},oe={p:E,um:Ae,m:Zt,r:Ye,mt:Le,mc:b,pc:ie,pbc:k,n:B,o:t};let ke,Fe;return{render:J,hydrate:ke,createApp:EC(J,ke)}}function wd({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function No({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function RC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Qf(t,e,n=!1){const i=t.children,o=e.children;if(be(i)&&be(o))for(let r=0;r<i.length;r++){const s=i[r];let a=o[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[r]=Ji(o[r]),a.el=s.el),n||Qf(s,a)),a.type===_u&&(a.el=s.el)}}function PC(t){const e=t.slice(),n=[0];let i,o,r,s,a;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(o=n[n.length-1],t[o]<u){e[i]=o,n.push(i);continue}for(r=0,s=n.length-1;r<s;)a=r+s>>1,t[n[a]]<u?r=a+1:s=a;u<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,s=n[r-1];r-- >0;)n[r]=s,s=e[s];return n}function s0(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:s0(e)}const OC=t=>t.__isTeleport,aa=t=>t&&(t.disabled||t.disabled===""),Ug=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Bg=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,_h=(t,e)=>{const n=t&&t.to;return vt(n)?e?e(n):null:n},NC={name:"Teleport",__isTeleport:!0,process(t,e,n,i,o,r,s,a,l,u){const{mc:d,pc:h,pbc:p,o:{insert:g,querySelector:x,createText:E,createComment:S}}=u,T=aa(e.props);let{shapeFlag:A,children:O,dynamicChildren:L}=e;if(t==null){const V=e.el=E(""),D=e.anchor=E("");g(V,n,i),g(D,n,i);const y=e.target=_h(e.props,x),b=e.targetAnchor=E("");y&&(g(b,y),s==="svg"||Ug(y)?s="svg":(s==="mathml"||Bg(y))&&(s="mathml"));const _=(k,C)=>{A&16&&d(O,k,C,o,r,s,a,l)};T?_(n,D):y&&_(y,b)}else{e.el=t.el;const V=e.anchor=t.anchor,D=e.target=t.target,y=e.targetAnchor=t.targetAnchor,b=aa(t.props),_=b?n:D,k=b?V:y;if(s==="svg"||Ug(D)?s="svg":(s==="mathml"||Bg(D))&&(s="mathml"),L?(p(t.dynamicChildren,L,_,o,r,s,a),Qf(t,e,!0)):l||h(t,e,_,k,o,r,s,a,!1),T)b?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ul(e,n,V,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const C=e.target=_h(e.props,x);C&&Ul(e,C,null,u,0)}else b&&Ul(e,D,y,u,1)}a0(e)},remove(t,e,n,i,{um:o,o:{remove:r}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:d,target:h,props:p}=t;if(h&&r(d),s&&r(u),a&16){const g=s||!aa(p);for(let x=0;x<l.length;x++){const E=l[x];o(E,e,n,g,!!E.dynamicChildren)}}},move:Ul,hydrate:DC};function Ul(t,e,n,{o:{insert:i},m:o},r=2){r===0&&i(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:d}=t,h=r===2;if(h&&i(s,e,n),(!h||aa(d))&&l&16)for(let p=0;p<u.length;p++)o(u[p],e,n,2);h&&i(a,e,n)}function DC(t,e,n,i,o,r,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const d=e.target=_h(e.props,l);if(d){const h=d._lpa||d.firstChild;if(e.shapeFlag&16)if(aa(e.props))e.anchor=u(s(t),e,a(t),n,i,o,r),e.targetAnchor=h;else{e.anchor=s(t);let p=h;for(;p;)if(p=s(p),p&&p.nodeType===8&&p.data==="teleport anchor"){e.targetAnchor=p,d._lpa=e.targetAnchor&&s(e.targetAnchor);break}u(h,e,d,n,i,o,r)}a0(e)}return e.anchor&&s(e.anchor)}const LC=NC;function a0(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Jn=Symbol.for("v-fgt"),_u=Symbol.for("v-txt"),Xo=Symbol.for("v-cmt"),Ed=Symbol.for("v-stc"),la=[];let Dn=null;function wn(t=!1){la.push(Dn=t?null:[])}function MC(){la.pop(),Dn=la[la.length-1]||null}let ka=1;function zg(t){ka+=t}function l0(t){return t.dynamicChildren=ka>0?Dn||Dr:null,MC(),ka>0&&Dn&&Dn.push(t),t}function VC(t,e,n,i,o,r){return l0(Tc(t,e,n,i,o,r,!0))}function On(t,e,n,i,o){return l0(ue(t,e,n,i,o,!0))}function vh(t){return t?t.__v_isVNode===!0:!1}function Fs(t,e){return t.type===e.type&&t.key===e.key}const c0=({key:t})=>t!=null?t:null,cc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?vt(t)||dn(t)||we(t)?{i:on,r:t,k:e,f:!!n}:t:null);function Tc(t,e=null,n=null,i=0,o=null,r=t===Jn?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&c0(e),ref:e&&cc(e),scopeId:qy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:on};return a?(Jf(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=vt(n)?8:16),ka>0&&!s&&Dn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Dn.push(l),l}const ue=FC;function FC(t,e=null,n=null,i=0,o=null,r=!1){if((!t||t===Yx)&&(t=Xo),vh(t)){const a=Kr(t,e,!0);return n&&Jf(a,n),ka>0&&!r&&Dn&&(a.shapeFlag&6?Dn[Dn.indexOf(t)]=a:Dn.push(a)),a.patchFlag|=-2,a}if(YC(t)&&(t=t.__vccOpts),e){e=$C(e);let{class:a,style:l}=e;a&&!vt(a)&&(e.class=hu(a)),ot(l)&&(Dy(l)&&!be(l)&&(l=Ot({},l)),e.style=Vf(l))}const s=vt(t)?1:Qx(t)?128:OC(t)?64:ot(t)?4:we(t)?2:0;return Tc(t,e,n,i,o,s,r,!0)}function $C(t){return t?Dy(t)||e0(t)?Ot({},t):t:null}function Kr(t,e,n=!1,i=!1){const{props:o,ref:r,patchFlag:s,children:a,transition:l}=t,u=e?UC(o||{},e):o,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&c0(u),ref:e&&e.ref?n&&r?be(r)?r.concat(cc(e)):[r,cc(e)]:cc(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Jn?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Kr(t.ssContent),ssFallback:t.ssFallback&&Kr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&(d.transition=l.clone(d)),d}function At(t=" ",e=0){return ue(_u,null,t,e)}function $s(t="",e=!1){return e?(wn(),On(Xo,null,t)):ue(Xo,null,t)}function Zn(t){return t==null||typeof t=="boolean"?ue(Xo):be(t)?ue(Jn,null,t.slice()):typeof t=="object"?Ji(t):ue(_u,null,String(t))}function Ji(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Kr(t)}function Jf(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(be(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),Jf(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!e0(e)?e._ctx=on:o===3&&on&&(on.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else we(e)?(e={default:e,_ctx:on},n=32):(e=String(e),i&64?(n=16,e=[At(e)]):n=8);t.children=e,t.shapeFlag|=n}function UC(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=hu([e.class,i.class]));else if(o==="style")e.style=Vf([e.style,i.style]);else if(lu(o)){const r=e[o],s=i[o];s&&r!==s&&!(be(r)&&r.includes(s))&&(e[o]=r?[].concat(r,s):s)}else o!==""&&(e[o]=i[o])}return e}function Qn(t,e,n,i=null){$n(t,e,7,[n,i])}const BC=Qy();let zC=0;function jC(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||BC,r={uid:zC++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new yy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:n0(i,o),emitsOptions:Hy(i,o),emit:null,emitted:null,propsDefaults:et,inheritAttrs:i.inheritAttrs,ctx:et,data:et,props:et,attrs:et,slots:et,refs:et,setupState:et,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=zx.bind(null,r),t.ce&&t.ce(r),r}let Mt=null;const Zf=()=>Mt||on;let kc,yh;{const t=by(),e=(n,i)=>{let o;return(o=t[n])||(o=t[n]=[]),o.push(i),r=>{o.length>1?o.forEach(s=>s(r)):o[0](r)}};kc=e("__VUE_INSTANCE_SETTERS__",n=>Mt=n),yh=e("__VUE_SSR_SETTERS__",n=>vu=n)}const Ya=t=>{const e=Mt;return kc(t),t.scope.on(),()=>{t.scope.off(),kc(e)}},jg=()=>{Mt&&Mt.scope.off(),kc(null)};function u0(t){return t.vnode.shapeFlag&4}let vu=!1;function HC(t,e=!1){e&&yh(e);const{props:n,children:i}=t.vnode,o=u0(t);IC(t,n,o,e),xC(t,i);const r=o?qC(t,e):void 0;return e&&yh(!1),r}function qC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,mC);const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?GC(t):null,r=Ya(t);Io();const s=co(i,t,0,[t.props,o]);if(To(),r(),fy(s)){if(s.then(jg,jg),e)return s.then(a=>{Hg(t,a,e)}).catch(a=>{mu(a,t,0)});t.asyncDep=s}else Hg(t,s,e)}else d0(t,e)}function Hg(t,e,n){we(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ot(e)&&(t.setupState=Fy(e)),d0(t,n)}let qg;function d0(t,e,n){const i=t.type;if(!t.render){if(!e&&qg&&!i.render){const o=i.template||Yf(t).template;if(o){const{isCustomElement:r,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,u=Ot(Ot({isCustomElement:r,delimiters:a},s),l);i.render=qg(o,u)}}t.render=i.render||Tn}{const o=Ya(t);Io();try{gC(t)}finally{To(),o()}}}const WC={get(t,e){return un(t,"get",""),t[e]}};function GC(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,WC),slots:t.slots,emit:t.emit,expose:e}}function yu(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Fy(Nx(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ra)return ra[n](t)},has(e,n){return n in e||n in ra}}))}function KC(t,e=!0){return we(t)?t.displayName||t.name:t.name||e&&t.__name}function YC(t){return we(t)&&"__vccOpts"in t}const En=(t,e)=>Dx(t,e,vu);function hn(t,e,n){const i=arguments.length;return i===2?ot(e)&&!be(e)?vh(e)?ue(t,null,[e]):ue(t,e):ue(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&vh(n)&&(n=[n]),ue(t,e,n))}const XC="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const QC="http://www.w3.org/2000/svg",JC="http://www.w3.org/1998/Math/MathML",Zi=typeof document<"u"?document:null,Wg=Zi&&Zi.createElement("template"),ZC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e==="svg"?Zi.createElementNS(QC,t):e==="mathml"?Zi.createElementNS(JC,t):Zi.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>Zi.createTextNode(t),createComment:t=>Zi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,r){const s=n?n.previousSibling:e.lastChild;if(o&&(o===r||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Wg.innerHTML=i==="svg"?"<svg>".concat(t,"</svg>"):i==="mathml"?"<math>".concat(t,"</math>"):t;const a=Wg.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},e1=Symbol("_vtc");function t1(t,e,n){const i=t[e1];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Gg=Symbol("_vod"),n1=Symbol("_vsh"),i1=Symbol(""),o1=/(^|;)\s*display\s*:/;function r1(t,e,n){const i=t.style,o=vt(n);let r=!1;if(n&&!o){if(e)if(vt(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&uc(i,a,"")}else for(const s in e)n[s]==null&&uc(i,s,"");for(const s in n)s==="display"&&(r=!0),uc(i,s,n[s])}else if(o){if(e!==n){const s=i[i1];s&&(n+=";"+s),i.cssText=n,r=o1.test(n)}}else e&&t.removeAttribute("style");Gg in t&&(t[Gg]=r?i.display:"",t[n1]&&(i.display="none"))}const Kg=/\s*!important$/;function uc(t,e,n){if(be(n))n.forEach(i=>uc(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=s1(t,e);Kg.test(n)?t.setProperty(dr(i),n.replace(Kg,""),"important"):t[i]=n}}const Yg=["Webkit","Moz","ms"],Id={};function s1(t,e){const n=Id[e];if(n)return n;let i=ci(e);if(i!=="filter"&&i in t)return Id[e]=i;i=du(i);for(let o=0;o<Yg.length;o++){const r=Yg[o]+i;if(r in t)return Id[e]=r}return e}const Xg="http://www.w3.org/1999/xlink";function a1(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Xg,e.slice(6,e.length)):t.setAttributeNS(Xg,e,n);else{const r=ux(e);n==null||r&&!_y(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function l1(t,e,n,i,o,r,s){if(e==="innerHTML"||e==="textContent"){i&&s(i,o,r),t[e]=n==null?"":n;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,d=n==null?"":n;(u!==d||!("_value"in t))&&(t.value=d),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=_y(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch(u){}l&&t.removeAttribute(e)}function c1(t,e,n,i){t.addEventListener(e,n,i)}function u1(t,e,n,i){t.removeEventListener(e,n,i)}const Qg=Symbol("_vei");function d1(t,e,n,i,o=null){const r=t[Qg]||(t[Qg]={}),s=r[e];if(i&&s)s.value=i;else{const[a,l]=h1(e);if(i){const u=r[e]=m1(i,o);c1(t,a,u,l)}else s&&(u1(t,a,s,l),r[e]=void 0)}}const Jg=/(?:Once|Passive|Capture)$/;function h1(t){let e;if(Jg.test(t)){e={};let i;for(;i=t.match(Jg);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):dr(t.slice(2)),e]}let Td=0;const f1=Promise.resolve(),p1=()=>Td||(f1.then(()=>Td=0),Td=Date.now());function m1(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;$n(g1(i,n.value),e,5,[i])};return n.value=t,n.attached=p1(),n}function g1(t,e){if(be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const Zg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,b1=(t,e,n,i,o,r,s,a,l)=>{const u=o==="svg";e==="class"?t1(t,i,u):e==="style"?r1(t,n,i):lu(e)?Df(e)||d1(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_1(t,e,i,u))?l1(t,e,i,r,s,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),a1(t,e,i,u))};function _1(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zg(e)&&we(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Zg(e)&&vt(n)?!1:e in t}const v1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},y1=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=o=>{if(!("key"in o))return;const r=dr(o.key);if(e.some(s=>s===r||v1[s]===r))return t(o)})},w1=Ot({patchProp:b1},ZC);let eb;function E1(){return eb||(eb=SC(w1))}const I1=(...t)=>{const e=E1().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=k1(i);if(!o)return;const r=e._component;!we(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.innerHTML="";const s=n(o,!1,T1(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function T1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function k1(t){return vt(t)?document.querySelector(t):t}const x1="modulepreload",C1=function(t){return"/"+t},tb={},ei=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),s=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.all(n.map(a=>{if(a=C1(a),a in tb)return;tb[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(u)))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":x1,l||(d.as="script",d.crossOrigin=""),d.href=a,s&&d.setAttribute("nonce",s),document.head.appendChild(d),l)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error("Unable to preload CSS for ".concat(a))))})}))}return o.then(()=>e()).catch(r=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r})};var wi={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},S1=Object.defineProperty,A1=(t,e)=>{for(var n in e)S1(t,n,{get:e[n],enumerable:!0})},R1={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},h0=t=>{const e=new URL(t,Nt.$resourcesUrl$);return e.origin!==Qa.location.origin?e.href:e.pathname},nb={},P1="http://www.w3.org/2000/svg",O1="http://www.w3.org/1999/xhtml",N1=t=>t!=null,ep=t=>(t=typeof t,t==="object"||t==="function");function D1(t){var e,n,i;return(i=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?i:void 0}var L1={};A1(L1,{err:()=>f0,map:()=>M1,ok:()=>wh,unwrap:()=>V1,unwrapErr:()=>F1});var wh=t=>({isOk:!0,isErr:!1,value:t}),f0=t=>({isOk:!1,isErr:!0,value:t});function M1(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(i=>wh(i)):wh(n)}if(t.isErr){const n=t.value;return f0(n)}throw"should never get here"}var V1=t=>{if(t.isOk)return t.value;throw t.value},F1=t=>{if(t.isErr)return t.value;throw t.value},Qo=(t,e="")=>()=>{},$1="slot-fb{display:contents}slot-fb[hidden]{display:none}",ib="http://www.w3.org/1999/xlink",H=(t,e,...n)=>{let i=null,o=null,r=null,s=!1,a=!1;const l=[],u=h=>{for(let p=0;p<h.length;p++)i=h[p],Array.isArray(i)?u(i):i!=null&&typeof i!="boolean"&&((s=typeof t!="function"&&!ep(i))&&(i=String(i)),s&&a?l[l.length-1].$text$+=i:l.push(s?xc(null,i):i),a=s)};if(u(n),e){e.key&&(o=e.key),e.name&&(r=e.name);{const h=e.className||e.class;h&&(e.class=typeof h!="object"?h:Object.keys(h).filter(p=>h[p]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,B1);const d=xc(t,null);return d.$attrs$=e,l.length>0&&(d.$children$=l),d.$key$=o,d.$name$=r,d},xc=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},It={},U1=t=>t&&t.$tag$===It,B1={forEach:(t,e)=>t.map(ob).forEach(e),map:(t,e)=>t.map(ob).map(e).map(z1)},ob=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),z1=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),H(t.vtag,n,...t.vchildren||[])}const e=xc(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},j1=t=>x0.map(e=>e(t)).find(e=>!!e),H1=t=>x0.push(t),q1=t=>hr(t).$modeName$,W1=(t,e)=>t!=null&&!ep(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,G1=t=>t,He=(t,e,n)=>{const i=G1(t);return{emit:o=>K1(i,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:o})}},K1=(t,e,n)=>{const i=Nt.ce(e,n);return t.dispatchEvent(i),i},rb=new WeakMap,Y1=(t,e,n)=>{let i=Ac.get(t);ES&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,Ac.set(t,i)},X1=(t,e,n)=>{var i;const o=p0(e,n),r=Ac.get(o);if(t=t.nodeType===11?t:Un,r)if(typeof r=="string"){t=t.head||t;let s=rb.get(t),a;if(s||rb.set(t,s=new Set),!s.has(o)){{a=Un.createElement("style"),a.innerHTML=r;const l=(i=Nt.$nonce$)!=null?i:D1(Un);l!=null&&a.setAttribute("nonce",l),t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=$1),s&&s.add(o)}}else t.adoptedStyleSheets.includes(r)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,r]);return o},Q1=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,o=Qo("attachStyles",e.$tagName$),r=X1(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&(n["s-sc"]=r,n.classList.add(r+"-h"),i&2&&n.classList.add(r+"-s")),o()},p0=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),sb=(t,e,n,i,o,r)=>{if(n!==i){let s=fb(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,u=ab(n),d=ab(i);l.remove(...u.filter(h=>h&&!d.includes(h))),l.add(...d.filter(h=>h&&!u.includes(h)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):fb(Qa,a)?e=a.slice(2):e=a[2]+e.slice(3),n||i){const l=e.endsWith(m0);e=e.replace(Z1,""),n&&Nt.rel(t,e,n,l),i&&Nt.ael(t,e,i,l)}}else{const l=ep(i);if((s||l&&i!==null)&&!o)try{if(t.tagName.includes("-"))t[e]=i;else{const d=i==null?"":i;e==="list"?s=!1:(n==null||t[e]!=d)&&(t[e]=d)}}catch(d){}let u=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,u=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(u?t.removeAttributeNS(ib,e):t.removeAttribute(e)):(!s||r&4||o)&&!l&&(i=i===!0?"":i,u?t.setAttributeNS(ib,e,i):t.setAttribute(e,i))}}},J1=/\s/,ab=t=>t?t.split(J1):[],m0="Capture",Z1=new RegExp(m0+"$"),g0=(t,e,n)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||nb,r=e.$attrs$||nb;for(const s of lb(Object.keys(o)))s in r||sb(i,s,o[s],void 0,n,e.$flags$);for(const s of lb(Object.keys(r)))sb(i,s,o[s],r[s],n,e.$flags$)};function lb(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Tr,Eh,Yr,tp=!1,Cc=!1,np=!1,gn=!1,Sc=(t,e,n,i)=>{var o;const r=e.$children$[n];let s=0,a,l,u;if(tp||(np=!0,r.$tag$==="slot"&&(Tr&&i.classList.add(Tr+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)a=r.$elm$=Un.createTextNode(r.$text$);else if(r.$flags$&1)a=r.$elm$=Un.createTextNode("");else{if(gn||(gn=r.$tag$==="svg"),a=r.$elm$=Un.createElementNS(gn?P1:O1,r.$flags$&2?"slot-fb":r.$tag$),gn&&r.$tag$==="foreignObject"&&(gn=!1),g0(null,r,gn),N1(Tr)&&a["s-si"]!==Tr&&a.classList.add(a["s-si"]=Tr),op(a,i),r.$children$)for(s=0;s<r.$children$.length;++s)l=Sc(t,r,s,a),l&&a.appendChild(l);r.$tag$==="svg"?gn=!1:a.tagName==="foreignObject"&&(gn=!0)}return a["s-hn"]=Yr,r.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=Eh,a["s-sn"]=r.$name$||"",a["s-rf"]=(o=r.$attrs$)==null?void 0:o.ref,u=t&&t.$children$&&t.$children$[n],u&&u.$tag$===r.$tag$&&t.$elm$&&xa(t.$elm$,!1)),a},xa=(t,e)=>{Nt.$flags$|=1;const n=Array.from(t.childNodes);if(t["s-sr"]&&wi.experimentalSlotFixes){let i=t;for(;i=i.nextSibling;)i&&i["s-sn"]===t["s-sn"]&&i["s-sh"]===Yr&&n.push(i)}for(let i=n.length-1;i>=0;i--){const o=n[i];o["s-hn"]!==Yr&&o["s-ol"]&&(uo(v0(o),o,ip(o)),o["s-ol"].remove(),o["s-ol"]=void 0,o["s-sh"]=void 0,np=!0),e&&xa(o,e)}Nt.$flags$&=-2},b0=(t,e,n,i,o,r)=>{let s=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(s.shadowRoot&&s.tagName===Yr&&(s=s.shadowRoot);o<=r;++o)i[o]&&(a=Sc(null,n,o,t),a&&(i[o].$elm$=a,uo(s,a,ip(e))))},_0=(t,e,n)=>{for(let i=e;i<=n;++i){const o=t[i];if(o){const r=o.$elm$;E0(o),r&&(Cc=!0,r["s-ol"]?r["s-ol"].remove():xa(r,!0),r.remove())}}},eS=(t,e,n,i,o=!1)=>{let r=0,s=0,a=0,l=0,u=e.length-1,d=e[0],h=e[u],p=i.length-1,g=i[0],x=i[p],E,S;for(;r<=u&&s<=p;)if(d==null)d=e[++r];else if(h==null)h=e[--u];else if(g==null)g=i[++s];else if(x==null)x=i[--p];else if(Bl(d,g,o))kr(d,g,o),d=e[++r],g=i[++s];else if(Bl(h,x,o))kr(h,x,o),h=e[--u],x=i[--p];else if(Bl(d,x,o))(d.$tag$==="slot"||x.$tag$==="slot")&&xa(d.$elm$.parentNode,!1),kr(d,x,o),uo(t,d.$elm$,h.$elm$.nextSibling),d=e[++r],x=i[--p];else if(Bl(h,g,o))(d.$tag$==="slot"||x.$tag$==="slot")&&xa(h.$elm$.parentNode,!1),kr(h,g,o),uo(t,h.$elm$,d.$elm$),h=e[--u],g=i[++s];else{for(a=-1,l=r;l<=u;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===g.$key$){a=l;break}a>=0?(S=e[a],S.$tag$!==g.$tag$?E=Sc(e&&e[s],n,a,t):(kr(S,g,o),e[a]=void 0,E=S.$elm$),g=i[++s]):(E=Sc(e&&e[s],n,s,t),g=i[++s]),E&&uo(v0(d.$elm$),E,ip(d.$elm$))}r>u?b0(t,i[p+1]==null?null:i[p+1].$elm$,n,i,s,p):s>p&&_0(e,r,u)},Bl=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,ip=t=>t&&t["s-ol"]||t,v0=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,kr=(t,e,n=!1)=>{const i=e.$elm$=t.$elm$,o=t.$children$,r=e.$children$,s=e.$tag$,a=e.$text$;let l;a===null?(gn=s==="svg"?!0:s==="foreignObject"?!1:gn,s==="slot"&&!tp||g0(t,e,gn),o!==null&&r!==null?eS(i,o,e,r,n):r!==null?(t.$text$!==null&&(i.textContent=""),b0(i,null,e,r,0,r.length-1)):o!==null&&_0(o,0,o.length-1),gn&&s==="svg"&&(gn=!1)):(l=i["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(i.data=a)},y0=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const i=n["s-sn"];n.hidden=!1;for(const o of e)if(o!==n){if(o["s-hn"]!==n["s-hn"]||i!==""){if(o.nodeType===1&&(i===o.getAttribute("slot")||i===o["s-sn"])||o.nodeType===3&&i===o["s-sn"]){n.hidden=!0;break}}else if(o.nodeType===1||o.nodeType===3&&o.textContent.trim()!==""){n.hidden=!0;break}}}y0(n)}},yi=[],w0=t=>{let e,n,i;for(const o of t.childNodes){if(o["s-sr"]&&(e=o["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const r=o["s-sn"];for(i=n.length-1;i>=0;i--)if(e=n[i],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==o["s-hn"]&&!wi.experimentalSlotFixes)if(cb(e,r)){let s=yi.find(a=>a.$nodeToRelocate$===e);Cc=!0,e["s-sn"]=e["s-sn"]||r,s?(s.$nodeToRelocate$["s-sh"]=o["s-hn"],s.$slotRefNode$=o):(e["s-sh"]=o["s-hn"],yi.push({$slotRefNode$:o,$nodeToRelocate$:e})),e["s-sr"]&&yi.map(a=>{cb(a.$nodeToRelocate$,e["s-sn"])&&(s=yi.find(l=>l.$nodeToRelocate$===e),s&&!a.$slotRefNode$&&(a.$slotRefNode$=s.$slotRefNode$))})}else yi.some(s=>s.$nodeToRelocate$===e)||yi.push({$nodeToRelocate$:e})}o.nodeType===1&&w0(o)}},cb=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",E0=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(E0)},uo=(t,e,n)=>{const i=t==null?void 0:t.insertBefore(e,n);return op(e,t),i},I0=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...I0(t.parentElement)),e},op=(t,e,n=!1)=>{var i;if(t&&e&&t.nodeType===1){const o=new Set(I0(e).filter(Boolean));if(o.size&&((i=t.classList)==null||i.add(...t["s-scs"]=[...o]),t["s-ol"]||n))for(const r of Array.from(t.childNodes))op(r,t,!0)}},tS=(t,e,n=!1)=>{var i,o,r,s,a;const l=t.$hostElement$,u=t.$cmpMeta$,d=t.$vnode$||xc(null,null),h=U1(e)?e:H(null,null,e);if(Yr=l.tagName,u.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},u.$attrsToReflect$.map(([p,g])=>h.$attrs$[g]=l[p])),n&&h.$attrs$)for(const p of Object.keys(h.$attrs$))l.hasAttribute(p)&&!["key","ref","style","class"].includes(p)&&(h.$attrs$[p]=l[p]);h.$tag$=null,h.$flags$|=4,t.$vnode$=h,h.$elm$=d.$elm$=l.shadowRoot||l,Tr=l["s-sc"],tp=(u.$flags$&1)!==0,Eh=l["s-cr"],Cc=!1,kr(d,h,n);{if(Nt.$flags$|=1,np){w0(h.$elm$);for(const p of yi){const g=p.$nodeToRelocate$;if(!g["s-ol"]){const x=Un.createTextNode("");x["s-nr"]=g,uo(g.parentNode,g["s-ol"]=x,g)}}for(const p of yi){const g=p.$nodeToRelocate$,x=p.$slotRefNode$;if(x){const E=x.parentNode;let S=x.nextSibling;{let T=(i=g["s-ol"])==null?void 0:i.previousSibling;for(;T;){let A=(o=T["s-nr"])!=null?o:null;if(A&&A["s-sn"]===g["s-sn"]&&E===A.parentNode){for(A=A.nextSibling;A===g||A!=null&&A["s-sr"];)A=A==null?void 0:A.nextSibling;if(!A||!A["s-nr"]){S=A;break}}T=T.previousSibling}}(!S&&E!==g.parentNode||g.nextSibling!==S)&&g!==S&&(!g["s-hn"]&&g["s-ol"]&&(g["s-hn"]=g["s-ol"].parentNode.nodeName),uo(E,g,S),g.nodeType===1&&(g.hidden=(r=g["s-ih"])!=null?r:!1)),g&&typeof x["s-rf"]=="function"&&x["s-rf"](g)}else g.nodeType===1&&(n&&(g["s-ih"]=(s=g.hidden)!=null?s:!1),g.hidden=!0)}}Cc&&y0(h.$elm$),Nt.$flags$&=-2,yi.length=0}if(wi.experimentalScopedSlotChanges&&u.$flags$&2)for(const p of h.$elm$.childNodes)p["s-hn"]!==Yr&&!p["s-sh"]&&(n&&p["s-ih"]==null&&(p["s-ih"]=(a=p.hidden)!=null?a:!1),p.hidden=!0);Eh=void 0},nS=(t,e)=>{},rp=(t,e)=>(t.$flags$|=16,nS(t,t.$ancestorComponent$),Oi(()=>iS(t,e))),iS=(t,e)=>{const n=t.$hostElement$,i=Qo("scheduleUpdate",t.$cmpMeta$.$tagName$),o=n;if(!o)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let r;return e?r=$r(o,"componentWillLoad"):r=$r(o,"componentWillUpdate"),r=ub(r,()=>$r(o,"componentWillRender")),i(),ub(r,()=>rS(t,o,e))},ub=(t,e)=>oS(t)?t.then(e):e(),oS=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",rS=async(t,e,n)=>{const i=t.$hostElement$,o=Qo("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&Q1(t);const r=Qo("render",t.$cmpMeta$.$tagName$);sS(t,e,i,n),r(),o(),aS(t)},db=null,sS=(t,e,n,i)=>{try{db=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(wi.hasRenderFn||wi.reflect)&&(wi.vdomRender||wi.reflect)&&(wi.hydrateServerSide||tS(t,e,i))}catch(l){Xa(l,t.$hostElement$)}return db=null,null},aS=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=Qo("postUpdate",e),o=n;t.$ancestorComponent$,$r(o,"componentDidRender"),t.$flags$&64?($r(o,"componentDidUpdate"),i()):(t.$flags$|=64,$r(o,"componentDidLoad"),i())},Ca=t=>{{const e=hr(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&rp(e,!1),n}},$r=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){Xa(i)}},lS=(t,e)=>hr(t).$instanceValues$.get(e),cS=(t,e,n,i)=>{const o=hr(t),r=t,s=o.$instanceValues$.get(e),a=o.$flags$,l=r;n=W1(n,i.$members$[e][0]);const u=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!u){o.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const h=i.$watchers$[e];h&&h.map(p=>{try{l[p](n,s,e)}catch(g){Xa(g,r)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,s,e)===!1)return;rp(o,!1)}}}},uS=(t,e,n)=>{var i;const o=t.prototype;if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const r=Object.entries(e.$members$);r.map(([s,[a]])=>{(a&31||a&32)&&Object.defineProperty(o,s,{get(){return lS(this,s)},set(l){cS(this,s,l,e)},configurable:!0,enumerable:!0})});{const s=new Map;o.attributeChangedCallback=function(a,l,u){Nt.jmp(()=>{var d;const h=s.get(a);if(this.hasOwnProperty(h))u=this[h],delete this[h];else{if(o.hasOwnProperty(h)&&typeof this[h]=="number"&&this[h]==u)return;if(h==null){const p=hr(this),g=p==null?void 0:p.$flags$;if(g&&!(g&8)&&g&128&&u!==l){const E=this,S=(d=e.$watchers$)==null?void 0:d[a];S==null||S.forEach(T=>{E[T]!=null&&E[T].call(E,u,l,a)})}return}}this[h]=u===null&&typeof this[h]=="boolean"?!1:u})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...r.filter(([a,l])=>l[0]&15).map(([a,l])=>{var u;const d=l[1]||a;return s.set(d,a),l[0]&512&&((u=e.$attrsToReflect$)==null||u.push([a,d])),d})]))}}return t},dS=async(t,e,n,i)=>{let o;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{o=t.constructor;const s=t.localName;customElements.whenDefined(s).then(()=>e.$flags$|=128)}if(o&&o.style){let s=o.style;typeof s!="string"&&(e.$modeName$=j1(t),e.$modeName$&&(s=s[e.$modeName$]));const a=p0(n,e.$modeName$);if(!Ac.has(a)){const l=Qo("registerStyles",n.$tagName$);Y1(a,s,!!(n.$flags$&1)),l()}}}e.$ancestorComponent$,rp(e,!0)},hb=t=>{},hS=t=>{if(!(Nt.$flags$&1)){const e=hr(t),n=e.$cmpMeta$,i=Qo("connectedCallback",n.$tagName$);e.$flags$&1?(T0(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?hb(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>hb(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&fS(t),n.$members$&&Object.entries(n.$members$).map(([o,[r]])=>{if(r&31&&t.hasOwnProperty(o)){const s=t[o];delete t[o],t[o]=s}}),dS(t,e,n)),i()}},fS=t=>{const e=t["s-cr"]=Un.createComment("");e["s-cn"]=!0,uo(t,e,t.firstChild)},pS=async t=>{if(!(Nt.$flags$&1)){const e=hr(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},wt=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,o=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){_S(this,n)},connectedCallback(){hS(this),i&&i.call(this)},disconnectedCallback(){pS(this),o&&o.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)})}}),t.is=n.$tagName$,uS(t,n)},T0=(t,e,n,i)=>{n&&n.map(([o,r,s])=>{const a=gS(t,o),l=mS(e,s),u=bS(o);Nt.ael(a,r,l,u),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Nt.rel(a,r,l,u))})},mS=(t,e)=>n=>{var i;try{wi.lazyLoad||t.$hostElement$[e](n)}catch(o){Xa(o)}},gS=(t,e)=>e&4?Un:e&8?Qa:e&16?Un.body:t,bS=t=>yS?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,k0=new WeakMap,hr=t=>k0.get(t),_S=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return T0(t,n,e.$listeners$),k0.set(t,n)},fb=(t,e)=>e in t,Xa=(t,e)=>(0,console.error)(t,e),Ac=new Map,x0=[],Qa=typeof window<"u"?window:{},Un=Qa.document||{head:{}},ut=Qa.HTMLElement||class{},Nt={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},vS=t=>{Object.assign(Nt,t)},yS=(()=>{let t=!1;try{Un.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),wS=t=>Promise.resolve(t),ES=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),Ih=!1,Th=[],C0=[],S0=(t,e)=>n=>{t.push(n),Ih||(Ih=!0,e&&Nt.$flags$&4?IS(kh):Nt.raf(kh))},pb=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Xa(n)}t.length=0},kh=()=>{pb(Th),pb(C0),(Ih=Th.length>0)&&Nt.raf(kh)},IS=t=>wS().then(t),Xr=S0(Th,!1),Oi=S0(C0,!0);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Qr=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):hs(()=>e(t))},xh=t=>t.componentOnReady!==void 0,wu=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},TS=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Eu=(t,e)=>wu(t,TS),kS=(t,e,n,i)=>{var o;if(typeof window<"u"){const r=window,s=(o=r==null?void 0:r.Ionic)===null||o===void 0?void 0:o.config;if(s){const a=s.get("_ael");if(a)return a(t,e,n,i);if(s._ael)return s._ael(t,e,n,i)}}return t.addEventListener(e,n,i)},xS=(t,e,n,i)=>{var o;if(typeof window<"u"){const r=window,s=(o=r==null?void 0:r.Ionic)===null||o===void 0?void 0:o.config;if(s){const a=s.get("_rel");if(a)return a(t,e,n,i);if(s._rel)return s._rel(t,e,n,i)}}return t.removeEventListener(e,n,i)},ds=(t,e=t)=>t.shadowRoot||e,hs=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),CS=t=>!!t.shadowRoot&&!!t.attachShadow,A0=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},sp=(t,e,n)=>Math.max(t,Math.min(e,n)),sn=(t,e)=>{if(!t){const n="ASSERT: "+e;console.error(n);debugger;throw new Error(n)}},V9=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},SS=(t,e)=>{const n=t._original||t;return{_original:t,emit:AS(n.emit.bind(n),e)}},AS=(t,e=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(t,e,...i)}},R0=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!(i in e)||t[i]!==e[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const RS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",PS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",mb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",OS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",NS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class DS{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const i=this.m.get(e);return i!==void 0?i:n}getBoolean(e,n=!1){const i=this.m.get(e);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(e,n){const i=parseFloat(this.m.get(e));return isNaN(i)?n!==void 0?n:NaN:i}set(e,n){this.m.set(e,n)}}const Oe=new DS,LS=t=>{try{const e=t.sessionStorage.getItem(P0);return e!==null?JSON.parse(e):{}}catch(e){return{}}},MS=(t,e)=>{try{t.sessionStorage.setItem(P0,JSON.stringify(e))}catch(n){return}},VS=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>{try{return[decodeURIComponent(n),decodeURIComponent(i)]}catch(o){return["",""]}}).filter(([n])=>FS(n,gb)).map(([n,i])=>[n.slice(gb.length),i]).forEach(([n,i])=>{e[n]=i}),e},FS=(t,e)=>t.substr(0,e.length)===e,gb="ionic:",P0="ionic-persist-config",$S=t=>O0(t),ro=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),$S(t).includes(e)),O0=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=US(t),e.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),e},US=t=>{const e=Oe.get("platform");return Object.keys(bb).filter(n=>{const i=e==null?void 0:e[n];return typeof i=="function"?i(t):bb[n](t)})},BS=t=>Iu(t)&&!D0(t),ap=t=>!!(Jo(t,/iPad/i)||Jo(t,/Macintosh/i)&&Iu(t)),zS=t=>Jo(t,/iPhone/i),jS=t=>Jo(t,/iPhone|iPod/i)||ap(t),N0=t=>Jo(t,/android|sink/i),HS=t=>N0(t)&&!Jo(t,/mobile/i),qS=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),o=Math.max(e,n);return i>390&&i<520&&o>620&&o<800},WS=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),o=Math.max(e,n);return ap(t)||HS(t)||i>460&&i<820&&o>780&&o<1400},Iu=t=>XS(t,"(any-pointer:coarse)"),GS=t=>!Iu(t),D0=t=>L0(t)||M0(t),L0=t=>!!(t.cordova||t.phonegap||t.PhoneGap),M0=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative)},KS=t=>Jo(t,/electron/i),YS=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},Jo=(t,e)=>e.test(t.navigator.userAgent),XS=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},bb={ipad:ap,iphone:zS,ios:jS,android:N0,phablet:qS,tablet:WS,cordova:L0,capacitor:M0,electron:KS,pwa:YS,mobile:Iu,mobileweb:BS,desktop:GS,hybrid:D0};let xr;const qe=t=>t&&q1(t)||xr,QS=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,i=n.Ionic=n.Ionic||{},o={};t._ael&&(o.ael=t._ael),t._rel&&(o.rel=t._rel),t._ce&&(o.ce=t._ce),vS(o);const r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},LS(n)),{persistConfig:!1}),i.config),VS(n)),t);Oe.reset(r),Oe.getBoolean("persistConfig")&&MS(n,r),O0(n),i.config=Oe,i.mode=xr=Oe.get("mode",e.documentElement.getAttribute("mode")||(ro(n,"ios")?"ios":"md")),Oe.set("mode",xr),e.documentElement.setAttribute("mode",xr),e.documentElement.classList.add(xr),Oe.getBoolean("_testing")&&Oe.set("animated",!1);const s=l=>{var u;return(u=l.tagName)===null||u===void 0?void 0:u.startsWith("ION-")},a=l=>["ios","md"].includes(l);H1(l=>{for(;l;){const u=l.mode||l.getAttribute("mode");if(u){if(a(u))return u;s(l)&&console.warn('Invalid ionic mode: "'+u+'", expected: "ios" or "md"')}l=l.parentElement}return xr})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let kd;const JS=()=>{if(typeof window>"u")return new Map;if(!kd){const t=window;t.Ionicons=t.Ionicons||{},kd=t.Ionicons.map=t.Ionicons.map||new Map}return kd},ZS=t=>{let e=xd(t.src);return e||(e=V0(t.name,t.icon,t.mode,t.ios,t.md),e?eA(e,t):t.icon&&(e=xd(t.icon),e||(e=xd(t.icon[t.mode]),e))?e:null)},eA=(t,e)=>{const n=JS().get(t);if(n)return n;try{return h0("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},V0=(t,e,n,i,o)=>(n=(n&&zl(n))==="ios"?"ios":"md",i&&n==="ios"?t=zl(i):o&&n==="md"?t=zl(o):(!t&&e&&!F0(e)&&(t=e),Rc(t)&&(t=zl(t))),!Rc(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),xd=t=>Rc(t)&&(t=t.trim(),F0(t))?t:null,F0=t=>t.length>0&&/(\/|\.)/.test(t),Rc=t=>typeof t=="string",zl=t=>t.toLowerCase(),tA=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},nA=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",iA=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),$0(n))return e.innerHTML}return""},$0=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Rc(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!$0(t.childNodes[e]))return!1}return!0},oA=t=>t.startsWith("data:image/svg+xml"),rA=t=>t.indexOf(";utf8,")!==-1,$o=new Map,_b=new Map;let Cd;const sA=(t,e)=>{let n=_b.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(oA(t)&&rA(t)){Cd||(Cd=new DOMParser);const o=Cd.parseFromString(t,"text/html").querySelector("svg");return o&&$o.set(t,o.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(o=>{o&&e!==!1&&(o=iA(o)),$o.set(t,o||"")});$o.set(t,"")}),_b.set(t,n);else return $o.set(t,""),Promise.resolve();return n},aA=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",lA=aA,cA=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=uA(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=tA(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const o=this.io=new window.IntersectionObserver(r=>{r[0].isIntersecting&&(o.disconnect(),this.io=void 0,i())},{rootMargin:n});o.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=ZS(this);e&&($o.has(e)?this.svgContent=$o.get(e):sA(e,this.sanitize).then(()=>this.svgContent=$o.get(e)),this.didLoadIcon=!0)}this.iconName=V0(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:o}=this,r=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return H(It,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},dA(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&nA(o)})},i),this.svgContent?H("div",{class:"icon-inner",innerHTML:this.svgContent}):H("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return lA}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),uA=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",dA=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function Tu(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,cA);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ln=(t,...e)=>console.warn("[Ionic Warning]: ".concat(t),...e),hA=(t,...e)=>console.error("[Ionic Error]: ".concat(t),...e),fA=(t,...e)=>console.error("<".concat(t.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _n=(t,e)=>e.closest(t)!==null,Fi=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},e):e,pA=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],mA=t=>{const e={};return pA(t).forEach(n=>e[n]=!0),e},gA=/^[a-z][a-z0-9+\-.]*:/,lp=async(t,e,n,i)=>{if(t!=null&&t[0]!=="#"&&!gA.test(t)){const o=document.querySelector("ion-router");if(o)return e!=null&&e.preventDefault(),o.push(t,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bA=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",_A=bA,vA=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(i=>{Xr(()=>{const o=this.el.getBoundingClientRect(),r=o.width,s=o.height,a=Math.sqrt(r*r+s*s),l=Math.max(s,r),u=this.unbounded?l:a+wA,d=Math.floor(l*EA),h=u/d;let p=e-o.left,g=n-o.top;this.unbounded&&(p=r*.5,g=s*.5);const x=p-d*.5,E=g-d*.5,S=r*.5-p,T=s*.5-g;Oi(()=>{const A=document.createElement("div");A.classList.add("ripple-effect");const O=A.style;O.top=E+"px",O.left=x+"px",O.width=O.height=d+"px",O.setProperty("--final-scale","".concat(h)),O.setProperty("--translate-end","".concat(S,"px, ").concat(T,"px")),(this.el.shadowRoot||this.el).appendChild(A),setTimeout(()=>{i(()=>{yA(A)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=qe(this);return H(It,{key:"2302f087ab1c6755355736e4ca77309c5fdcf185",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return _A}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),yA=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},wA=10,EA=.5;function ku(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,vA);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IA=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',TA=IA,kA=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}',xA=kA,CA=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=He(this,"ionFocus",7),this.ionBlur=He(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:n}=this;this.type==="button"?lp(this.href,e,this.routerDirection,this.routerAnimation):CS(n)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:n}=this;if(n!==null&&e.contains(n))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Eu(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const n=document.getElementById(e);return n?n instanceof HTMLFormElement?n:(Ln('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(Ln('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(Ln('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=qe(this),{buttonType:n,type:i,disabled:o,rel:r,target:s,size:a,href:l,color:u,expand:d,hasIconOnly:h,shape:p,strong:g,inheritedAttributes:x}=this,E=a===void 0&&this.inItem?"small":a,S=l===void 0?"button":"a",T=S==="button"?{type:i}:{download:this.download,href:l,rel:r,target:s};let A=this.fill;return A==null&&(A=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),H(It,{key:"8f3a0363d46ef888d22b0b0812c70cb4f79e6efa",onClick:this.handleClick,"aria-disabled":o?"true":null,class:Fi(u,{[e]:!0,[n]:!0,["".concat(n,"-").concat(d)]:d!==void 0,["".concat(n,"-").concat(E)]:E!==void 0,["".concat(n,"-").concat(p)]:p!==void 0,["".concat(n,"-").concat(A)]:!0,["".concat(n,"-strong")]:g,"in-toolbar":_n("ion-toolbar",this.el),"in-toolbar-color":_n("ion-toolbar[color]",this.el),"in-buttons":_n("ion-buttons",this.el),"button-has-icon-only":h,"button-disabled":o,"ion-activatable":!0,"ion-focusable":!0})},H(S,Object.assign({key:"a517c7d06aab15ad4c2a51b8ec224c1aeb4ed565"},T,{class:"button-native",part:"native",disabled:o,onFocus:this.onFocus,onBlur:this.onBlur},x),H("span",{key:"127c26dd97c0bf5097433df77df7313d59784899",class:"button-inner"},H("slot",{key:"39d9a9cad8e1addbe63406062e555e05c2cb541b",name:"icon-only",onSlotchange:this.slotChanged}),H("slot",{key:"cfdebdd89155c6c21eb80e51e06456a3a6d877e0",name:"start"}),H("slot",{key:"eac497e0f97ab55baa834ae23155d89b0f7069c6"}),H("slot",{key:"c99f7900f8856b32a0b4ac11092d461f5e9a1109",name:"end"})),e==="md"&&H("ion-ripple-effect",{key:"c681edb0480879fbd801575f2233f6e118898638",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:TA,md:xA}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);function SA(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-button":customElements.get(e)||customElements.define(e,CA);break;case"ion-ripple-effect":customElements.get(e)||ku();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const AA=SA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const RA=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",PA=RA,OA=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",NA=OA,DA=wt(class extends ut{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=qe(this);return H(It,{key:"4e5ce9abb3f56e8c91e3eb58c2819300e61eba24",class:{[e]:!0,"buttons-collapse":this.collapse}},H("slot",{key:"f2f360ec888b6e946b512fed07431fab47c61482"}))}static get style(){return{ios:PA,md:NA}}},[38,"ion-buttons",{collapse:[4]}]);function LA(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,DA);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const MA=LA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jl=typeof window<"u"?window:void 0;jl&&(jl.CSS&&jl.CSS.supports&&jl.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VA=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FA=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',$A=FA,UA=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=He(this,"ionScrollStart",7),this.ionScroll=He(this,"ionScroll",7),this.ionScrollEnd=He(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,xh(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),xh(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=qe(this);return e===void 0?n==="ios"&&ro("ios"):e}resize(){this.fullscreen?Xr(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Ca(this))}readDimensions(){const e=zA(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,Ca(this))}onScroll(e){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Xr(o=>{this.queued=!1,this.detail.event=e,jA(this.detail,this.scrollEl,o,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Qr(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Qr(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,n,i){const o=await this.getScrollElement();return this.scrollToPoint(e+o.scrollLeft,n+o.scrollTop,i)}async scrollToPoint(e,n,i=0){const o=await this.getScrollElement();if(i<32){n!=null&&(o.scrollTop=n),e!=null&&(o.scrollLeft=e);return}let r,s=0;const a=new Promise(g=>r=g),l=o.scrollTop,u=o.scrollLeft,d=n!=null?n-l:0,h=e!=null?e-u:0,p=g=>{const x=Math.min(1,(g-s)/i)-1,E=Math.pow(x,3)+1;d!==0&&(o.scrollTop=Math.floor(E*d+l)),h!==0&&(o.scrollLeft=Math.floor(E*h+u)),E<1?requestAnimationFrame(p):r()};return requestAnimationFrame(g=>{s=g,p(g)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,isMainContent:n,scrollX:i,scrollY:o,el:r}=this,s=VA(r)?"rtl":"ltr",a=qe(this),l=this.shouldForceOverscroll(),u=a==="ios";return this.resize(),H(It,{key:"f599a7da14969df38c20a6f650179d2a319fb58b",role:n?"main":void 0,class:Fi(this.color,{[a]:!0,"content-sizing":_n("ion-popover",this.el),overscroll:l,["content-".concat(s)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},H("div",{key:"7c545c3c95ea05abd036d0462936ac153d2a8fc6",ref:d=>this.backgroundContentEl=d,id:"background-content",part:"background"}),e==="before"?H("slot",{name:"fixed"}):null,H("div",{key:"a67ab7438466c99f74b7ba59964802c3ba86ac5b",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":o,overscroll:(i||o)&&l},ref:d=>this.scrollEl=d,onScroll:this.scrollEvents?d=>this.onScroll(d):void 0,part:"scroll"},H("slot",{key:"6d10fcac2e40b4dd6c20d91a8957ac07251d2fa7"})),u?H("div",{class:"transition-effect"},H("div",{class:"transition-cover"}),H("div",{class:"transition-shadow"})):null,e==="after"?H("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return $A}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),BA=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},zA=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||BA(t)},jA=(t,e,n,i)=>{const o=t.currentX,r=t.currentY,s=t.currentTime,a=e.scrollLeft,l=e.scrollTop,u=n-s;if(i&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,u>0&&u<100){const d=(a-o)/u,h=(l-r)/u;t.velocityX=d*.7+t.velocityX*.3,t.velocityY=h*.7+t.velocityY*.3}};function HA(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,UA);break}})}const qA=HA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Je=typeof window<"u"?window:void 0,Ai=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const WA=()=>{if(Je!==void 0)return Je.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Sa=()=>Oe.get("experimentalCloseWatcher",!1)&&Je!==void 0&&"CloseWatcher"in Je,GA=()=>{document.addEventListener("backbutton",()=>{})},KA=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let i=0,o=[];const r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,u){o.push({priority:l,handler:u,id:i++})}}});t.dispatchEvent(r);const s=async l=>{try{if(l!=null&&l.handler){const u=l.handler(a);u!=null&&await u}}catch(u){console.error(u)}},a=()=>{if(o.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};o.forEach(u=>{u.priority>=l.priority&&(l=u)}),e=!0,o=o.filter(u=>u.id!==l.id),s(l).then(()=>e=!1)}};a()};if(Sa()){let i;const o=()=>{i==null||i.destroy(),i=new Je.CloseWatcher,i.onclose=()=>{n(),o()}};o()}else t.addEventListener("backbutton",n)},U0=100,YA=99,XA=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:YA,OVERLAY_BACK_BUTTON_PRIORITY:U0,blockHardwareBackButton:GA,shouldUseCloseWatcher:Sa,startHardwareBackButton:KA},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const B0=async(t,e,n,i,o,r)=>{var s;if(t)return t.attachViewToDom(e,n,o,i);if(typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(s=e.ownerDocument)===null||s===void 0?void 0:s.createElement(n):n;return i&&i.forEach(l=>a.classList.add(l)),o&&Object.assign(a,o),e.appendChild(a),await new Promise(l=>Qr(a,l)),a},QA=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},JA=()=>{let t,e;return{attachViewToDom:async(o,r,s={},a=[])=>{var l,u;t=o;let d;if(r){const p=typeof r=="string"?(l=t.ownerDocument)===null||l===void 0?void 0:l.createElement(r):r;a.forEach(g=>p.classList.add(g)),Object.assign(p,s),t.appendChild(p),d=p,await new Promise(g=>Qr(p,g))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!(d=t.children[0]).classList.contains("ion-delegate-host")){const g=(u=t.ownerDocument)===null||u===void 0?void 0:u.createElement("div");g.classList.add("ion-delegate-host"),a.forEach(x=>g.classList.add(x)),g.append(...t.children),t.appendChild(g),d=g}const h=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),h.appendChild(t),d!=null?d:t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class ZA{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new eR(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new tR(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,i){return this.canStart(e)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(e,n,i){if(!this.start(e,n,i))return!1;const o=this.requestedStart;let r=-1e4;if(o.forEach(s=>{r=Math.max(r,s)}),r===i){this.capturedId=n,o.clear();const s=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(s),!0}return o.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(n)}enableGesture(e,n){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(Pc)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(Pc)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class eR{constructor(e,n,i,o,r){this.id=n,this.name=i,this.disableScroll=r,this.priority=o*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class tR{constructor(e,n,i,o){this.id=n,this.disable=i,this.disableScroll=o,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Pc="backdrop-no-scroll",nR=new ZA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ja='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',vb=(t,e)=>{const n=t.querySelector(Ja);z0(n,e!=null?e:t)},yb=(t,e)=>{const n=Array.from(t.querySelectorAll(Ja)),i=n.length>0?n[n.length-1]:null;z0(i,e!=null?e:t)},z0=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;i&&(n=i.querySelector(Ja)||t),n?A0(n):e.focus()};let Ch=0,iR=0;const Oc=new WeakMap,oR=t=>{typeof document<"u"&&lR(document);const e=Ch++;t.overlayIndex=e},rR=t=>(t.hasAttribute("id")||(t.id="ion-overlay-".concat(++iR)),t.id),sR=t=>t.classList.contains("overlay-hidden"),wb=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;i&&(n=i.querySelector(Ja)||t),n?A0(n):e.focus()},aR=(t,e)=>{const n=Sh(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),i=t.target;if(!n||!i||n.classList.contains(ER))return;const o=()=>{if(n===i)n.lastFocus=void 0;else if(i.tagName==="ION-TOAST")wb(n.lastFocus,n);else{const s=ds(n);if(!s.contains(i))return;const a=s.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i)||i===s.querySelector("ion-backdrop"))n.lastFocus=i;else{const l=n.lastFocus;vb(a,n),l===e.activeElement&&yb(a,n),n.lastFocus=e.activeElement}}},r=()=>{if(n.contains(i))n.lastFocus=i;else if(i.tagName==="ION-TOAST")wb(n.lastFocus,n);else{const s=n.lastFocus;vb(n),s===e.activeElement&&yb(n),n.lastFocus=e.activeElement}};n.shadowRoot?r():o()},lR=t=>{Ch===0&&(Ch=1,t.addEventListener("focus",e=>{aR(e,t)},!0),t.addEventListener("ionBackButton",e=>{const n=Sh(t);n!=null&&n.backdropDismiss&&e.detail.register(U0,()=>{n.dismiss(void 0,Rh)})}),Sa()||t.addEventListener("keydown",e=>{if(e.key==="Escape"){const n=Sh(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,Rh)}}))},cR=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),xu=(t,e)=>cR(t,e).filter(n=>!sR(n)),Sh=(t,e,n)=>{const i=xu(t,e);return i[i.length-1]},j0=(t=!1)=>{const n=fR(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},uR=async(t,e,n,i,o)=>{var r,s;if(t.presented)return;j0(!0),document.body.classList.add(Pc),yR(t.el),t.presented=!0,t.willPresent.emit(),(r=t.willPresentShorthand)===null||r===void 0||r.emit();const a=qe(t),l=t.enterAnimation?t.enterAnimation:Oe.get(e,a==="ios"?n:i);await H0(t,l,t.el,o)&&(t.didPresent.emit(),(s=t.didPresentShorthand)===null||s===void 0||s.emit()),t.el.tagName!=="ION-TOAST"&&dR(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus(),t.el.removeAttribute("aria-hidden")},dR=async t=>{let e=document.activeElement;if(!e)return;const n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(Ja)||e),await t.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()},hR=async(t,e,n,i,o,r,s)=>{var a,l;if(!t.presented)return!1;Ai!==void 0&&xu(Ai).length===1&&(j0(!1),document.body.classList.remove(Pc)),t.presented=!1;try{t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});const d=qe(t),h=t.leaveAnimation?t.leaveAnimation:Oe.get(i,d==="ios"?o:r);n!==q0&&await H0(t,h,t.el,s),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),(Oc.get(t)||[]).forEach(g=>g.destroy()),Oc.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(d){console.error(d)}return t.el.remove(),wR(),!0},fR=t=>t.querySelector("ion-app")||t.body,H0=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const o=t.el,r=e(o,i);(!t.animated||!Oe.getBoolean("animated",!0))&&r.duration(0),t.keyboardClose&&r.beforeAddWrite(()=>{const a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const s=Oc.get(t)||[];return Oc.set(t,[...s,r]),await r.play(),!0},Eb=(t,e)=>{let n;const i=new Promise(o=>n=o);return pR(t,e,o=>{n(o.detail)}),i},pR=(t,e,n)=>{const i=o=>{xS(t,e,i),n(o)};kS(t,e,i)},Ah=t=>t==="cancel"||t===Rh,mR=t=>t(),gR=(t,e)=>{if(typeof t=="function")return Oe.get("_zoneGate",mR)(()=>{try{return t(e)}catch(i){throw i}})},Rh="backdrop",q0="gesture",bR=39,_R=t=>{let e=!1,n;const i=JA(),o=(a=!1)=>{if(n&&!a)return{delegate:n,inline:e};const{el:l,hasController:u,delegate:d}=t;return e=l.parentNode!==null&&!u,n=e?d||i:d,{inline:e,delegate:n}};return{attachViewToDom:async a=>{const{delegate:l}=o(!0);if(l)return await l.attachViewToDom(t.el,a);const{hasController:u}=t;if(u&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=o();a&&t.el!==void 0&&a.removeViewFromDom(t.el.parentElement,t.el)}}},vR=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(i,o)=>{e();const r=o!==void 0?document.getElementById(o):null;if(!r){Ln('A trigger element with the ID "'.concat(o,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),i);return}t=((a,l)=>{const u=()=>{l.present()};return a.addEventListener("click",u),()=>{a.removeEventListener("click",u)}})(r,i)},removeClickListener:e}},yR=t=>{var e;if(Ai===void 0)return;const n=xu(Ai);for(let i=n.length-1;i>=0;i--){const o=n[i],r=(e=n[i+1])!==null&&e!==void 0?e:t;(r.hasAttribute("aria-hidden")||r.tagName!=="ION-TOAST")&&o.setAttribute("aria-hidden","true")}},wR=()=>{if(Ai===void 0)return;const t=xu(Ai);for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},ER="ion-disable-focus-trap";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const W0=()=>{let t;return{lock:async()=>{const n=t;let i;return t=new Promise(o=>i=o),n!==void 0&&await n,i}}},cp="ionViewWillEnter",up="ionViewDidEnter",Cu="ionViewWillLeave",Su="ionViewDidLeave",Sd="ionViewWillUnload",Us=t=>{t.tabIndex=-1,t.focus()},Hl=t=>t.offsetParent!==null,IR=()=>({saveViewFocus:n=>{if(Oe.get("focusManagerPriority",!1)){const o=document.activeElement;o!==null&&(n!=null&&n.contains(o))&&o.setAttribute(Ib,"true")}},setViewFocus:n=>{const i=Oe.get("focusManagerPriority",!1);if(Array.isArray(i)&&!n.contains(document.activeElement)){const o=n.querySelector("[".concat(Ib,"]"));if(o&&Hl(o)){Us(o);return}for(const r of i)switch(r){case"content":const s=n.querySelector('main, [role="main"]');if(s&&Hl(s)){Us(s);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&Hl(a)){Us(a);return}break;case"banner":const l=n.querySelector('header, [role="banner"]');if(l&&Hl(l)){Us(l);return}break;default:Ln("Unrecognized focus manager priority value ".concat(r));break}Us(n)}}}),Ib="ion-last-focus",TR=()=>ei(()=>import("./ios.transition-DBLG-Yo1.js"),[]),kR=()=>ei(()=>import("./md.transition-Cf6v9_q4.js"),[]),G0=IR(),K0=t=>new Promise((e,n)=>{Oi(()=>{xR(t),CR(t).then(i=>{i.animation&&i.animation.destroy(),Tb(t),e(i)},i=>{Tb(t),n(i)})})}),xR=t=>{const e=t.enteringEl,n=t.leavingEl;G0.saveViewFocus(n),NR(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Oh(e,!1),e.style.setProperty("pointer-events","none"),n&&(Oh(n,!1),n.style.setProperty("pointer-events","none"))},CR=async t=>{const e=await SR(t);return e&&R1.isBrowser?AR(e,t):RR(t)},Tb=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),G0.setViewFocus(e)},SR=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await TR()).iosTransitionAnimation:(await kR()).mdTransitionAnimation,AR=async(t,e)=>{await Y0(e,!0);const n=t(e.baseEl,e);X0(e.enteringEl,e.leavingEl);const i=await OR(n,e);return e.progressCallback&&e.progressCallback(void 0),i&&Q0(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:n}},RR=async t=>{const e=t.enteringEl,n=t.leavingEl,i=Oe.get("focusManagerPriority",!1);return await Y0(t,i),X0(e,n),Q0(e,n),{hasCompleted:!0}},Y0=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([Ph(t.enteringEl),Ph(t.leavingEl)]),await PR(t.viewIsReady,t.enteringEl)},PR=async(t,e)=>{t&&await t(e)},OR=(t,e)=>{const n=e.progressCallback,i=new Promise(o=>{t.onFinish(r=>o(r===1))});return n?(t.progressStart(!0),n(t)):t.play(),i},X0=(t,e)=>{Ei(e,Cu),Ei(t,cp)},Q0=(t,e)=>{Ei(t,up),Ei(e,Su)},Ei=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},Ph=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>hs(i));return}await Promise.all(Array.from(e.children).map(Ph))}},Oh=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},NR=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},j9=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Ad;const DR=t=>{if(Ad===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;Ad=!e&&n?"-webkit-":""}return Ad},Rd=(t,e,n)=>{const i=e.startsWith("animation")?DR(t):"";t.style.setProperty(i+e,n)},ql=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},Ni=t=>{let e,n,i,o,r,s,a=[],l=[],u=[],d=!1,h,p={},g=[],x=[],E={},S=0,T=!1,A=!1,O,L,V,D=!0,y=!1,b=!0,_,k=!1;const C=t,P=[],w=[],Le=[],Ue=[],Ie=[],_e=[],ie=[],dt=[],Bt=[],Zt=[],Ae=[],Ye=typeof AnimationEffect=="function"||Je!==void 0&&typeof Je.AnimationEffect=="function",ht=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Ye,fn=()=>Ae,ft=$=>(Ie.forEach(ne=>{ne.destroy($)}),B($),Ue.length=0,Ie.length=0,a.length=0,I(),d=!1,b=!0,_),B=$=>{R(),$&&M()},te=()=>{T=!1,A=!1,b=!0,O=void 0,L=void 0,V=void 0,S=0,y=!1,D=!0,k=!1},J=()=>S!==0&&!k,oe=($,ne)=>{const Ee=ne.findIndex(rt=>rt.c===$);Ee>-1&&ne.splice(Ee,1)},ke=($,ne)=>(Le.push({c:$,o:ne}),_),Fe=($,ne)=>((ne!=null&&ne.oneTimeCallback?w:P).push({c:$,o:ne}),_),I=()=>(P.length=0,w.length=0,_),R=()=>{ht&&(Ae.forEach($=>{$.cancel()}),Ae.length=0)},M=()=>{_e.forEach($=>{$!=null&&$.parentNode&&$.parentNode.removeChild($)}),_e.length=0},z=$=>(ie.push($),_),U=$=>(dt.push($),_),K=$=>(Bt.push($),_),Q=$=>(Zt.push($),_),G=$=>(l=ql(l,$),_),Y=$=>(u=ql(u,$),_),q=($={})=>(p=$,_),ee=($=[])=>{for(const ne of $)p[ne]="";return _},de=$=>(g=ql(g,$),_),ce=$=>(x=ql(x,$),_),re=($={})=>(E=$,_),he=($=[])=>{for(const ne of $)E[ne]="";return _},Te=()=>r!==void 0?r:h?h.getFill():"both",Me=()=>O!==void 0?O:s!==void 0?s:h?h.getDirection():"normal",Xe=()=>T?"linear":i!==void 0?i:h?h.getEasing():"linear",pt=()=>A?0:L!==void 0?L:n!==void 0?n:h?h.getDuration():0,zt=()=>o!==void 0?o:h?h.getIterations():1,pi=()=>V!==void 0?V:e!==void 0?e:h?h.getDelay():0,Kn=()=>a,Bi=$=>(s=$,kt(!0),_),Dt=$=>(r=$,kt(!0),_),rn=$=>(e=$,kt(!0),_),zi=$=>(i=$,kt(!0),_),gl=$=>(!ht&&$===0&&($=1),n=$,kt(!0),_),bl=$=>(o=$,kt(!0),_),Co=$=>(h=$,_),ks=$=>{if($!=null)if($.nodeType===1)Ue.push($);else if($.length>=0)for(let ne=0;ne<$.length;ne++)Ue.push($[ne]);else console.error("Invalid addElement value");return _},xs=$=>{if($!=null)if(Array.isArray($))for(const ne of $)ne.parent(_),Ie.push(ne);else $.parent(_),Ie.push($);return _},mi=$=>{const ne=a!==$;return a=$,ne&&_l(a),_},_l=$=>{ht&&fn().forEach(ne=>{const Ee=ne.effect;if(Ee.setKeyframes)Ee.setKeyframes($);else{const rt=new KeyframeEffect(Ee.target,$,Ee.getTiming());ne.effect=rt}})},_r=()=>{ie.forEach(rt=>rt()),dt.forEach(rt=>rt());const $=l,ne=u,Ee=p;Ue.forEach(rt=>{const mt=rt.classList;$.forEach(pn=>mt.add(pn)),ne.forEach(pn=>mt.remove(pn));for(const pn in Ee)Ee.hasOwnProperty(pn)&&Rd(rt,pn,Ee[pn])})},vl=()=>{Bt.forEach(mt=>mt()),Zt.forEach(mt=>mt());const $=D?1:0,ne=g,Ee=x,rt=E;Ue.forEach(mt=>{const pn=mt.classList;ne.forEach(An=>pn.add(An)),Ee.forEach(An=>pn.remove(An));for(const An in rt)rt.hasOwnProperty(An)&&Rd(mt,An,rt[An])}),L=void 0,O=void 0,V=void 0,P.forEach(mt=>mt.c($,_)),w.forEach(mt=>mt.c($,_)),w.length=0,b=!0,D&&(y=!0),D=!0},Yn=()=>{S!==0&&(S--,S===0&&(vl(),h&&h.animationFinish()))},yl=()=>{Ue.forEach($=>{const ne=$.animate(a,{id:C,delay:pi(),duration:pt(),easing:Xe(),iterations:zt(),fill:Te(),direction:Me()});ne.pause(),Ae.push(ne)}),Ae.length>0&&(Ae[0].onfinish=()=>{Yn()})},Tt=()=>{_r(),a.length>0&&ht&&yl(),d=!0},ji=$=>{$=Math.min(Math.max($,0),.9999),ht&&Ae.forEach(ne=>{ne.currentTime=ne.effect.getComputedTiming().delay+pt()*$,ne.pause()})},Hi=$=>{Ae.forEach(ne=>{ne.effect.updateTiming({delay:pi(),duration:pt(),easing:Xe(),iterations:zt(),fill:Te(),direction:Me()})}),$!==void 0&&ji($)},kt=($=!1,ne=!0,Ee)=>($&&Ie.forEach(rt=>{rt.update($,ne,Ee)}),ht&&Hi(Ee),_),od=($=!1,ne)=>(Ie.forEach(Ee=>{Ee.progressStart($,ne)}),wl(),T=$,d||Tt(),kt(!1,!0,ne),_),rd=$=>(Ie.forEach(ne=>{ne.progressStep($)}),ji($),_),qi=($,ne,Ee)=>(T=!1,Ie.forEach(rt=>{rt.progressEnd($,ne,Ee)}),Ee!==void 0&&(L=Ee),y=!1,D=!0,$===0?(O=Me()==="reverse"?"normal":"reverse",O==="reverse"&&(D=!1),ht?(kt(),ji(1-ne)):(V=(1-ne)*pt()*-1,kt(!1,!1))):$===1&&(ht?(kt(),ji(ne)):(V=ne*pt()*-1,kt(!1,!1))),$!==void 0&&!h&&So(),_),wl=()=>{d&&(ht?Ae.forEach($=>{$.pause()}):Ue.forEach($=>{Rd($,"animation-play-state","paused")}),k=!0)},sd=()=>(Ie.forEach($=>{$.pause()}),wl(),_),vr=()=>{Yn()},El=()=>{Ae.forEach($=>{$.play()}),(a.length===0||Ue.length===0)&&Yn()},Cs=()=>{ht&&(ji(0),Hi())},So=$=>new Promise(ne=>{$!=null&&$.sync&&(A=!0,Fe(()=>A=!1,{oneTimeCallback:!0})),d||Tt(),y&&(Cs(),y=!1),b&&(S=Ie.length+1,b=!1);const Ee=()=>{oe(rt,w),ne()},rt=()=>{oe(Ee,Le),ne()};Fe(rt,{oneTimeCallback:!0}),ke(Ee,{oneTimeCallback:!0}),Ie.forEach(mt=>{mt.play()}),ht?El():vr(),k=!1}),Xn=()=>{Ie.forEach($=>{$.stop()}),d&&(R(),d=!1),te(),Le.forEach($=>$.c(0,_)),Le.length=0},Ss=($,ne)=>{const Ee=a[0];return Ee!==void 0&&(Ee.offset===void 0||Ee.offset===0)?Ee[$]=ne:a=[{offset:0,[$]:ne},...a],_};return _={parentAnimation:h,elements:Ue,childAnimations:Ie,id:C,animationFinish:Yn,from:Ss,to:($,ne)=>{const Ee=a[a.length-1];return Ee!==void 0&&(Ee.offset===void 0||Ee.offset===1)?Ee[$]=ne:a=[...a,{offset:1,[$]:ne}],_},fromTo:($,ne,Ee)=>Ss($,ne).to($,Ee),parent:Co,play:So,pause:sd,stop:Xn,destroy:ft,keyframes:mi,addAnimation:xs,addElement:ks,update:kt,fill:Dt,direction:Bi,iterations:bl,duration:gl,easing:zi,delay:rn,getWebAnimations:fn,getKeyframes:Kn,getFill:Te,getDirection:Me,getDelay:pi,getIterations:zt,getEasing:Xe,getDuration:pt,afterAddRead:K,afterAddWrite:Q,afterClearStyles:he,afterStyles:re,afterRemoveClass:ce,afterAddClass:de,beforeAddRead:z,beforeAddWrite:U,beforeClearStyles:ee,beforeStyles:q,beforeRemoveClass:Y,beforeAddClass:G,onFinish:Fe,isRunning:J,progressStart:od,progressStep:rd,progressEnd:qi}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LR="ION-CONTENT",J0="ion-content",Z0=".ion-content-scroll-host",ew="".concat(J0,", ").concat(Z0),dp=t=>t.tagName===LR,Nh=async t=>dp(t)?(await new Promise(e=>Qr(t,e)),t.getScrollElement()):t,Dh=t=>{const e=t.querySelector(Z0);return e||t.querySelector(ew)},H9=t=>t.closest(ew),q9=(t,e)=>dp(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:"smooth"})),W9=(t,e,n,i)=>dp(t)?t.scrollByPoint(e,n,i):Promise.resolve(t.scrollBy({top:n,left:e,behavior:i>0?"smooth":"auto"})),Lh=t=>fA(t,J0);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Mh;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Mh||(Mh={}));var Vh;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(Vh||(Vh={}));const MR={getEngine(){const t=WA();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==Mh.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tw=t=>{if(Ai===void 0||t===Vh.None||t===void 0)return null;const e=Ai.querySelector("ion-app");return e!=null?e:Ai.body},kb=t=>{const e=tw(t);return e===null?0:e.clientHeight},VR=async t=>{let e,n,i,o;const r=async()=>{const d=await MR.getResizeMode(),h=d===void 0?void 0:d.mode;e=()=>{o===void 0&&(o=kb(h)),i=!0,s(i,h)},n=()=>{i=!1,s(i,h)},Je==null||Je.addEventListener("keyboardWillShow",e),Je==null||Je.addEventListener("keyboardWillHide",n)},s=(d,h)=>{t&&t(d,a(h))},a=d=>{if(o===0||o===kb(d))return;const h=tw(d);if(h!==null)return new Promise(p=>{const g=()=>{h.clientHeight===o&&(x.disconnect(),p())},x=new ResizeObserver(g);x.observe(h)})},l=()=>{Je==null||Je.removeEventListener("keyboardWillShow",e),Je==null||Je.removeEventListener("keyboardWillHide",n),e=n=void 0},u=()=>i;return await r(),{init:r,destroy:l,isKeyboardVisible:u}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xb=(t,e)=>{Xr(()=>{const n=t.scrollTop,i=t.scrollHeight-t.clientHeight,o=10,r=i-o,s=n-r,a=sp(0,1-s/o,1);Oi(()=>{e.style.setProperty("--opacity-scale",a.toString())})})},FR="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",$R=FR,UR="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",BR=UR,zR=wt(class extends ut{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(qe(this)!=="ios")return;const{collapse:n}=this,i=n==="fade";if(this.destroyCollapsibleFooter(),i){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),r=o?Dh(o):null;if(!r){Lh(this.el);return}this.setupFadeFooter(r)}},this.setupFadeFooter=async e=>{const n=this.scrollEl=await Nh(e);this.contentScrollCallback=()=>{xb(n,this.el)},n.addEventListener("scroll",this.contentScrollCallback),xb(n,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await VR(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:n}=this,i=qe(this),o=this.el.closest("ion-tabs"),r=o==null?void 0:o.querySelector(":scope > ion-tab-bar");return H(It,{key:"5da19dc38ba73e1ddfd1bef3ebd485105d77c751",role:"contentinfo",class:{[i]:!0,["footer-".concat(i)]:!0,"footer-translucent":e,["footer-translucent-".concat(i)]:e,"footer-toolbar-padding":!this.keyboardVisible&&(!r||r.slot!=="bottom"),["footer-collapse-".concat(n)]:n!==void 0}},i==="ios"&&e&&H("div",{key:"fafad08090a33d8c4e8a5b63d61929dcb89aab47",class:"footer-background"}),H("slot",{key:"e0a443d346afa55e4317c0bc1263fdbe3c619559"}))}get el(){return this}static get style(){return{ios:$R,md:BR}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function jR(){if(typeof customElements>"u")return;["ion-footer"].forEach(e=>{switch(e){case"ion-footer":customElements.get(e)||customElements.define(e,zR);break}})}const HR=jR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qR="all 0.2s ease-in-out",Cb=t=>{const e=document.querySelector("".concat(t,".ion-cloned-element"));if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},Sb=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},WR=(t,e,n)=>{Xr(()=>{const i=t.scrollTop,o=sp(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&Oi(()=>{YR(e.toolbars,o)})})},hp=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},GR=(t,e,n)=>{if(!t[0].isIntersecting)return;const i=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;hp(e.el,i===1?void 0:i)},KR=(t,e,n,i)=>{Oi(()=>{const o=i.scrollTop;GR(t,e,o);const r=t[0],s=r.intersectionRect,a=s.width*s.height,l=r.rootBounds.width*r.rootBounds.height,u=a===0&&l===0,d=Math.abs(s.left-r.boundingClientRect.left),h=Math.abs(s.right-r.boundingClientRect.right),p=a>0&&(d>=5||h>=5);u||p||(r.isIntersecting?(Ys(e,!1),Ys(n)):(s.x===0&&s.y===0||s.width!==0&&s.height!==0)&&o>0&&(Ys(e),Ys(n,!1),hp(e.el)))})},Ys=(t,e=!0)=>{const n=t.el;e?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},YR=(t=[],e=1,n=!1)=>{t.forEach(i=>{const o=i.ionTitleEl,r=i.innerTitleEl;!o||o.size!=="large"||(r.style.transition=n?qR:"",r.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},Ab=(t,e,n)=>{Xr(()=>{const i=t.scrollTop,o=e.clientHeight,r=n?n.clientHeight:0;if(n!==null&&i<r){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path","inset(".concat(o,"px 0px 0px 0px)"));return}const s=i-r,l=sp(0,s/10,1);Oi(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},XR="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",QR=XR,JR="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",ZR=JR,eP=wt(class extends ut{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const i=this.scrollEl=await Nh(e);this.contentScrollCallback=()=>{Ab(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),Ab(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Eu(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(qe(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",o=n==="fade";if(this.destroyCollapsibleHeader(),i){const r=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=r?Dh(r):null;Oi(()=>{const a=Cb("ion-title");a.size="large",Cb("ion-back-button")}),await this.setupCondenseHeader(s,r)}else if(o){const r=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=r?Dh(r):null;if(!s){Lh(this.el);return}const a=s.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(s,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){Lh(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await Nh(e);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const o=Sb(this.collapsibleMainHeader),r=Sb(this.el);if(!o||!r)return;Ys(o,!1),hp(o.el,0);const s=a=>{KR(a,o,r,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(s,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(r.toolbars[r.toolbars.length-1].el),this.contentScrollCallback=()=>{WR(this.scrollEl,r,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Oi(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,i=qe(this),o=this.collapse||"none",r=_n("ion-menu",this.el)?"none":"banner";return H(It,Object.assign({key:"c687314ef290793a9d633ad20cfc5eeb47621e31",role:r,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(o)]:!0,["header-translucent-".concat(i)]:this.translucent}},n),i==="ios"&&e&&H("div",{key:"b429996046082405a91e7c23f95516db0b736f12",class:"header-background"}),H("slot",{key:"e17a8965f8d3a33c1bfcb056c153d8242e5229fa"}))}get el(){return this}static get style(){return{ios:QR,md:ZR}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function tP(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,eP);break}})}const nP=tP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iP=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",oP=iP,rP=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=He(this,"ionImgWillLoad",7),this.ionImgDidLoad=He(this,"ionImgDidLoad",7),this.ionError=He(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=wu(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:n,onLoad:i,loadError:o,inheritedAttributes:r}=this,{draggable:s}=r;return H(It,{key:"14d24d65ec8e5522192ca58035264971b1ab883b",class:qe(this)},H("img",{key:"345ba155a5fdce5e66c397a599b7333d37d9cb1d",decoding:"async",src:e,alt:n,onLoad:i,onError:o,part:"image",draggable:sP(s)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return oP}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),sP=t=>{switch(t){case"true":return!0;case"false":return!1;default:return}};function aP(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,rP);break}})}const lP=aP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cP=t=>{try{if(t instanceof fP)return t.value;if(!uP()||typeof t!="string"||t==="")return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,hP.forEach(s=>{const a=e.querySelectorAll(s);for(let l=a.length-1;l>=0;l--){const u=a[l];u.parentNode?u.parentNode.removeChild(u):e.removeChild(u);const d=$h(u);for(let h=0;h<d.length;h++)Fh(d[h])}});const i=$h(e);for(let s=0;s<i.length;s++)Fh(i[s]);const o=document.createElement("div");o.appendChild(e);const r=o.querySelector("div");return r!==null?r.innerHTML:o.innerHTML}catch(e){return console.error(e),""}},Fh=t=>{if(t.nodeType&&t.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(t.attributes instanceof NamedNodeMap)){t.remove();return}for(let n=t.attributes.length-1;n>=0;n--){const i=t.attributes.item(n),o=i.name;if(!dP.includes(o.toLowerCase())){t.removeAttribute(o);continue}const r=i.value,s=t[o];(r!=null&&r.toLowerCase().includes("javascript:")||s!=null&&s.toLowerCase().includes("javascript:"))&&t.removeAttribute(o)}const e=$h(t);for(let n=0;n<e.length;n++)Fh(e[n])},$h=t=>t.children!=null?t.children:t.childNodes,uP=()=>{var t;const e=window,n=(t=e==null?void 0:e.Ionic)===null||t===void 0?void 0:t.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},dP=["class","id","href","src","name","slot"],hP=["script","style","iframe","meta","link","object","embed"];class fP{constructor(e){this.value=e}}const pP=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mP=(t,e,n)=>{let i;const o=()=>!(e()===void 0||t.label!==void 0||n()===null),r=()=>{o()&&hs(()=>{s()})},s=()=>{const l=e();if(l===void 0)return;if(!o()){l.style.removeProperty("width");return}const u=n().scrollWidth;if(u===0&&l.offsetParent===null&&Je!==void 0&&"IntersectionObserver"in Je){if(i!==void 0)return;const d=i=new IntersectionObserver(h=>{h[0].intersectionRatio===1&&(s(),d.disconnect(),i=void 0)},{threshold:.01,root:t});d.observe(l);return}l.style.setProperty("width","".concat(u*.75,"px"))};return{calculateNotchWidth:r,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gP=(t,e,n)=>{let i,o;if(Je!==void 0&&"MutationObserver"in Je){const l=Array.isArray(e)?e:[e];i=new MutationObserver(u=>{for(const d of u)for(const h of d.addedNodes)if(h.nodeType===Node.ELEMENT_NODE&&l.includes(h.slot)){n(),hs(()=>r(h));return}}),i.observe(t,{childList:!0,subtree:!0})}const r=l=>{var u;o&&(o.disconnect(),o=void 0),o=new MutationObserver(d=>{n();for(const h of d)for(const p of h.removedNodes)p.nodeType===Node.ELEMENT_NODE&&p.slot===e&&a()}),o.observe((u=l.parentElement)!==null&&u!==void 0?u:l,{subtree:!0,childList:!0})},s=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{o&&(o.disconnect(),o=void 0)};return{destroy:s}},bP=(t,e,n)=>{const i=t==null?0:t.toString().length,o=_P(i,e);if(n===void 0)return o;try{return n(i,e)}catch(r){return hA("Exception in provided `counterFormatter`.",r),o}},_P=(t,e)=>"".concat(t," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vP=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",yP=vP,wP=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",EP=wP,IP=wt(class extends ut{constructor(){super(),this.__registerHost(),this.ionInput=He(this,"ionInput",7),this.ionChange=He(this,"ionChange",7),this.ionBlur=He(this,"ionBlur",7),this.ionFocus=He(this,"ionFocus",7),this.inputId="ion-input-".concat(TP++),this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:SS(e,n)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&!this.isComposing&&(e.value=n)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Eu(this.el)),wu(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=gP(e,["label","start","end"],()=>Ca(this)),this.notchController=mP(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Qr(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this,i=n==null?n:n.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:n}=this;return n===void 0?e==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const i=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didInputClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(e)),i||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:n}=this;return[H("div",{class:"helper-text"},e),H("div",{class:"error-text"},n)]}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:o}=this;if(!(e!==!0||n===void 0))return H("div",{class:"counter"},bP(o,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:o}=this;if(!(!(n||i)&&!(e===!0&&o!==void 0)))return H("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return H("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?H("slot",{name:"label"}):H("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return qe(this)==="md"&&this.fill==="outline"?[H("div",{class:"input-outline-container"},H("div",{class:"input-outline-start"}),H("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},H("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),H("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:n,readonly:i,shape:o,inputId:r,labelPlacement:s,el:a,hasFocus:l,clearInputIcon:u}=this,d=qe(this),h=this.getValue(),p=_n("ion-item",this.el),g=d==="md"&&n!=="outline"&&!p,x=d==="ios"?OS:NS,E=u!=null?u:x,S=this.hasValue(),T=a.querySelector('[slot="start"], [slot="end"]')!==null,A=s==="stacked"||s==="floating"&&(S||l||T);return H(It,{key:"907ce98a82b5cfae5a08504cd79e00a2330b7444",class:Fi(this.color,{[d]:!0,"has-value":S,"has-focus":l,"label-floating":A,["input-fill-".concat(n)]:n!==void 0,["input-shape-".concat(o)]:o!==void 0,["input-label-placement-".concat(s)]:!0,"in-item":p,"in-item-color":_n("ion-item.ion-color",this.el),"input-disabled":e})},H("label",{key:"59d5bb45d2a5b828bba0ed8687a632a551e2f4d8",class:"input-wrapper",htmlFor:r},this.renderLabelContainer(),H("div",{key:"f93f129d08246d0e9a601c100d718534d6403853",class:"native-wrapper"},H("slot",{key:"54eeb1a6bace662b7eb0d7e27180ea3d7e3a3729",name:"start"}),H("input",Object.assign({key:"b3e0be55bc1a4a539ae3b0fdcf7fc078723cca16",class:"native-input",ref:O=>this.nativeInput=O,id:r,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:h,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!e&&H("button",{key:"5f6373504a6d0d074bfbf875c794d45ea2748175","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:O=>{O.preventDefault()},onFocusin:O=>{O.stopPropagation()},onClick:this.clearTextInput},H("ion-icon",{key:"230d77973aa83458ceb32bf52e3abe9bc322cfe6","aria-hidden":"true",icon:E})),H("slot",{key:"9d69ac6e8a3c4b2b303dba2478f82695d5755ed2",name:"end"})),g&&H("div",{key:"ac61f16237ce731e0745ab72d0fc3f066252464a",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}}static get style(){return{ios:yP,md:EP}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},void 0,{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}]);let TP=0;function kP(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,IP);break;case"ion-icon":customElements.get(e)||Tu();break}})}const xP=kP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const CP=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',SP=CP,AP=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',RP=AP,PP=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=mb,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,o={},r=this.itemStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{if(i[a]){const l="item-".concat(a);r[l]||(s=!0),o[l]=!0}}),!s&&Object.keys(o).length!==Object.keys(r).length&&(s=!0),s&&(this.itemStyles.set(n,o),Ca(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=wu(this.el,["aria-label"])}componentDidLoad(){hs(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:n,download:i,labelColorStyles:o,lines:r,disabled:s,href:a,rel:l,target:u,routerAnimation:d,routerDirection:h,inheritedAriaAttributes:p,multipleInputs:g}=this,x={},E=qe(this),S=this.isClickable(),T=this.canActivate(),A=S?a===void 0?"button":"a":"div",O=A==="button"?{type:this.type}:{download:i,href:a,rel:l,target:u};let L={};const V=this.getFirstInteractive();(S||V!==void 0&&!g)&&(L={onClick:k=>{if(S&&lp(a,k,h,d),V!==void 0&&!g){const P=k.composedPath()[0];k.isTrusted&&this.el.shadowRoot.contains(P)&&(V.tagName==="ION-INPUT"||V.tagName==="ION-TEXTAREA"?V.setFocus():V.click())}}});const D=e!==void 0?e:E==="ios"&&S;this.itemStyles.forEach(k=>{Object.assign(x,k)});const y=s||x["item-interactive-disabled"]?"true":null,b=_n("ion-list",this.el)&&!_n("ion-radio-group",this.el),_=V!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(V.tagName);return H(It,{key:"6fe6bae954259703482f175312a051ff1b315a95","aria-disabled":y,class:Object.assign(Object.assign(Object.assign({},x),o),Fi(this.color,{item:!0,[E]:!0,"item-lines-default":r===void 0,["item-lines-".concat(r)]:r!==void 0,"item-control-needs-pointer-cursor":_,"item-disabled":s,"in-list":b,"item-multiple-inputs":this.multipleInputs,"ion-activatable":T,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:b?"listitem":null},H(A,Object.assign({key:"fcfcffacb7d4e52f9458724332efa93d140cf637"},O,p,{class:"item-native",part:"native",disabled:s},L),H("slot",{key:"2c1be89990d1b4264f056f3afca2657dc25e868f",name:"start"}),H("div",{key:"a12010f2f251c29870806050357e247f297f752d",class:"item-inner"},H("div",{key:"d0dc5901d634d3b7d8c9b4339ed02585b5b88828",class:"input-wrapper"},H("slot",{key:"5589d491f6058858310c72971de50ddf441379b1"})),H("slot",{key:"7b2d2182336abef508d00882759df1a99a1cf93e",name:"end"}),D&&H("ion-icon",{key:"f93f7e7166413f1f2691430dcda83ecf858f7e1f",icon:n,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":n===mb})),T&&E==="md"&&H("ion-ripple-effect",{key:"3d13ce7623813d650ada97974b29a2e94e2405b1"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:SP,md:RP}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);function OP(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,PP);break;case"ion-icon":customElements.get(e)||Tu();break;case"ion-ripple-effect":customElements.get(e)||ku();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NP=OP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DP=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",LP=DP,MP=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",VP=MP,FP=wt(class extends ut{constructor(){super(),this.__registerHost(),this.ionColor=He(this,"ionColor",7),this.ionStyle=He(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,["label-".concat(n)]:n!==void 0})}render(){const e=this.position,n=qe(this);return H(It,{key:"c2c0f388dab910d294efb9fbb409ee4ef829c1ed",class:Fi(this.color,{[n]:!0,"in-item-color":_n("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},H("slot",{key:"4de6b69950f417873a13c851018ec31ea2686f0a"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:LP,md:VP}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function $P(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,FP);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const UP=$P;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BP="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",zP=BP,jP="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",HP=jP,qP=wt(class extends ut{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=qe(this),{lines:n,inset:i}=this;return H(It,{key:"8bde220025a7eeca6da075379c6487c4c9bdddc1",role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":i,["list-lines-".concat(n)]:n!==void 0,["list-".concat(e,"-lines-").concat(n)]:n!==void 0}})}get el(){return this}static get style(){return{ios:zP,md:HP}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function WP(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,qP);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GP=WP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nc=(t,e,n,i,o)=>YP(t[1],e[1],n[1],i[1],o).map(r=>KP(t[0],e[0],n[0],i[0],r)),KP=(t,e,n,i,o)=>{const r=3*e*Math.pow(o-1,2),s=-3*n*o+3*n+i*o,a=t*Math.pow(o-1,3);return o*(r+o*s)-a},YP=(t,e,n,i,o)=>(t-=o,e-=o,n-=o,i-=o,QP(i-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(s=>s>=0&&s<=1)),XP=(t,e,n)=>{const i=e*e-4*t*n;return i<0?[]:[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]},QP=(t,e,n,i)=>{if(t===0)return XP(e,n,i);e/=t,n/=t,i/=t;const o=(3*n-e*e)/3,r=(2*e*e*e-9*e*n+27*i)/27;if(o===0)return[Math.pow(-r,1/3)];if(r===0)return[Math.sqrt(-o),-Math.sqrt(-o)];const s=Math.pow(r/2,2)+Math.pow(o/3,3);if(s===0)return[Math.pow(r/2,1/2)-e/3];if(s>0)return[Math.pow(-(r/2)+Math.sqrt(s),1/3)-Math.pow(r/2+Math.sqrt(s),1/3)-e/3];const a=Math.sqrt(Math.pow(-(o/3),3)),l=Math.acos(-(r/(2*Math.sqrt(Math.pow(-(o/3),3))))),u=2*Math.pow(a,1/3);return[u*Math.cos(l/3)-e/3,u*Math.cos((l+2*Math.PI)/3)-e/3,u*Math.cos((l+4*Math.PI)/3)-e/3]},nw=1,iw=2,Dc=3;class Uh{constructor(e,n){this.component=e,this.params=n,this.state=nw}async init(e){if(this.state=iw,!this.element){const n=this.component;this.element=await B0(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){sn(this.state!==Dc,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Dc}}const Rb=(t,e,n)=>!t||t.component!==e?!1:R0(t.params,n),Pb=(t,e)=>t?t instanceof Uh?t:new Uh(t,e):null,JP=t=>t.map(e=>e instanceof Uh?e:"component"in e?Pb(e.component,e.componentProps===null?void 0:e.componentProps):Pb(e,void 0)).filter(e=>e!==null),ZP=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",eO=ZP,tO=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=He(this,"ionNavWillLoad",7),this.ionNavWillChange=He(this,"ionNavWillChange",3),this.ionNavDidChange=He(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=qe(this);this.swipeGesture=Oe.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await ei(()=>import("./swipe-back-B4f7H6OQ.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Ei(e.element,Sd),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,i,o){return this.insert(-1,e,n,i,o)}insert(e,n,i,o,r){return this.insertPages(e,[{component:n,componentProps:i}],o,r)}insertPages(e,n,i,o){return this.queueTrns({insertStart:e,insertViews:n,opts:i},o)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,i){const o={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(o.removeView=e,o.removeStart=1):typeof e=="number"&&(o.removeStart=e+1),this.queueTrns(o,i)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,i,o){return this.queueTrns({removeStart:e,removeCount:n,opts:i},o)}setRoot(e,n,i,o){return this.setPages([{component:e,componentProps:n}],i,o)}setPages(e,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(e,n,i,o){const r=this.getActiveSync();if(Rb(r,e,n))return Promise.resolve({changed:!1,element:r.element});let s;const a=new Promise(d=>s=d);let l;const u={updateURL:!1,viewIsReady:d=>{let h;const p=new Promise(g=>h=g);return s({changed:!0,element:d,markVisible:async()=>{h(),await l}}),p}};if(i==="root")l=this.setRoot(e,n,u);else{const d=this.views.find(h=>Rb(h,e,n));d?l=this.popTo(d,Object.assign(Object.assign({},u),{direction:"back",animationBuilder:o})):i==="forward"?l=this.push(e,n,Object.assign(Object.assign({},u),{animationBuilder:o})):i==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},u),{direction:"back",animated:!0,animationBuilder:o})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,i=n.indexOf(e);return i>0?n[i-1]:void 0}async queueTrns(e,n){var i,o;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const r=new Promise((s,a)=>{e.resolve=s,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const s=document.querySelector("ion-router");if(s){const a=await s.canTransition();if(a===!1)return!1;if(typeof a=="string")return s.push(a,e.opts.direction||"back"),!1}}return((o=e.insertViews)===null||o===void 0?void 0:o.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),r}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const o=e.direction==="back"?"back":"forward";i.navChanged(o)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),i=this.getEnteringView(e,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===nw&&await i.init(this.el),this.postViewInit(i,n,e);const o=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==n;o&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let r;o?r=await this.transition(i,n,e):r={hasCompleted:!0,requiresTransition:!1},this.success(r,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,i,o;const r=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(i=(o=e.opts).delegate)!==null&&i!==void 0||(o.delegate=this.delegate),e.removeView!==void 0){sn(e.removeStart!==void 0,"removeView needs removeStart"),sn(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=r-1),e.removeCount<0&&(e.removeCount=r-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===r),e.insertViews&&((e.insertStart<0||e.insertStart>r)&&(e.insertStart=r),e.enteringRequiresTransition=e.insertStart===r);const s=e.insertViews;if(!s)return;sn(s.length>0,"length can not be zero");const a=JP(s);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const u=l.nav;if(u&&u!==this)throw new Error("inserted view was already inserted");if(l.state===Dc)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const o=e.removeStart;if(o!==void 0){const r=this.views,s=o+e.removeCount;for(let a=r.length-1;a>=0;a--){const l=r[a];if((a<o||a>=s)&&l!==n)return l}}}postViewInit(e,n,i){var o,r,s;sn(n||e,"Both leavingView and enteringView are null"),sn(i.resolve,"resolve must be valid"),sn(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:u,removeCount:d}=i;let h;if(u!==void 0&&d!==void 0){sn(u>=0,"removeStart can not be negative"),sn(d>=0,"removeCount can not be negative"),h=[];for(let g=u;g<u+d;g++){const x=this.views[g];x!==void 0&&x!==e&&x!==n&&h.push(x)}(o=a.direction)!==null&&o!==void 0||(a.direction="back")}const p=this.views.length+((r=l==null?void 0:l.length)!==null&&r!==void 0?r:0)-(d!=null?d:0);if(sn(p>=0,"final balance can not be negative"),p===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let g=i.insertStart;for(const x of l)this.insertViewAt(x,g),g++;i.enteringRequiresTransition&&((s=a.direction)!==null&&s!==void 0||(a.direction="forward"))}if(h&&h.length>0){for(const g of h)Ei(g.element,Cu),Ei(g.element,Su),Ei(g.element,Sd);for(const g of h)this.destroyView(g)}}async transition(e,n,i){const o=i.opts,r=o.progressAnimation?h=>{h!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,h.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),h.progressEnd(0,0,0)):this.sbAni=h}:void 0,s=qe(this),a=e.element,l=n&&n.element,u=Object.assign(Object.assign({mode:s,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:r,animated:this.animated&&Oe.getBoolean("animated",!0),enteringEl:a,leavingEl:l},o),{animationBuilder:o.animationBuilder||this.animation||Oe.get("navAnimation")}),{hasCompleted:d}=await K0(u);return this.transitionFinish(d,e,n,o)}transitionFinish(e,n,i,o){const r=e?n:i;return r&&this.unmountInactiveViews(r),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:i,direction:o.direction}}insertViewAt(e,n){const i=this.views,o=i.indexOf(e);o>-1?(sn(e.nav===this,"view is not part of the nav"),i.splice(o,1),i.splice(n,0,e)):(sn(!e.nav,"nav is used"),e.nav=this,i.splice(n,0,e))}removeView(e){sn(e.state===iw||e.state===Dc,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(e);sn(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,i=n.indexOf(e);for(let o=n.length-1;o>=0;o--){const r=n[o],s=r.element;s&&(o>i?(Ei(s,Sd),this.destroyView(r)):o<i&&Oh(s,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let o=e?-.001:.001;e?o+=Nc([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=Nc([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,o,i)}else this.gestureOrAnimationInProgress=!1}render(){return H("slot",{key:"e9d99a8a0b84f02f9964d8143cd5e647e43334f9"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return eO}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function nO(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,tO);break}})}const iO=nO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Do=(t,e,n,i)=>{const o=oO(t)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let r,s;return t.__zone_symbol__addEventListener?(r="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(r="addEventListener",s="removeEventListener"),t[r](e,n,o),()=>{t[s](e,n,o)}},oO=t=>{if(Wl===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{Wl=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){Wl=!1}return!!Wl};let Wl;const rO=2e3,sO=(t,e,n,i,o)=>{let r,s,a,l,u,d,h,p=0;const g=D=>{p=Date.now()+rO,e(D)&&(!s&&n&&(s=Do(t,"touchmove",n,o)),a||(a=Do(D.target,"touchend",E,o)),l||(l=Do(D.target,"touchcancel",E,o)))},x=D=>{p>Date.now()||e(D)&&(!d&&n&&(d=Do(Ob(t),"mousemove",n,o)),h||(h=Do(Ob(t),"mouseup",S,o)))},E=D=>{T(),i&&i(D)},S=D=>{A(),i&&i(D)},T=()=>{s&&s(),a&&a(),l&&l(),s=a=l=void 0},A=()=>{d&&d(),h&&h(),d=h=void 0},O=()=>{T(),A()},L=(D=!0)=>{D?(r||(r=Do(t,"touchstart",g,o)),u||(u=Do(t,"mousedown",x,o))):(r&&r(),u&&u(),r=u=void 0,O())};return{enable:L,stop:O,destroy:()=>{L(!1),i=n=e=void 0}}},Ob=t=>t instanceof Document?t:t.ownerDocument,aO=(t,e,n)=>{const i=n*(Math.PI/180),o=t==="x",r=Math.cos(i),s=e*e;let a=0,l=0,u=!1,d=0;return{start(h,p){a=h,l=p,d=0,u=!0},detect(h,p){if(!u)return!1;const g=h-a,x=p-l,E=g*g+x*x;if(E<s)return!1;const S=Math.sqrt(E),T=(o?g:x)/S;return T>r?d=1:T<-r?d=-1:d=0,u=!1,!0},isGesture(){return d!==0},getDirection(){return d}}},lO=t=>{let e=!1,n=!1,i=!0,o=!1;const r=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),s=r.canStart,a=r.onWillStart,l=r.onStart,u=r.onEnd,d=r.notCaptured,h=r.onMove,p=r.threshold,g=r.passive,x=r.blurOnStart,E={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},S=aO(r.direction,r.threshold,r.maxAngle),T=nR.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),A=P=>{const w=rw(P);return n||!i||(ow(P,E),E.startX=E.currentX,E.startY=E.currentY,E.startTime=E.currentTime=w,E.velocityX=E.velocityY=E.deltaX=E.deltaY=0,E.event=P,s&&s(E)===!1)||(T.release(),!T.start())?!1:(n=!0,p===0?V():(S.start(E.startX,E.startY),!0))},O=P=>{if(e){!o&&i&&(o=!0,Pd(E,P),requestAnimationFrame(L));return}Pd(E,P),S.detect(E.currentX,E.currentY)&&(!S.isGesture()||!V())&&C()},L=()=>{e&&(o=!1,h&&h(E))},V=()=>T.capture()?(e=!0,i=!1,E.startX=E.currentX,E.startY=E.currentY,E.startTime=E.currentTime,a?a(E).then(y):y(),!0):!1,D=()=>{if(typeof document<"u"){const P=document.activeElement;P!=null&&P.blur&&P.blur()}},y=()=>{x&&D(),l&&l(E),i=!0},b=()=>{e=!1,n=!1,o=!1,i=!0,T.release()},_=P=>{const w=e,Le=i;if(b(),!!Le){if(Pd(E,P),w){u&&u(E);return}d&&d(E)}},k=sO(r.el,A,O,_,{capture:!1,passive:g}),C=()=>{b(),k.stop(),d&&d(E)};return{enable(P=!0){P||(e&&_(void 0),b()),k.enable(P)},destroy(){T.destroy(),k.destroy()}}},Pd=(t,e)=>{if(!e)return;const n=t.currentX,i=t.currentY,o=t.currentTime;ow(e,t);const r=t.currentX,s=t.currentY,l=(t.currentTime=rw(e))-o;if(l>0&&l<100){const u=(r-n)/l,d=(s-i)/l;t.velocityX=u*.7+t.velocityX*.3,t.velocityY=d*.7+t.velocityY*.3}t.deltaX=r-t.startX,t.deltaY=s-t.startY,t.event=e},ow=(t,e)=>{let n=0,i=0;if(t){const o=t.changedTouches;if(o&&o.length>0){const r=o[0];n=r.clientX,i=r.clientY}else t.pageX!==void 0&&(n=t.pageX,i=t.pageY)}e.currentX=n,e.currentY=i},rw=t=>t.timeStamp||Date.now();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cO=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",uO=cO,dO=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",hO=dO,fO=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=He(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=qe(this),n=this.getSize();return H(It,{key:"5a58dc437a6f4257244bbdd7e9a682a17d8c9a6b",class:Fi(this.color,{[e]:!0,["title-".concat(n)]:!0,"title-rtl":document.dir==="rtl"})},H("div",{key:"58682ea7b8f47a08adfad419b5c76b34784c6501",class:"toolbar-title"},H("slot",{key:"8a9248534e4c3076f5e2dfda38ef86069796851c"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:uO,md:hO}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function pO(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,fO);break}})}const mO=pO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gO=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",bO=gO,_O=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",vO=_O,yO=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(r=>r.slot==="start");n&&n.classList.add("buttons-first-slot");const i=e.reverse(),o=i.find(r=>r.slot==="end")||i.find(r=>r.slot==="primary")||i.find(r=>r.slot==="secondary");o&&o.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,o={},r=this.childrenStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{const l="toolbar-".concat(a),u=i[a];u!==r[l]&&(s=!0),u&&(o[l]=!0)}),s&&(this.childrenStyles.set(n,o),Ca(this))}render(){const e=qe(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),H(It,{key:"4bb3a55001408a3bdf033af76b9196cb96c07c09",class:Object.assign(Object.assign({},n),Fi(this.color,{[e]:!0,"in-toolbar":_n("ion-toolbar",this.el)}))},H("div",{key:"0891db157d6e028c6d03696f13fb510ea91b0296",class:"toolbar-background"}),H("div",{key:"95fbc870d808f74af4bb18cd8f8ec8c7828a9e0b",class:"toolbar-container"},H("slot",{key:"84d4a9644660fe00ca085055ca8d12f3647531ad",name:"start"}),H("slot",{key:"fd361dc9c9979f59aed2fedcf94629506fae62b0",name:"secondary"}),H("div",{key:"54d2b28616a4627c55766f66dc453707752758a6",class:"toolbar-content"},H("slot",{key:"8f65e0830cce7135640b90eb694e282cb7e5efd2"})),H("slot",{key:"c78be11a207c8674f222543646398636956087e6",name:"primary"}),H("slot",{key:"ab25e1601ccaa8cb0d81921b849bcb7402aa7826",name:"end"})))}get el(){return this}static get style(){return{ios:bO,md:vO}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function wO(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,yO);break}})}const EO=wO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IO=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',TO=IO,kO=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',xO=kO,CO=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const n=this.el.closest("ion-nav");return e.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):lp(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Eu(this.el),this.defaultHref===void 0&&(this.defaultHref=Oe.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:qe(this)==="ios"?Oe.get("backButtonIcon",PS):Oe.get("backButtonIcon",RS)}get backButtonText(){const e=qe(this)==="ios"?"Back":null;return this.text!=null?this.text:Oe.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:i,type:o,hasIconOnly:r,backButtonIcon:s,backButtonText:a,icon:l,inheritedAttributes:u}=this,d=n!==void 0,h=qe(this),p=u["aria-label"]||a||"back";return H(It,{key:"8351c93a1812c94c979fb115f07a9ad7b3152188",onClick:this.onClick,class:Fi(e,{[h]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":r,"in-toolbar":_n("ion-toolbar",this.el),"in-toolbar-color":_n("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":d})},H("button",{key:"991b8baa784dbfbdf8d3581cbbf6a858ac1f1e6e",type:o,disabled:i,class:"button-native",part:"native","aria-label":p},H("span",{key:"929fcd83a4fdb00cf97ca803f234719171602a5e",class:"button-inner"},s&&H("ion-icon",{key:"0c10d412ae8342d96f221e626b421c9abadac748",part:"icon",icon:s,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&H("span",{key:"96f505880a80f36ee8b8c78268b450f3629ee613",part:"text","aria-hidden":"true",class:"button-text"},a)),h==="md"&&H("ion-ripple-effect",{key:"0aecf5d415c608069eb1a10043530bd0929b6383",type:this.rippleType})))}get el(){return this}static get style(){return{ios:TO,md:xO}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function SO(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,CO);break;case"ion-icon":customElements.get(e)||Tu();break;case"ion-ripple-effect":customElements.get(e)||ku();break}})}const AO=SO,RO=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",PO=RO,OO=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=He(this,"ionNavWillLoad",7),this.ionNavWillChange=He(this,"ionNavWillChange",3),this.ionNavDidChange=He(this,"ionNavDidChange",3),this.lockController=W0(),this.gestureOrAnimationInProgress=!1,this.mode=qe(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await ei(()=>import("./swipe-back-B4f7H6OQ.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,o)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let r=n?-.001:.001;n?r+=Nc([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=Nc([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,r,o)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,i){const o=await this.lockController.lock();let r=!1;try{r=await this.transition(e,n,i)}catch(s){console.error(s)}return o(),r}async setRouteId(e,n,i,o){return{changed:await this.setRoot(e,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:o}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,i){if(this.activeComponent===e&&R0(n,this.activeParams))return!1;const o=this.activeEl,r=await B0(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=r,this.activeParams=n,await this.commit(r,o,i),await QA(this.delegate,o),!0}async transition(e,n,i={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:o,mode:r}=this,s=this.animated&&Oe.getBoolean("animated",!0),a=i.animationBuilder||this.animation||Oe.get("navAnimation");return await K0(Object.assign(Object.assign({mode:r,animated:s,enteringEl:e,leavingEl:n,baseEl:o,deepWait:xh(o),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return H("slot",{key:"8279a453c66a766e6e383ff59842b4ae070c13a9"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return PO}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function NO(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,OO);break}})}const DO=NO;/*!
  * vue-router v4.3.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Cr=typeof document<"u";function LO(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const je=Object.assign;function Od(t,e){const n={};for(const i in e){const o=e[i];n[i]=jn(o)?o.map(t):t(o)}return n}const ca=()=>{},jn=Array.isArray,sw=/#/g,MO=/&/g,VO=/\//g,FO=/=/g,$O=/\?/g,aw=/\+/g,UO=/%5B/g,BO=/%5D/g,lw=/%5E/g,zO=/%60/g,cw=/%7B/g,jO=/%7C/g,uw=/%7D/g,HO=/%20/g;function fp(t){return encodeURI(""+t).replace(jO,"|").replace(UO,"[").replace(BO,"]")}function qO(t){return fp(t).replace(cw,"{").replace(uw,"}").replace(lw,"^")}function Bh(t){return fp(t).replace(aw,"%2B").replace(HO,"+").replace(sw,"%23").replace(MO,"%26").replace(zO,"`").replace(cw,"{").replace(uw,"}").replace(lw,"^")}function WO(t){return Bh(t).replace(FO,"%3D")}function GO(t){return fp(t).replace(sw,"%23").replace($O,"%3F")}function KO(t){return t==null?"":GO(t).replace(VO,"%2F")}function Aa(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}const YO=/\/$/,XO=t=>t.replace(YO,"");function Nd(t,e,n="/"){let i,o={},r="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),o=t(r)),a>-1&&(i=i||e.slice(0,a),s=e.slice(a,e.length)),i=eN(i!=null?i:e,n),{fullPath:i+(r&&"?")+r+s,path:i,query:o,hash:Aa(s)}}function QO(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Nb(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function JO(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Jr(e.matched[i],n.matched[o])&&dw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Jr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function dw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!ZO(t[n],e[n]))return!1;return!0}function ZO(t,e){return jn(t)?Db(t,e):jn(e)?Db(e,t):t===e}function Db(t,e){return jn(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function eN(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let r=n.length-1,s,a;for(s=0;s<i.length;s++)if(a=i[s],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(s).join("/")}var Ra;(function(t){t.pop="pop",t.push="push"})(Ra||(Ra={}));var ua;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ua||(ua={}));function tN(t){if(!t)if(Cr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),XO(t)}const nN=/^[^#]+#/;function iN(t,e){return t.replace(nN,"#")+e}function oN(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Au=()=>({left:window.scrollX,top:window.scrollY});function rN(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=oN(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Lb(t,e){return(history.state?history.state.position-e:-1)+t}const zh=new Map;function sN(t,e){zh.set(t,e)}function aN(t){const e=zh.get(t);return zh.delete(t),e}let lN=()=>location.protocol+"//"+location.host;function hw(t,e){const{pathname:n,search:i,hash:o}=e,r=t.indexOf("#");if(r>-1){let a=o.includes(t.slice(r))?t.slice(r).length:1,l=o.slice(a);return l[0]!=="/"&&(l="/"+l),Nb(l,"")}return Nb(n,t)+i+o}function cN(t,e,n,i){let o=[],r=[],s=null;const a=({state:p})=>{const g=hw(t,location),x=n.value,E=e.value;let S=0;if(p){if(n.value=g,e.value=p,s&&s===x){s=null;return}S=E?p.position-E.position:0}else i(g);o.forEach(T=>{T(n.value,x,{delta:S,type:Ra.pop,direction:S?S>0?ua.forward:ua.back:ua.unknown})})};function l(){s=n.value}function u(p){o.push(p);const g=()=>{const x=o.indexOf(p);x>-1&&o.splice(x,1)};return r.push(g),g}function d(){const{history:p}=window;p.state&&p.replaceState(je({},p.state,{scroll:Au()}),"")}function h(){for(const p of r)p();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function Mb(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?Au():null}}function uN(t){const{history:e,location:n}=window,i={value:hw(t,n)},o={value:e.state};o.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,u,d){const h=t.indexOf("#"),p=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:lN()+t+l;try{e[d?"replaceState":"pushState"](u,"",p),o.value=u}catch(g){console.error(g),n[d?"replace":"assign"](p)}}function s(l,u){const d=je({},e.state,Mb(o.value.back,l,o.value.forward,!0),u,{position:o.value.position});r(l,d,!0),i.value=l}function a(l,u){const d=je({},o.value,e.state,{forward:l,scroll:Au()});r(d.current,d,!0);const h=je({},Mb(i.value,l,null),{position:d.position+1},u);r(l,h,!1),i.value=l}return{location:i,state:o,push:a,replace:s}}function dN(t){t=tN(t);const e=uN(t),n=cN(t,e.state,e.location,e.replace);function i(r,s=!0){s||n.pauseListeners(),history.go(r)}const o=je({location:"",base:t,go:i,createHref:iN.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function hN(t){return typeof t=="string"||t&&typeof t=="object"}function fw(t){return typeof t=="string"||typeof t=="symbol"}const Yi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},pw=Symbol("");var Vb;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Vb||(Vb={}));function Zr(t,e){return je(new Error,{type:t,[pw]:!0},e)}function _i(t,e){return t instanceof Error&&pw in t&&(e==null||!!(t.type&e))}const Fb="[^/]+?",fN={sensitive:!1,strict:!1,start:!0,end:!0},pN=/[.+*?^${}()[\]/\\]/g;function mN(t,e){const n=je({},fN,e),i=[];let o=n.start?"^":"";const r=[];for(const u of t){const d=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let h=0;h<u.length;h++){const p=u[h];let g=40+(n.sensitive?.25:0);if(p.type===0)h||(o+="/"),o+=p.value.replace(pN,"\\$&"),g+=40;else if(p.type===1){const{value:x,repeatable:E,optional:S,regexp:T}=p;r.push({name:x,repeatable:E,optional:S});const A=T||Fb;if(A!==Fb){g+=10;try{new RegExp("(".concat(A,")"))}catch(L){throw new Error('Invalid custom RegExp for param "'.concat(x,'" (').concat(A,"): ")+L.message)}}let O=E?"((?:".concat(A,")(?:/(?:").concat(A,"))*)"):"(".concat(A,")");h||(O=S&&u.length<2?"(?:/".concat(O,")"):"/"+O),S&&(O+="?"),o+=O,g+=20,S&&(g+=-8),E&&(g+=-20),A===".*"&&(g+=-50)}d.push(g)}i.push(d)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");function a(u){const d=u.match(s),h={};if(!d)return null;for(let p=1;p<d.length;p++){const g=d[p]||"",x=r[p-1];h[x.name]=g&&x.repeatable?g.split("/"):g}return h}function l(u){let d="",h=!1;for(const p of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const g of p)if(g.type===0)d+=g.value;else if(g.type===1){const{value:x,repeatable:E,optional:S}=g,T=x in u?u[x]:"";if(jn(T)&&!E)throw new Error('Provided param "'.concat(x,'" is an array but it is not repeatable (* or + modifiers)'));const A=jn(T)?T.join("/"):T;if(!A)if(S)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error('Missing required param "'.concat(x,'"'));d+=A}}return d||"/"}return{re:s,score:i,keys:r,parse:a,stringify:l}}function gN(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function mw(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const r=gN(i[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-i.length)===1){if($b(i))return 1;if($b(o))return-1}return o.length-i.length}function $b(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const bN={type:0,value:""},_N=/[a-zA-Z0-9_]/;function vN(t){if(!t)return[[]];if(t==="/")return[[bN]];if(!t.startsWith("/"))throw new Error('Invalid path "'.concat(t,'"'));function e(g){throw new Error("ERR (".concat(n,')/"').concat(u,'": ').concat(g))}let n=0,i=n;const o=[];let r;function s(){r&&o.push(r),r=[]}let a=0,l,u="",d="";function h(){u&&(n===0?r.push({type:0,value:u}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e("A repeatable param (".concat(u,") must be alone in its segment. eg: '/:ids+.")),r.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),s()):l===":"?(h(),n=1):p();break;case 4:p(),n=i;break;case 1:l==="("?n=2:_N.test(l)?p():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e('Unfinished custom RegExp for param "'.concat(u,'"')),h(),s(),o}function yN(t,e,n){const i=mN(vN(t.path),n),o=je(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function wN(t,e){const n=[],i=new Map;e=zb({strict:!1,end:!0,sensitive:!1},e);function o(d){return i.get(d)}function r(d,h,p){const g=!p,x=EN(d);x.aliasOf=p&&p.record;const E=zb(e,d),S=[x];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const L of O)S.push(je({},x,{components:p?p.record.components:x.components,path:L,aliasOf:p?p.record:x}))}let T,A;for(const O of S){const{path:L}=O;if(h&&L[0]!=="/"){const V=h.record.path,D=V[V.length-1]==="/"?"":"/";O.path=h.record.path+(L&&D+L)}if(T=yN(O,h,E),p?p.alias.push(T):(A=A||T,A!==T&&A.alias.push(T),g&&d.name&&!Bb(T)&&s(d.name)),gw(T)&&l(T),x.children){const V=x.children;for(let D=0;D<V.length;D++)r(V[D],T,p&&p.children[D])}p=p||T}return A?()=>{s(A)}:ca}function s(d){if(fw(d)){const h=i.get(d);h&&(i.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&i.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function a(){return n}function l(d){const h=kN(d,n);n.splice(h,0,d),d.record.name&&!Bb(d)&&i.set(d.record.name,d)}function u(d,h){let p,g={},x,E;if("name"in d&&d.name){if(p=i.get(d.name),!p)throw Zr(1,{location:d});E=p.record.name,g=je(Ub(h.params,p.keys.filter(A=>!A.optional).concat(p.parent?p.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),d.params&&Ub(d.params,p.keys.map(A=>A.name))),x=p.stringify(g)}else if(d.path!=null)x=d.path,p=n.find(A=>A.re.test(x)),p&&(g=p.parse(x),E=p.record.name);else{if(p=h.name?i.get(h.name):n.find(A=>A.re.test(h.path)),!p)throw Zr(1,{location:d,currentLocation:h});E=p.record.name,g=je({},h.params,d.params),x=p.stringify(g)}const S=[];let T=p;for(;T;)S.unshift(T.record),T=T.parent;return{name:E,path:x,params:g,matched:S,meta:TN(S)}}return t.forEach(d=>r(d)),{addRoute:r,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:o}}function Ub(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function EN(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:IN(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function IN(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function Bb(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function TN(t){return t.reduce((e,n)=>je(e,n.meta),{})}function zb(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function kN(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;mw(t,e[r])<0?i=r:n=r+1}const o=xN(t);return o&&(i=e.lastIndexOf(o,i-1)),i}function xN(t){let e=t;for(;e=e.parent;)if(gw(e)&&mw(t,e)===0)return e}function gw({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function jh(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const r=i[o].replace(aw," "),s=r.indexOf("="),a=Aa(s<0?r:r.slice(0,s)),l=s<0?null:Aa(r.slice(s+1));if(a in e){let u=e[a];jn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function jb(t){let e="";for(let n in t){const i=t[n];if(n=WO(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(jn(i)?i.map(r=>r&&Bh(r)):[i&&Bh(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function CN(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=jn(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const bw=Symbol(""),Hb=Symbol(""),Ru=Symbol(""),Pu=Symbol(""),Hh=Symbol("");function Bs(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function eo(t,e,n,i,o,r=s=>s()){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(Zr(4,{from:n,to:e})):p instanceof Error?l(p):hN(p)?l(Zr(2,{from:e,to:p})):(s&&i.enterCallbacks[o]===s&&typeof p=="function"&&s.push(p),a())},d=r(()=>t.call(i&&i.instances[o],e,n,u));let h=Promise.resolve(d);t.length<3&&(h=h.then(u)),h.catch(p=>l(p))})}function Dd(t,e,n,i,o=r=>r()){const r=[];for(const s of t)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(SN(l)){const d=(l.__vccOpts||l)[e];d&&r.push(eo(d,n,i,s,a,o))}else{let u=l();r.push(()=>u.then(d=>{if(!d)return Promise.reject(new Error("Couldn't resolve component \"".concat(a,'" at "').concat(s.path,'"')));const h=LO(d)?d.default:d;s.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&eo(g,n,i,s,a,o)()}))}}return r}function SN(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function qb(t){const e=Pt(Ru),n=Pt(Pu),i=En(()=>{const l=se(t.to);return e.resolve(l)}),o=En(()=>{const{matched:l}=i.value,{length:u}=l,d=l[u-1],h=n.matched;if(!d||!h.length)return-1;const p=h.findIndex(Jr.bind(null,d));if(p>-1)return p;const g=Wb(l[u-2]);return u>1&&Wb(d)===g&&h[h.length-1].path!==g?h.findIndex(Jr.bind(null,l[u-2])):p}),r=En(()=>o.value>-1&&ON(n.params,i.value.params)),s=En(()=>o.value>-1&&o.value===n.matched.length-1&&dw(n.params,i.value.params));function a(l={}){return PN(l)?e[se(t.replace)?"replace":"push"](se(t.to)).catch(ca):Promise.resolve()}return{route:i,href:En(()=>i.value.href),isActive:r,isExactActive:s,navigate:a}}const AN=Gn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qb,setup(t,{slots:e}){const n=pu(qb(t)),{options:i}=Pt(Ru),o=En(()=>({[Gb(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Gb(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:hn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),RN=AN;function PN(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ON(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!jn(o)||o.length!==i.length||i.some((r,s)=>r!==o[s]))return!1}return!0}function Wb(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Gb=(t,e,n)=>t!=null?t:e!=null?e:n,NN=Gn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Pt(Hh),o=En(()=>t.route||i.value),r=Pt(Hb,0),s=En(()=>{let u=se(r);const{matched:d}=o.value;let h;for(;(h=d[u])&&!h.components;)u++;return u}),a=En(()=>o.value.matched[s.value]);Fr(Hb,En(()=>s.value+1)),Fr(bw,a),Fr(Hh,o);const l=nn();return Vr(()=>[l.value,a.value,t.name],([u,d,h],[p,g,x])=>{d&&(d.instances[h]=u,g&&g!==d&&u&&u===p&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),u&&d&&(!g||!Jr(d,g)||!p)&&(d.enterCallbacks[h]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=o.value,d=t.name,h=a.value,p=h&&h.components[d];if(!p)return Kb(n.default,{Component:p,route:u});const g=h.props[d],x=g?g===!0?u.params:typeof g=="function"?g(u):g:null,S=hn(p,je({},x,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[d]=null)},ref:l}));return Kb(n.default,{Component:S,route:u})||S}}});function Kb(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const DN=NN;function LN(t){const e=wN(t.routes,t),n=t.parseQuery||jh,i=t.stringifyQuery||jb,o=t.history,r=Bs(),s=Bs(),a=Bs(),l=Ka(Yi);let u=Yi;Cr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Od.bind(null,B=>""+B),h=Od.bind(null,KO),p=Od.bind(null,Aa);function g(B,te){let J,oe;return fw(B)?(J=e.getRecordMatcher(B),oe=te):oe=B,e.addRoute(oe,J)}function x(B){const te=e.getRecordMatcher(B);te&&e.removeRoute(te)}function E(){return e.getRoutes().map(B=>B.record)}function S(B){return!!e.getRecordMatcher(B)}function T(B,te){if(te=je({},te||l.value),typeof B=="string"){const R=Nd(n,B,te.path),M=e.resolve({path:R.path},te),z=o.createHref(R.fullPath);return je(R,M,{params:p(M.params),hash:Aa(R.hash),redirectedFrom:void 0,href:z})}let J;if(B.path!=null)J=je({},B,{path:Nd(n,B.path,te.path).path});else{const R=je({},B.params);for(const M in R)R[M]==null&&delete R[M];J=je({},B,{params:h(R)}),te.params=h(te.params)}const oe=e.resolve(J,te),ke=B.hash||"";oe.params=d(p(oe.params));const Fe=QO(i,je({},B,{hash:qO(ke),path:oe.path})),I=o.createHref(Fe);return je({fullPath:Fe,hash:ke,query:i===jb?CN(B.query):B.query||{}},oe,{redirectedFrom:void 0,href:I})}function A(B){return typeof B=="string"?Nd(n,B,l.value.path):je({},B)}function O(B,te){if(u!==B)return Zr(8,{from:te,to:B})}function L(B){return y(B)}function V(B){return L(je(A(B),{replace:!0}))}function D(B){const te=B.matched[B.matched.length-1];if(te&&te.redirect){const{redirect:J}=te;let oe=typeof J=="function"?J(B):J;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=A(oe):{path:oe},oe.params={}),je({query:B.query,hash:B.hash,params:oe.path!=null?{}:B.params},oe)}}function y(B,te){const J=u=T(B),oe=l.value,ke=B.state,Fe=B.force,I=B.replace===!0,R=D(J);if(R)return y(je(A(R),{state:typeof R=="object"?je({},ke,R.state):ke,force:Fe,replace:I}),te||J);const M=J;M.redirectedFrom=te;let z;return!Fe&&JO(i,oe,J)&&(z=Zr(16,{to:M,from:oe}),Zt(oe,oe,!0,!1)),(z?Promise.resolve(z):k(M,oe)).catch(U=>_i(U)?_i(U,2)?U:Bt(U):ie(U,M,oe)).then(U=>{if(U){if(_i(U,2))return y(je({replace:I},A(U.to),{state:typeof U.to=="object"?je({},ke,U.to.state):ke,force:Fe}),te||M)}else U=P(M,oe,!0,I,ke);return C(M,oe,U),U})}function b(B,te){const J=O(B,te);return J?Promise.reject(J):Promise.resolve()}function _(B){const te=ht.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(B):B()}function k(B,te){let J;const[oe,ke,Fe]=MN(B,te);J=Dd(oe.reverse(),"beforeRouteLeave",B,te);for(const R of oe)R.leaveGuards.forEach(M=>{J.push(eo(M,B,te))});const I=b.bind(null,B,te);return J.push(I),ft(J).then(()=>{J=[];for(const R of r.list())J.push(eo(R,B,te));return J.push(I),ft(J)}).then(()=>{J=Dd(ke,"beforeRouteUpdate",B,te);for(const R of ke)R.updateGuards.forEach(M=>{J.push(eo(M,B,te))});return J.push(I),ft(J)}).then(()=>{J=[];for(const R of Fe)if(R.beforeEnter)if(jn(R.beforeEnter))for(const M of R.beforeEnter)J.push(eo(M,B,te));else J.push(eo(R.beforeEnter,B,te));return J.push(I),ft(J)}).then(()=>(B.matched.forEach(R=>R.enterCallbacks={}),J=Dd(Fe,"beforeRouteEnter",B,te,_),J.push(I),ft(J))).then(()=>{J=[];for(const R of s.list())J.push(eo(R,B,te));return J.push(I),ft(J)}).catch(R=>_i(R,8)?R:Promise.reject(R))}function C(B,te,J){a.list().forEach(oe=>_(()=>oe(B,te,J)))}function P(B,te,J,oe,ke){const Fe=O(B,te);if(Fe)return Fe;const I=te===Yi,R=Cr?history.state:{};J&&(oe||I?o.replace(B.fullPath,je({scroll:I&&R&&R.scroll},ke)):o.push(B.fullPath,ke)),l.value=B,Zt(B,te,J,I),Bt()}let w;function Le(){w||(w=o.listen((B,te,J)=>{if(!fn.listening)return;const oe=T(B),ke=D(oe);if(ke){y(je(ke,{replace:!0}),oe).catch(ca);return}u=oe;const Fe=l.value;Cr&&sN(Lb(Fe.fullPath,J.delta),Au()),k(oe,Fe).catch(I=>_i(I,12)?I:_i(I,2)?(y(I.to,oe).then(R=>{_i(R,20)&&!J.delta&&J.type===Ra.pop&&o.go(-1,!1)}).catch(ca),Promise.reject()):(J.delta&&o.go(-J.delta,!1),ie(I,oe,Fe))).then(I=>{I=I||P(oe,Fe,!1),I&&(J.delta&&!_i(I,8)?o.go(-J.delta,!1):J.type===Ra.pop&&_i(I,20)&&o.go(-1,!1)),C(oe,Fe,I)}).catch(ca)}))}let Ue=Bs(),Ie=Bs(),_e;function ie(B,te,J){Bt(B);const oe=Ie.list();return oe.length?oe.forEach(ke=>ke(B,te,J)):console.error(B),Promise.reject(B)}function dt(){return _e&&l.value!==Yi?Promise.resolve():new Promise((B,te)=>{Ue.add([B,te])})}function Bt(B){return _e||(_e=!B,Le(),Ue.list().forEach(([te,J])=>B?J(B):te()),Ue.reset()),B}function Zt(B,te,J,oe){const{scrollBehavior:ke}=t;if(!Cr||!ke)return Promise.resolve();const Fe=!J&&aN(Lb(B.fullPath,0))||(oe||!J)&&history.state&&history.state.scroll||null;return Uy().then(()=>ke(B,te,Fe)).then(I=>I&&rN(I)).catch(I=>ie(I,B,te))}const Ae=B=>o.go(B);let Ye;const ht=new Set,fn={currentRoute:l,listening:!0,addRoute:g,removeRoute:x,hasRoute:S,getRoutes:E,resolve:T,options:t,push:L,replace:V,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:r.add,beforeResolve:s.add,afterEach:a.add,onError:Ie.add,isReady:dt,install(B){const te=this;B.component("RouterLink",RN),B.component("RouterView",DN),B.config.globalProperties.$router=te,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>se(l)}),Cr&&!Ye&&l.value===Yi&&(Ye=!0,L(o.location).catch(ke=>{}));const J={};for(const ke in Yi)Object.defineProperty(J,ke,{get:()=>l.value[ke],enumerable:!0});B.provide(Ru,te),B.provide(Pu,Oy(J)),B.provide(Hh,l);const oe=B.unmount;ht.add(B),B.unmount=function(){ht.delete(B),ht.size<1&&(u=Yi,w&&w(),w=null,l.value=Yi,Ye=!1,_e=!1),oe()}}};function ft(B){return B.reduce((te,J)=>te.then(()=>_(J)),Promise.resolve())}return fn}function MN(t,e){const n=[],i=[],o=[],r=Math.max(e.matched.length,t.matched.length);for(let s=0;s<r;s++){const a=e.matched[s];a&&(t.matched.find(u=>Jr(u,a))?i.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(u=>Jr(u,l))||o.push(l))}return[n,i,o]}function _w(){return Pt(Ru)}function VN(){return Pt(Pu)}const FN="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",$N=FN,UN=wt(class extends ut{constructor(){super(),this.__registerHost()}componentDidLoad(){zN(async()=>{const e=ro(window,"hybrid");if(Oe.getBoolean("_testing")||ei(()=>import("./index9-CUadrFDO.js"),[]).then(o=>o.startTapClick(Oe)),Oe.getBoolean("statusTap",e)&&ei(()=>import("./status-tap-5uyoOLM2.js"),[]).then(o=>o.startStatusTap()),Oe.getBoolean("inputShims",BN())){const o=ro(window,"ios")?"ios":"android";ei(()=>import("./input-shims-CoSKLaNa.js"),[]).then(r=>r.startInputShims(Oe,o))}const n=await ei(()=>Promise.resolve().then(()=>XA),void 0),i=e||Sa();Oe.getBoolean("hardwareBackButton",i)?n.startHardwareBackButton():(Sa()&&Ln("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&ei(()=>import("./keyboard2-D_LldwIY.js"),[]).then(o=>o.startKeyboardAssist(window)),ei(()=>import("./focus-visible-supuXXMI.js"),[]).then(o=>this.focusVisible=o.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=qe(this);return H(It,{key:"a562850f242d9d45573e35efdd4bd178254677ef",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":Oe.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return $N}},[0,"ion-app",{setFocus:[64]}]),BN=()=>!!(ro(window,"ios")&&ro(window,"mobile")||ro(window,"android")&&ro(window,"mobileweb")),zN=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function jN(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,UN);break}})}const HN=jN;let Ld;const qN=()=>{if(typeof window>"u")return new Map;if(!Ld){const t=window;t.Ionicons=t.Ionicons||{},Ld=t.Ionicons.map=t.Ionicons.map||new Map}return Ld},WN=t=>{let e=Md(t.src);return e||(e=vw(t.name,t.icon,t.mode,t.ios,t.md),e?GN(e,t):t.icon&&(e=Md(t.icon),e||(e=Md(t.icon[t.mode]),e))?e:null)},GN=(t,e)=>{const n=qN().get(t);if(n)return n;try{return h0("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},vw=(t,e,n,i,o)=>(n=(n&&Gl(n))==="ios"?"ios":"md",i&&n==="ios"?t=Gl(i):o&&n==="md"?t=Gl(o):(!t&&e&&!yw(e)&&(t=e),Lc(t)&&(t=Gl(t))),!Lc(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),Md=t=>Lc(t)&&(t=t.trim(),yw(t))?t:null,yw=t=>t.length>0&&/(\/|\.)/.test(t),Lc=t=>typeof t=="string",Gl=t=>t.toLowerCase(),KN=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},YN=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",XN=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),ww(n))return e.innerHTML}return""},ww=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Lc(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!ww(t.childNodes[e]))return!1}return!0},QN=t=>t.startsWith("data:image/svg+xml"),JN=t=>t.indexOf(";utf8,")!==-1,Uo=new Map,Yb=new Map;let Vd;const ZN=(t,e)=>{let n=Yb.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(QN(t)&&JN(t)){Vd||(Vd=new DOMParser);const o=Vd.parseFromString(t,"text/html").querySelector("svg");return o&&Uo.set(t,o.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(o=>{o&&e!==!1&&(o=XN(o)),Uo.set(t,o||"")});Uo.set(t,"")}),Yb.set(t,n);else return Uo.set(t,""),Promise.resolve();return n},eD=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",tD=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=nD(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=KN(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const o=this.io=new window.IntersectionObserver(r=>{r[0].isIntersecting&&(o.disconnect(),this.io=void 0,i())},{rootMargin:n});o.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=WN(this);e&&(Uo.has(e)?this.svgContent=Uo.get(e):ZN(e,this.sanitize).then(()=>this.svgContent=Uo.get(e)),this.didLoadIcon=!0)}this.iconName=vw(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:o}=this,r=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return H(It,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},iD(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&YN(o)})},i),this.svgContent?H("div",{class:"icon-inner",innerHTML:this.svgContent}):H("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return eD}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),nD=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",iD=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function oD(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,tD);break}})}const rD=oD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function sD(t,e,n,i){let o;if(n==="md"?o=t==="top"?8:-8:o=t==="top"?10:-10,e&&Je){aD(e,i);const r=e.getBoundingClientRect();return t==="top"?o+=r.bottom:t==="bottom"&&(o-=Je.innerHeight-r.top),{top:"".concat(o,"px"),bottom:"".concat(o,"px")}}else return{top:"calc(".concat(o,"px + var(--ion-safe-area-top, 0px))"),bottom:"calc(".concat(o,"px - var(--ion-safe-area-bottom, 0px))")}}function aD(t,e){t.offsetParent===null&&Ln("The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}const pp=(t,e)=>Math.floor(t/2-e/2),lD=(t,e)=>{const n=Ni(),i=Ni(),{position:o,top:r,bottom:s}=e,l=ds(t).querySelector(".toast-wrapper");switch(i.addElement(l),o){case"top":i.fromTo("transform","translateY(-100%)","translateY(".concat(r,")"));break;case"middle":const u=pp(t.clientHeight,l.clientHeight);l.style.top="".concat(u,"px"),i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)","translateY(".concat(s,")"));break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},cD=(t,e)=>{const n=Ni(),i=Ni(),{position:o,top:r,bottom:s}=e,l=ds(t).querySelector(".toast-wrapper");switch(i.addElement(l),o){case"top":i.fromTo("transform","translateY(".concat(r,")"),"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform","translateY(".concat(s,")"),"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},uD=(t,e)=>{const n=Ni(),i=Ni(),{position:o,top:r,bottom:s}=e,l=ds(t).querySelector(".toast-wrapper");switch(i.addElement(l),o){case"top":l.style.setProperty("transform","translateY(".concat(r,")")),i.fromTo("opacity",.01,1);break;case"middle":const u=pp(t.clientHeight,l.clientHeight);l.style.top="".concat(u,"px"),i.fromTo("opacity",.01,1);break;default:l.style.setProperty("transform","translateY(".concat(s,")")),i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},dD=t=>{const e=Ni(),n=Ni(),o=ds(t).querySelector(".toast-wrapper");return n.addElement(o).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},hD=(t,e,n)=>{const i=ds(t).querySelector(".toast-wrapper"),o=t.clientHeight,r=i.getBoundingClientRect();let s=0;const a=.5,l=t.position==="middle"?.5:0,u=t.position==="top"?-1:1,d=pp(o,r.height),h=[{offset:0,transform:"translateY(-".concat(d+r.height,"px)")},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:"translateY(".concat(d+r.height,"px)")}],p=Ni("toast-swipe-to-dismiss-animation").addElement(i).duration(100);switch(t.position){case"middle":s=o+r.height,p.keyframes(h),p.progressStart(!0,.5);break;case"top":s=r.bottom,p.keyframes([{offset:0,transform:"translateY(".concat(e.top,")")},{offset:1,transform:"translateY(-100%)"}]),p.progressStart(!0,0);break;case"bottom":default:s=o-r.top,p.keyframes([{offset:0,transform:"translateY(".concat(e.bottom,")")},{offset:1,transform:"translateY(100%)"}]),p.progressStart(!0,0);break}const g=T=>T*u/s,S=lO({el:i,gestureName:"toast-swipe-to-dismiss",gesturePriority:bR,direction:"y",onMove:T=>{const A=l+g(T.deltaY);p.progressStep(A)},onEnd:T=>{const A=T.velocityY,O=(T.deltaY+A*1e3)/s*u;S.enable(!1);let L=!0,V=1,D=0,y=0;if(t.position==="middle"){L=O>=a/2||O<=-a/2,V=1,D=0;const _=i.getBoundingClientRect(),k=_.top-d,C="".concat(k,"px"),P=T.deltaY<=0?-1:1,w=(d+_.height)*P,Le=L?"".concat(w,"px"):"0px",Ue=[{offset:0,transform:"translateY(".concat(C,")")},{offset:1,transform:"translateY(".concat(Le,")")}];p.keyframes(Ue),y=w-k}else L=O>=a,V=L?1:0,D=g(T.deltaY),y=(L?1-D:D)*s;const b=Math.min(Math.abs(y)/Math.abs(A),200);p.onFinish(()=>{L?(n(),p.destroy()):(t.position==="middle"?p.keyframes(h).progressStart(!0,.5):p.progressStart(!0,0),S.enable(!0))},{oneTimeCallback:!0}).progressEnd(V,D,b)}});return S},fD=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",pD=fD,mD=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",gD=mD,bD=wt(class extends ut{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=He(this,"ionToastDidPresent",7),this.willPresent=He(this,"ionToastWillPresent",7),this.willDismiss=He(this,"ionToastWillDismiss",7),this.didDismiss=He(this,"ionToastDidDismiss",7),this.didPresentShorthand=He(this,"didPresent",7),this.willPresentShorthand=He(this,"willPresent",7),this.willDismissShorthand=He(this,"willDismiss",7),this.didDismissShorthand=He(this,"didDismiss",7),this.delegateController=_R(this),this.lockController=W0(),this.triggerController=vR(),this.customHTMLEnabled=Oe.get("innerHTMLTemplatesEnabled",pP),this.presented=!1,this.dispatchCancelHandler=e=>{const n=e.detail.role;if(Ah(n)){const i=this.getButtons().find(o=>o.role==="cancel");this.callButtonHandler(i)}},this.createSwipeGesture=e=>{(this.gesture=hD(this.el,e,()=>{this.dismiss(void 0,q0)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;e!==void 0&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return e==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=Oe.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){oR(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){rR(this.el)}componentDidLoad(){this.isOpen===!0&&hs(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:n,position:i}=this,o=this.getAnchorElement(),r=sD(i,o,qe(this),n);this.lastPresentedPosition=r,await uR(this,"toastEnter",lD,uD,{position:i,top:r.top,bottom:r.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(r),e()}async dismiss(e,n){var i,o;const r=await this.lockController.lock(),{durationTimeout:s,position:a,lastPresentedPosition:l}=this;s&&clearTimeout(s);const u=await hR(this,e,n,"toastLeave",cD,dD,{position:a,top:(i=l==null?void 0:l.top)!==null&&i!==void 0?i:"",bottom:(o=l==null?void 0:l.bottom)!==null&&o!==void 0?o:""});return u&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),r(),u}onDidDismiss(){return Eb(this.el,"ionToastDidDismiss")}onWillDismiss(){return Eb(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}getAnchorElement(){const{position:e,positionAnchor:n,el:i}=this;if(n!==void 0){if(e==="middle"&&n!==void 0){Ln('The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof n=="string"){const o=document.getElementById(n);if(o===null){Ln('An anchor element with an ID of "'.concat(n,'" was not found in the DOM.'),i);return}return o}if(n instanceof ut)return n;Ln("Invalid positionAnchor value:",n,i)}}async buttonClick(e){const n=e.role;return Ah(n)?this.dismiss(void 0,n):await this.callButtonHandler(e)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await gR(e.handler)===!1)return!1}catch(n){console.error(n)}return!0}renderButtons(e,n){if(e.length===0)return;const i=qe(this),o={"toast-button-group":!0,["toast-button-group-".concat(n)]:!0};return H("div",{class:o},e.map(r=>H("button",Object.assign({},r.htmlAttributes,{type:"button",class:_D(r),tabIndex:0,onClick:()=>this.buttonClick(r),part:vD(r)}),H("div",{class:"toast-button-inner"},r.icon&&H("ion-icon",{"aria-hidden":"true",icon:r.icon,slot:r.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),r.text),i==="md"&&H("ion-ripple-effect",{type:r.icon!==void 0&&r.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,n=null){const{customHTMLEnabled:i,message:o}=this;return i?H("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:cP(o)}):H("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message"},o)}renderHeader(e,n=null){return H("div",{key:e,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:e,el:n,revealContentToScreenReader:i,header:o,message:r}=this,s=this.getButtons(),a=s.filter(h=>h.side==="start"),l=s.filter(h=>h.side!=="start"),u=qe(this),d={"toast-wrapper":!0,["toast-".concat(this.position)]:!0,["toast-layout-".concat(e)]:!0};return e==="stacked"&&a.length>0&&l.length>0&&Ln("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),H(It,Object.assign({key:"da148788489146a20b42023fdc6401e53c044767",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:Fi(this.color,Object.assign(Object.assign({[u]:!0},mA(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),H("div",{key:"ab0a4d783aa43ba961492b3eb8beb60a38153057",class:d},H("div",{key:"83e49027fd1ca6553d6910ff91befeea43576f3c",class:"toast-container",part:"container"},this.renderButtons(a,"start"),this.icon!==void 0&&H("ion-icon",{key:"025cb4b6b170a89548969a25bcce4ab7a3817898",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),H("div",{key:"b811b4e1cbc1528c2cfb57898f5615692120f840",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&o!==void 0&&this.renderHeader("oldHeader","true"),!i&&r!==void 0&&this.renderToastMessage("oldMessage","true"),i&&o!==void 0&&this.renderHeader("header"),i&&r!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:pD,md:gD}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),_D=t=>({"toast-button":!0,"toast-button-icon-only":t.icon!==void 0&&t.text===void 0,["toast-button-".concat(t.role)]:t.role!==void 0,"ion-focusable":!0,"ion-activatable":!0}),vD=t=>Ah(t.role)?"button cancel":"button";function yD(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,bD);break;case"ion-icon":customElements.get(e)||Tu();break;case"ion-ripple-effect":customElements.get(e)||ku();break}})}const wD=yD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Xb;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Xb||(Xb={}));const Qb="update:modelValue",Fd="modelValue",ED="routerLink",Jb="navManager",ID="router",TD="aria",Sr=Symbol(),$d={default:Sr},Zb=t=>(t==null?void 0:t.split(" "))||[],kD=(t,e,n=[])=>{var i;return[...Array.from(((i=t.value)===null||i===void 0?void 0:i.classList)||[]),...n].filter((o,r,s)=>!e.has(o)&&s.indexOf(o)===r)},Sn=(t,e,n=[],i,o)=>{e!==void 0&&e();const r=Gn((s,{attrs:a,slots:l,emit:u})=>{var d;let h=s[i];const p=nn(),g=new Set(Zb(a.class)),x={created:O=>{(Array.isArray(o)?o:[o]).forEach(V=>{O.addEventListener(V.toLowerCase(),D=>{h=(D==null?void 0:D.target)[i],u(Qb,h)})})}},E=Zf(),T=((d=E==null?void 0:E.appContext)===null||d===void 0?void 0:d.provides[Jb])?Pt(Jb):void 0,A=O=>{const{routerLink:L}=s;if(L!==Sr)if(T!==void 0){let V={event:O};for(const D in s){const y=s[D];s.hasOwnProperty(D)&&D.startsWith(ID)&&y!==Sr&&(V[D]=y)}T.navigate(V)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")};return()=>{h=s[i],Zb(a.class).forEach(y=>{g.add(y)});const O=s.onClick,L=y=>{O!==void 0&&O(y),y.defaultPrevented||A(y)};let V={ref:p,class:kD(p,g),onClick:L};for(const y in s){const b=s[y];(s.hasOwnProperty(y)&&b!==Sr||y.startsWith(TD))&&(V[y]=b)}i&&(s[Fd]!==Sr?V=Object.assign(Object.assign({},V),{[i]:s[Fd]}):h!==Sr&&(V=Object.assign(Object.assign({},V),{[i]:h})));const D=hn(t,V,l.default&&l.default());return i===void 0?D:nC(D,[[x]])}});return typeof r!="function"&&(r.name=t,r.props={[ED]:$d},n.forEach(s=>{r.props[s]=$d}),i&&(r.props[Fd]=$d,r.emits=[Qb])),r},so=Sn("ion-button",AA,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"]),xD=Sn("ion-buttons",MA,["collapse"]),mp=Sn("ion-content",qA,["color","fullscreen","fixedSlotPlacement","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]),CD=Sn("ion-footer",HR,["collapse","translucent"]),gp=Sn("ion-header",nP,["collapse","translucent"]),SD=Sn("ion-img",lP,["alt","src","ionImgWillLoad","ionImgDidLoad","ionError"]),Ur=Sn("ion-input",xP,["color","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","inputmode","helperText","label","labelPlacement","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value","ionInput","ionChange","ionBlur","ionFocus"],"value","ion-input"),Br=Sn("ion-item",NP,["color","button","detail","detailIcon","disabled","download","href","rel","lines","routerAnimation","routerDirection","target","type"]),ho=Sn("ion-label",UP,["color","position","ionColor","ionStyle"]),bp=Sn("ion-list",GP,["lines","inset"]),_p=Sn("ion-title",mO,["color","size","ionStyle"]),Mc=Sn("ion-toolbar",EO,["color"]);var ni;(function(t){t.WillEnter="onIonViewWillEnter",t.DidEnter="onIonViewDidEnter",t.WillLeave="onIonViewWillLeave",t.DidLeave="onIonViewDidLeave"})(ni||(ni={}));const AD={[cp]:ni.WillEnter,[up]:ni.DidEnter,[Cu]:ni.WillLeave,[Su]:ni.DidLeave},e_={main:0},RD=(t="main")=>{var e;const n=((e=e_[t])!==null&&e!==void 0?e:0)+1;return e_[t]=n,n.toString()},Kl=(t,e,n)=>{t!=null&&t[n]&&t[n].bind(e==null?void 0:e.value)();const i=e==null?void 0:e.value;if(i!=null&&i[n]&&i[n](),i){const o=AD[n],r=i[o];r&&r.forEach(s=>s())}},Ew=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},PD=(t,e,n)=>{if(n){const i=n,o=i.proxy[t]||(i.proxy[t]=[]);i.exposed&&(i.exposed[t]=o);const r=(...s)=>{if(!i.isUnmounted)return s?e(...s):e()};return o.push(r),r}else console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")},Ou=t=>(e,n=Zf())=>PD(t,e,n);Ou(ni.WillEnter);Ou(ni.DidEnter);Ou(ni.WillLeave);Ou(ni.DidLeave);const Ud=t=>t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),OD=()=>({ael:(t,e,n,i)=>t.addEventListener(Ud(e),n,i),rel:(t,e,n,i)=>t.removeEventListener(Ud(e),n,i),ce:(t,e)=>new CustomEvent(Ud(t),e)}),ND={async install(t,e={}){typeof document<"u"&&document.documentElement.classList.add("ion-ce");const{ael:n,rel:i,ce:o}=OD();QS(Object.assign(Object.assign({},e),{_ael:n,_rel:i,_ce:o}))}},Iw=Gn((t,{attrs:e,slots:n})=>{AO();const i=Pt("navManager"),o=()=>{if(i===void 0)return;const r=e["default-href"]||e.defaultHref,s=e["router-animation"]||e.routerAnimation;i.handleNavigateBack(r,s)};return()=>hn("ion-back-button",Object.assign({onClick:o},e),n.default&&n.default())});Iw.name="IonBackButton";const vp=Gn({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup(t,{attrs:e,slots:n}){return()=>hn("div",Object.assign(Object.assign({},e),{class:"ion-page",ref:"ionPage"}),n.default&&n.default())}}),t_=t=>!t.classList.contains("ion-page-hidden")&&!t.classList.contains("ion-page-invisible"),n_=Symbol(0),DD=Gn({name:"IonRouterOutlet",setup(){DO();const t=Pt(Pu),e=VN(),n=Pt(n_,0),i=En(()=>e.matched[n]);let o,r;Fr(n_,n+1),Fr(bw,i);const s=nn(),a=RD("ion-router-outlet"),l=Pt("navManager"),u=Pt("viewStacks"),d=Ka([]);let h=!1,p;Vr(()=>[e,i.value],([L,V])=>{if(V!==void 0){const D=V!==o,y=L.matched[L.matched.length-1]===V&&L.path!==r;(D||y)&&A(i)}o=V,r=L.path},{deep:!0});const g=()=>{const L=Ew();if(!(L&&L.get("swipeBackEnabled",s.value.mode==="ios")))return!1;const D=u.getViewStack(a);if(!D||D.length<=1)return!1;const y=l.getLeavingRouteInfo();return!!u.findViewItemByRouteInfo({pathname:y.pushedByRoute||""},a)},x=async()=>{const L=l.getLeavingRouteInfo(),{routerAnimation:V}=L,D=u.findViewItemByRouteInfo({pathname:L.pushedByRoute||""},a),y=u.findViewItemByRouteInfo(L,a);if(y){let b=V;const _=D.ionPageElement,k=y.ionPageElement,C=D.routerAnimation;b===void 0&&C!==void 0&&(b=C),y.routerAnimation=b,await S(_,k,"back",l.canGoBack(2),!0,b)}return Promise.resolve()},E=L=>{if(L)h=!0,l.handleNavigateBack();else{const V=l.getCurrentRouteInfo(),D=u.findViewItemByRouteInfo({pathname:V.pushedByRoute||""},a);D.ionPageElement.setAttribute("aria-hidden","true"),D.ionPageElement.classList.add("ion-page-hidden")}};Vr(s,()=>{s.value.swipeHandler={canStart:g,onStart:x,onEnd:E}});const S=async(L,V,D,y,b,_)=>{if(h)return h=!1,Promise.resolve(!1);if(L===V)return Promise.resolve(!1);L.classList.add("ion-page-invisible");const k=D===void 0||D==="root"||D==="none";return await s.value.commit(L,V,{duration:k&&_===void 0?0:void 0,direction:D,showGoBack:y,progressAnimation:b,animationBuilder:_})},T=async()=>{const L=l.getCurrentRouteInfo(),{routerDirection:V,routerAction:D,routerAnimation:y,prevRouteLastPathname:b,delta:_}=L,k=u.findViewItemByRouteInfo(L,a);let C=u.findLeavingViewItemByRouteInfo(L,a);const P=k.ionPageElement;if(P===void 0&&console.warn("[@ionic/vue Warning]: The view you are trying to render for path ".concat(L.pathname," does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.\n\nSee https://ionicframework.com/docs/vue/navigation#ionpage for more information.")),k!==C&&(!C&&b&&(C=u.findViewItemByPathname(b,a)),!(t_(P)&&(C==null?void 0:C.ionPageElement)!==void 0&&!t_(C.ionPageElement)))){if(Kl(k.vueComponent,k.vueComponentRef,cp),C!=null&&C.ionPageElement&&k!==C){let w=y;const Le=C.ionPageElement;Kl(C.vueComponent,C.vueComponentRef,Cu);const Ue=k.routerAnimation;w===void 0&&V==="back"&&Ue!==void 0&&(w=Ue),C.routerAnimation=w,await S(P,Le,V,!!L.pushedByRoute,!1,w),Le.classList.add("ion-page-hidden"),Le.setAttribute("aria-hidden","true");const Ie=u.size()===1;D==="replace"?(C.mount=!1,C.ionPageElement=void 0,C.ionRoute=!1):D==="push"&&V==="forward"?Ie&&u.mountIntermediaryViews(a,C,_):V!=="none"&&C&&k!==C&&(C.mount=!1,C.ionPageElement=void 0,C.ionRoute=!1,Ie&&u.unmountLeavingViews(a,k,_)),Kl(C.vueComponent,C.vueComponentRef,Su)}else requestAnimationFrame(()=>P.classList.remove("ion-page-invisible"));Kl(k.vueComponent,k.vueComponentRef,up),d.value=u.getChildrenToRender(a)}},A=L=>{const V=e.matched[0];if(p||(p=V.path),!L.value||L.value!==V&&V.path!==p)return;const D=l.getCurrentRouteInfo();let y=u.findViewItemByRouteInfo(D,a);y||(y=u.createViewItem(a,L.value.components.default,L.value,D),u.add(y)),y.mount?T():(y.mount=!0,y.registerCallback=()=>{T(),y.registerCallback=void 0}),d.value=u.getChildrenToRender(a)};return i.value&&A(i),Kf(()=>u.clear(a)),{id:a,components:d,injectedRoute:t,ionRouterOutlet:s,registerIonPage:(L,V)=>{const D=L.ionPageElement;u.registerIonPage(L,V),L.registerCallback?(V.classList.add("ion-page-invisible"),L.registerCallback()):D&&!D.classList.contains("ion-page-invisible")&&V.classList.remove("ion-page-invisible")}}},render(){const{components:t,registerIonPage:e,injectedRoute:n}=this;return hn("ion-router-outlet",{ref:"ionRouterOutlet"},t&&t.map(i=>{var o,r;let s={ref:i.vueComponentRef,key:i.pathname,registerIonPage:d=>e(i,d)};const a=(r=(o=i.matchedRoute)===null||o===void 0?void 0:o.props)===null||r===void 0?void 0:r.default,u=a?a===!0?i.params:typeof a=="function"?(()=>{var d;const h=(d=i.vueComponentData)===null||d===void 0?void 0:d.propsFunctionResult;if(h)return h;{const p=a(n);return i.vueComponentData=Object.assign(Object.assign({},i.vueComponentData),{propsFunctionResult:p}),p}})():a:null;return s=Object.assign(Object.assign({},s),u),hn(i.vueComponent,s)}))}}),Pa=Ka([]),Tw=Gn((t,{attrs:e,slots:n})=>(HN(),()=>hn("ion-app",Object.assign({},e),[n.default&&n.default(),...Pa.value])));Tw.name="IonApp";const LD=t=>{Pa.value=[...Pa.value,t]},MD=t=>{Pa.value=Pa.value.filter(e=>e!==t)},VD=(t=LD,e=MD)=>{const n=new WeakMap;return{attachViewToDom:(r,s,a={},l)=>{const u=document.createElement("div");l&&u.classList.add(...l),r.appendChild(u);const d=hn(LC,{to:u},hn(s,Object.assign({},a)));return n.set(u,d),t(d),Promise.resolve(u)},removeViewFromDom:(r,s)=>{const a=n.get(s);return a&&e(a),Promise.resolve()}}},kw=Gn(t=>{iO();const e=Ka([]),o=VD(r=>e.value=[...e.value,r],r=>e.value=e.value.filter(s=>s!==r));return()=>hn("ion-nav",Object.assign(Object.assign({},t),{delegate:o}),e.value)});kw.name="IonNav";kw.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const FD=Gn({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup(t,{slots:e}){return rD(),()=>{var n,i;const{icon:o,ios:r,md:s,mode:a}=t;let l;const u=Ew(),d=a||(u==null?void 0:u.get("mode"));return r||s?d==="ios"?l=(n=r!=null?r:s)!==null&&n!==void 0?n:o:l=(i=s!=null?s:r)!==null&&i!==void 0?i:o:l=o,hn("ion-icon",Object.assign(Object.assign({},t),{icon:l}),e)}}}),xw=Symbol(),i_={default:xw},$D=(t,e,n=[],i,o)=>{const s=Gn((a,{slots:l})=>{e!==void 0&&e();const u=nn(!1),d=nn();return Gf(()=>{d.value.addEventListener("ion-mount",()=>u.value=!0),d.value.addEventListener("will-present",()=>u.value=!0),d.value.addEventListener("did-dismiss",()=>u.value=!1)}),()=>{let h={};for(const g in a){const x=a[g];a.hasOwnProperty(g)&&x!==xw&&(h[g]=x)}const p=()=>i?hn("div",{className:"ion-delegate-host ion-page"},l):l;return hn(t,Object.assign(Object.assign({},h),{ref:d}),u.value||h.keepContentsMounted||h.keepContentsMounted===""?p():void 0)}});return s.name=t,s.props={isOpen:i_},n.forEach(a=>{s.props[a]=i_}),s},UD=$D("ion-toast",wD,["animated","buttons","color","cssClass","duration","enterAnimation","header","htmlAttributes","icon","isOpen","keyboardClose","layout","leaveAnimation","message","mode","position","positionAnchor","swipeGesture","translucent","trigger"]),BD={__name:"App",setup(t){return(e,n)=>(wn(),On(se(Tw),null,{default:ge(()=>[ue(se(DD))]),_:1}))}},zD=()=>{const t=[],e={},n=E=>{switch(E.routerAction){case"pop":o(E);break;default:r(E);break}E.routerDirection==="root"&&(s(),r(E))},i=E=>{const S=t.findIndex(A=>A.id===E.id);S>-1&&t.splice(S,1,E);const T=e[E.tab||""];if(T){const A=T.findIndex(O=>O.id===E.id);A>-1?T.splice(A,1,E):T.push(E)}else E.tab&&(e[E.tab]=[E])},o=E=>{const S=a(E.tab);let T;if(S){for(T=S[S.length-1];T&&T.id!==E.id;)S.pop(),T=S[S.length-1];S.pop(),S.push(E)}for(T=t[t.length-1];T&&T.id!==E.id;)t.pop(),T=t[t.length-1];t.pop(),t.push(E)},r=E=>{const S=a(E.tab);S&&(S[S.length-1]&&S[S.length-1].id===E.id&&S.pop(),S.push(E)),t.push(E)},s=E=>{if(E){const{position:S,tab:T}=E,A=t.findIndex(V=>V.position===S);if(A===-1)return;t.splice(A);const O=V=>{const D=e[V].findIndex(y=>y.position===S);D!==-1&&e[V].splice(D)},L=e[T];if(T&&L)O(T);else for(const V in e)O(V)}else{for(const S in e)e[S]=[];t.length=0}},a=E=>{let S;return E&&(S=e[E],S||(S=e[E]=[])),S},l=()=>t.length,u=(E,S)=>{const T=S-E;return t[T]||d()},d=()=>t[t.length-1];return{current:u,size:l,last:d,add:n,canGoBack:(E=1,S,T)=>T-E>=S,update:i,getFirstRouteInfoForTab:E=>{const S=a(E);if(S)return S[0]},getCurrentRouteInfoForTab:E=>{const S=a(E);if(S)return S[S.length-1]},findLastLocation:(E,S=-1)=>{const T=a(E.tab);if(T){if(S<-1)return T[T.length-1+S];for(let A=T.length-2;A>=0;A--){const O=T[A];if(O&&O.pathname===E.pushedByRoute)return O}}if(S<-1)return t[t.length-1+S];for(let A=t.length-2;A>=0;A--){const O=t[A];if(O&&O.pathname===E.pushedByRoute)return O}},clearHistory:s}},o_={main:0},Cw=(t="main")=>{var e;const n=((e=o_[t])!==null&&e!==void 0?e:0)+1;return o_[t]=n,n.toString()},jD=(t,e)=>{let n={direction:void 0,action:void 0,delta:void 0};e.afterEach((y,b,_)=>{if(_)return;const{direction:k,action:C,delta:P}=n;r=t.history.state.position;const w=t.history.state.replaced?"replace":void 0;h(y,C||w,k,P),n={direction:void 0,action:void 0,delta:void 0}});const i=zD();let o=t.history.state.position,r=t.history.state.position,s,a;const l=[];typeof document<"u"&&document.addEventListener("ionBackButton",y=>{y.detail.register(0,b=>{t.history.go(-1),b()})}),t.history.listen((y,b,_)=>{n={delta:_.delta,action:_.type==="pop"&&_.delta>=1?"push":_.type,direction:_.direction===""?"forward":_.direction}});const u=(y,b)=>{const _=i.current(o,r);if(_&&_.pushedByRoute){const k=i.findLastLocation(_);k?(a=Object.assign(Object.assign({},k),{routerAction:"pop",routerDirection:"back",routerAnimation:b||_.routerAnimation}),_.lastPathname===_.pushedByRoute||k.pathname===_.pushedByRoute&&!_.tab&&!k.tab?e.back():e.go(k.position-_.position)):d(y,"pop","back",b)}else d(y,"pop","back",b)},d=(y,b,_,k,C)=>{O(b,_,k,C),b==="push"?e.push(y):e.replace(y)},h=(y,b,_,k)=>{let C;if(a)if(a.routerAction==="replace")C=i.current(o,r);else if(a.routerAction==="pop")C=i.current(o,r+1),b==="replace"&&i.clearHistory();else{const w=a.routerDirection==="root"?r:r-1;C=i.current(o,w)}else C=s;if(C||(C={pathname:"",search:""}),C.pathname+C.search!==y.fullPath){if(!a){if(b==="replace")a={routerAction:"replace",routerDirection:"none"};else if(b==="pop"){const _e=i.current(o,r-k);if(_e&&_e.pushedByRoute){const ie=i.findLastLocation(_e,k);a=Object.assign(Object.assign({},ie),{routerAction:"pop",routerDirection:"back"})}else a={routerAction:"pop",routerDirection:"none"}}a||(a={routerAction:"push",routerDirection:_||"forward"})}let w;if(a!=null&&a.id)w=Object.assign(Object.assign({},a),{lastPathname:C.pathname});else{const _e=a.routerAction==="push"&&a.routerDirection==="forward";if(w=Object.assign(Object.assign({id:Cw("routeInfo")},a),{lastPathname:C.pathname,pathname:y.path,search:y.fullPath&&y.fullPath.split("?")[1]||"",params:y.params&&y.params,prevRouteLastPathname:C.lastPathname}),_e)w.pushedByRoute=C.pathname!==""?C.pathname:void 0;else if(w.routerAction==="pop"){const ie=i.findLastLocation(w);w.pushedByRoute=ie==null?void 0:ie.pushedByRoute}else if(w.routerAction==="push"&&w.tab!==C.tab){const ie=i.getCurrentRouteInfoForTab(w.tab);w.pushedByRoute=ie==null?void 0:ie.pushedByRoute}else if(w.routerAction==="replace"){const ie=i.current(o,r),dt=ie==null?void 0:ie.pushedByRoute,Bt=dt!==void 0&&dt!==w.pathname?dt:w.pushedByRoute;w.lastPathname=(ie==null?void 0:ie.pathname)||w.lastPathname,w.pushedByRoute=Bt,w.routerDirection=(ie==null?void 0:ie.routerDirection)||w.routerDirection,w.routerAnimation=(ie==null?void 0:ie.routerAnimation)||w.routerAnimation,w.prevRouteLastPathname=ie==null?void 0:ie.lastPathname}}w.position=r,w.delta=k;const Le=i.size(),Ue=r-o,Ie=Le===Ue&&Le>0&&b==="replace";Le>Ue||Ie?(w.routerAction==="push"||w.routerAction==="replace")&&k===void 0&&(i.clearHistory(w),i.add(w)):i.add(w),i.size()===1&&(o=w.position),s=w}a=void 0,l.forEach(w=>w(s))},p=()=>s,g=(y=1)=>i.canGoBack(y,o,r),x=y=>{const{routerAnimation:b,routerDirection:_,routerLink:k}=y;O("push",_,b),e.push(k)},E=y=>{const b=i.getFirstRouteInfoForTab(y);b&&e.go(b.position-r)},S=(y,b)=>{if(!b)return;const _=i.getCurrentRouteInfoForTab(y),[k]=b.split("?");_?(a=Object.assign(Object.assign({},a),{routerAction:"push",routerDirection:"none",tab:y}),_.pathname===k?e.push({path:_.pathname,query:jh(_.search)}):e.push({path:k,query:jh(_.search)})):d(k,"push","none",void 0,y)},T=y=>{const b=Object.assign({},i.current(o,r));b.tab!==y&&(b.tab=y,i.update(b));const _=i.findLastLocation(b);b.pushedByRoute!==b.lastPathname&&(_==null?void 0:_.tab)!==y&&(b.pushedByRoute=void 0,i.update(b))},A=y=>{l.push(y)},O=(y="push",b="forward",_,k)=>{a={routerAction:y,routerDirection:b,routerAnimation:_,tab:k}};return{handleNavigate:d,getLeavingRouteInfo:()=>i.current(o,r),handleNavigateBack:u,handleSetCurrentTab:T,getCurrentRouteInfo:p,canGoBack:g,navigate:x,resetTab:E,changeTab:S,registerHistoryChangeListener:A,goBack:y=>{O("pop","back",y),e.back()},goForward:y=>{O("push","forward",y),e.forward()}}},HD=t=>{const e={},n=()=>Object.keys(e).length,i=T=>{delete e[T]},o=T=>e[T],r=(T,A)=>{T.ionPageElement=A,T.ionRoute=!0,T.matchedRoute.instances={default:T.vueComponentRef.value}},s=(T,A)=>d(T.pathname,A,!1),a=(T,A,O=!0)=>d(T.lastPathname,A,O),l=(T,A)=>d(T,A,!1),u=(T,A)=>A.find(O=>{if(O.pathname===T)return O}),d=(T,A,O=!1)=>{const L=V=>{if(O&&!V.ionRoute||T==="")return!1;const y=t.resolve(T).matched.find(b=>b===V.matchedRoute);if(y)return y.path.includes(":")&&T!==V.pathname?!1:V};if(A){const V=e[A];if(!V)return;const D=t?V.find(L):u(T,V);if(D)return D}else for(const V in e){const D=e[V],y=u(T,D);if(y)return y}};return{unmountLeavingViews:(T,A,O=1)=>{const L=e[T];if(!L)return;const V=L.findIndex(D=>D===A);for(let D=V+1;D<V-O;D++){const y=L[D];y.mount=!1,y.ionPageElement=void 0,y.ionRoute=!1,y.matchedRoute.instances={}}},mountIntermediaryViews:(T,A,O=1)=>{const L=e[T];if(!L)return;const V=L.findIndex(D=>D===A);for(let D=V+1;D<V+O;D++)L[D].mount=!0},clear:i,findViewItemByRouteInfo:s,findLeavingViewItemByRouteInfo:a,findViewItemByPathname:l,createViewItem:(T,A,O,L,V)=>({id:Cw("viewItem"),pathname:L.pathname,outletId:T,matchedRoute:O,ionPageElement:V,vueComponent:A,vueComponentRef:Ka(),ionRoute:!1,mount:!1,exact:L.pathname===O.path,params:L.params,vueComponentData:{}}),getChildrenToRender:T=>e[T]?e[T].filter(L=>L.mount):[],add:T=>{const{outletId:A}=T;e[A]?e[A].push(T):e[A]=[T]},remove:(T,A)=>{if(!A)throw Error("outletId required");const O=e[A];O&&(e[A]=O.filter(L=>L.id!==T.id))},registerIonPage:r,getViewStack:o,size:n}},qD=t=>{const e=Object.assign({},t);delete e.tabsPrefix;const n=LN(e),i=jD(t,n),o=HD(n),r=n.install.bind(n);n.install=a=>{a.provide("navManager",i),a.provide("viewStacks",o),r(a)};const s=n.isReady.bind(n);return n.isReady=()=>s(),n},WD=t=>dN(t);var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z=function(t,e){if(!t)throw fs(e)},fs=function(t){return new Error("Firebase Database ("+Sw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},GD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const r=t[n++];e[i++]=String.fromCharCode((o&31)<<6|r&63)}else if(o>239&&o<365){const r=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(r&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],s=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(r&63)<<6|s&63)}}return e.join("")},Nu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const r=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,u=l?t[o+2]:0,d=r>>2,h=(r&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(p=64)),i.push(n[d],n[h],n[p],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Aw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const r=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const u=o<t.length?n[t.charAt(o)]:64;++o;const h=o<t.length?n[t.charAt(o)]:64;if(++o,r==null||a==null||u==null||h==null)throw new KD;const p=r<<2|a>>4;if(i.push(p),u!==64){const g=a<<4&240|u>>2;if(i.push(g),h!==64){const x=u<<6&192|h;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rw=function(t){const e=Aw(t);return Nu.encodeByteArray(e,!0)},Vc=function(t){return Rw(t).replace(/\./g,"")},Fc=function(t){try{return Nu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){return Pw(void 0,t)}function Pw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!XD(n)||(t[n]=Pw(t[n],e[n]));return t}function XD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=()=>QD().__FIREBASE_DEFAULTS__,ZD=()=>{if(typeof process>"u"||typeof r_>"u")return;const t=r_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Fc(t[1]);return e&&JSON.parse(e)},Du=()=>{try{return JD()||ZD()||eL()}catch(t){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t));return}},Ow=t=>{var e,n;return(n=(e=Du())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nw=t=>{const e=Ow(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Dw=()=>{var t;return(t=Du())===null||t===void 0?void 0:t.config},Lw=t=>{var e;return(e=Du())===null||e===void 0?void 0:e["_".concat(t)]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(i),aud:i,iat:o,exp:o+3600,auth_time:o,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vc(JSON.stringify(n)),Vc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function tL(){var t;const e=(t=Du())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function nL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iL(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fw(){return Sw.NODE_ADMIN===!0}function oL(){return!tL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $w(){try{return typeof indexedDB=="object"}catch(t){return!1}}function rL(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var r;e(((r=o.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="FirebaseError";class hi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=sL,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}}class ps{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?aL(r,i):"Error",a="".concat(this.serviceName,": ").concat(s," (").concat(o,").");return new hi(o,a,i)}}function aL(t,e){return t.replace(lL,(n,i)=>{const o=e[i];return o!=null?String(o):"<".concat(i,"?>")})}const lL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){return JSON.parse(t)}function Vt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=function(t){let e={},n={},i={},o="";try{const r=t.split(".");e=Na(Fc(r[0])||""),n=Na(Fc(r[1])||""),o=r[2],i=n.d||{},delete n.d}catch(r){}return{header:e,claims:n,data:i,signature:o}},cL=function(t){const e=Uw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},uL=function(t){const e=Uw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function es(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $c(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function Uc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const r=t[o],s=e[o];if(s_(r)&&s_(s)){if(!Uc(r,s))return!1}else if(r!==s)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function s_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Xs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,r]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(r)}}),e}function Qs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const p=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(p<<1|p>>>31)&4294967295}let o=this.chain_[0],r=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let h=0;h<80;h++){h<40?h<20?(u=a^r&(s^a),d=1518500249):(u=r^s^a,d=1859775393):h<60?(u=r&s|a&(r|s),d=2400959708):(u=r^s^a,d=3395469782);const p=(o<<5|o>>>27)+u+l+d+i[h]&4294967295;l=a,a=s,s=(r<<30|r>>>2)&4294967295,r=o,o=p}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const r=this.buf_;let s=this.inbuf_;for(;o<n;){if(s===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(r[s]=e.charCodeAt(o),++s,++o,s===this.blockSize){this.compress_(r),s=0;break}}else for(;o<n;)if(r[s]=e[o],++s,++o,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[o]>>r&255,++i;return e}}function hL(t,e){const n=new fL(t,e);return n.subscribe.bind(n)}class fL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");pL(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Bd),o.error===void 0&&(o.error=Bd),o.complete===void 0&&(o.complete=Bd);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(s){}}),this.observers.push(o),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bd(){}function mL(t,e){return"".concat(t," failed: ").concat(e," argument ")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const r=o-55296;i++,Z(i<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(i)-56320;o=65536+(r<<10)+s}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Lu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Hn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Oa;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(o)return null;throw r}else{if(o)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(vL(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch(n){}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:o});i.resolve(r)}catch(r){}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&s.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(o,r);const s=this.instances.get(o);return s&&e(s,o),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_L(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}return i||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _L(t){return t===Lo?void 0:t}function vL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const wL={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},EL=xe.INFO,IL={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},TL=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=IL[e];if(o)console[o]("[".concat(i,"]  ").concat(t.name,":"),...n);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class Za{constructor(e){this.name=e,this._logLevel=EL,this._logHandler=TL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const kL=(t,e)=>e.some(n=>t instanceof n);let a_,l_;function xL(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CL(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bw=new WeakMap,Wh=new WeakMap,zw=new WeakMap,zd=new WeakMap,wp=new WeakMap;function SL(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{n(fo(t.result)),o()},s=()=>{i(t.error),o()};t.addEventListener("success",r),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Bw.set(n,t)}).catch(()=>{}),wp.set(e,t),e}function AL(t){if(Wh.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{n(),o()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)});Wh.set(t,e)}let Gh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RL(t){Gh=t(Gh)}function PL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(jd(this),e,...n);return zw.set(i,e.sort?e.sort():[e]),fo(i)}:CL().includes(t)?function(...e){return t.apply(jd(this),e),fo(Bw.get(this))}:function(...e){return fo(t.apply(jd(this),e))}}function OL(t){return typeof t=="function"?PL(t):(t instanceof IDBTransaction&&AL(t),kL(t,xL())?new Proxy(t,Gh):t)}function fo(t){if(t instanceof IDBRequest)return SL(t);if(zd.has(t))return zd.get(t);const e=OL(t);return e!==t&&(zd.set(t,e),wp.set(e,t)),e}const jd=t=>wp.get(t);function NL(t,e,{blocked:n,upgrade:i,blocking:o,terminated:r}={}){const s=indexedDB.open(t,e),a=fo(s);return i&&s.addEventListener("upgradeneeded",l=>{i(fo(s.result),l.oldVersion,l.newVersion,fo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),o&&l.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const DL=["get","getKey","getAll","getAllKeys","count"],LL=["put","add","delete","clear"],Hd=new Map;function c_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=LL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||DL.includes(n)))return;const r=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),o&&l.done]))[0]};return Hd.set(e,r),r}RL(t=>({...t,get:(e,n,i)=>c_(e,n)||t.get(e,n,i),has:(e,n)=>!!c_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VL(n)){const i=n.getImmediate();return"".concat(i.library,"/").concat(i.version)}else return null}).filter(n=>n).join(" ")}}function VL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kh="@firebase/app",u_="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Za("@firebase/app"),FL="@firebase/app-compat",$L="@firebase/analytics-compat",UL="@firebase/analytics",BL="@firebase/app-check-compat",zL="@firebase/app-check",jL="@firebase/auth",HL="@firebase/auth-compat",qL="@firebase/database",WL="@firebase/database-compat",GL="@firebase/functions",KL="@firebase/functions-compat",YL="@firebase/installations",XL="@firebase/installations-compat",QL="@firebase/messaging",JL="@firebase/messaging-compat",ZL="@firebase/performance",eM="@firebase/performance-compat",tM="@firebase/remote-config",nM="@firebase/remote-config-compat",iM="@firebase/storage",oM="@firebase/storage-compat",rM="@firebase/firestore",sM="@firebase/vertexai-preview",aM="@firebase/firestore-compat",lM="firebase",cM="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="[DEFAULT]",uM={[Kh]:"fire-core",[FL]:"fire-core-compat",[UL]:"fire-analytics",[$L]:"fire-analytics-compat",[zL]:"fire-app-check",[BL]:"fire-app-check-compat",[jL]:"fire-auth",[HL]:"fire-auth-compat",[qL]:"fire-rtdb",[WL]:"fire-rtdb-compat",[GL]:"fire-fn",[KL]:"fire-fn-compat",[YL]:"fire-iid",[XL]:"fire-iid-compat",[QL]:"fire-fcm",[JL]:"fire-fcm-compat",[ZL]:"fire-perf",[eM]:"fire-perf-compat",[tM]:"fire-rc",[nM]:"fire-rc-compat",[iM]:"fire-gcs",[oM]:"fire-gcs-compat",[rM]:"fire-fst",[aM]:"fire-fst-compat",[sM]:"fire-vertex","fire-js":"fire-js",[lM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Map,dM=new Map,Xh=new Map;function d_(t,e){try{t.container.addComponent(e)}catch(n){Zo.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function ui(t){const e=t.name;if(Xh.has(e))return Zo.debug("There were multiple attempts to register component ".concat(e,".")),!1;Xh.set(e,t);for(const n of Da.values())d_(n,t);for(const n of dM.values())d_(n,t);return!0}function Mu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new ps("app","Firebase",hM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=cM;function Ep(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yh,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw po.create("bad-app-name",{appName:String(o)});if(n||(n=Dw()),!n)throw po.create("no-options");const r=Da.get(o);if(r){if(Uc(n,r.options)&&Uc(i,r.config))return r;throw po.create("duplicate-app",{appName:o})}const s=new yL(o);for(const l of Xh.values())s.addComponent(l);const a=new fM(n,i,s);return Da.set(o,a),a}function el(t=Yh){const e=Da.get(t);if(!e&&t===Yh&&Dw())return Ep();if(!e)throw po.create("no-app",{appName:t});return e}function pM(){return Array.from(Da.values())}function vn(t,e,n){var i;let o=(i=uM[t])!==null&&i!==void 0?i:t;n&&(o+="-".concat(n));const r=o.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=['Unable to register library "'.concat(o,'" with version "').concat(e,'":')];r&&a.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),r&&s&&a.push("and"),s&&a.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),Zo.warn(a.join(" "));return}ui(new Hn("".concat(o,"-version"),()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="firebase-heartbeat-database",gM=1,La="firebase-heartbeat-store";let qd=null;function jw(){return qd||(qd=NL(mM,gM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(La)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),qd}async function bM(t){try{const n=(await jw()).transaction(La),i=await n.objectStore(La).get(Hw(t));return await n.done,i}catch(e){if(e instanceof hi)Zo.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zo.warn(n.message)}}}async function h_(t,e){try{const i=(await jw()).transaction(La,"readwrite");await i.objectStore(La).put(e,Hw(t)),await i.done}catch(n){if(n instanceof hi)Zo.warn(n.message);else{const i=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zo.warn(i.message)}}}function Hw(t){return"".concat(t.name,"!").concat(t.options.appId)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=1024,vM=30*24*60*60*1e3;class yM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=vM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f_(),{heartbeatsToSend:i,unsentEntries:o}=wM(this._heartbeatsCache.heartbeats),r=Vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function f_(){return new Date().toISOString().substring(0,10)}function wM(t,e=_M){const n=[];let i=t.slice();for(const o of t){const r=n.find(s=>s.agent===o.agent);if(r){if(r.dates.push(o.date),p_(n)>e){r.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),p_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class EM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $w()?rL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function p_(t){return Vc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){ui(new Hn("platform-logger",e=>new ML(e),"PRIVATE")),ui(new Hn("heartbeat",e=>new yM(e),"PRIVATE")),vn(Kh,u_,t),vn(Kh,u_,"esm2017"),vn("fire-js","")}IM("");function Ip(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TM=qw,Ww=new ps("auth","Firebase",qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Za("@firebase/auth");function kM(t,...e){Bc.logLevel<=xe.WARN&&Bc.warn("Auth (".concat(ko,"): ").concat(t),...e)}function dc(t,...e){Bc.logLevel<=xe.ERROR&&Bc.error("Auth (".concat(ko,"): ").concat(t),...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,...e){throw kp(t,...e)}function Bn(t,...e){return kp(t,...e)}function Tp(t,e,n){const i=Object.assign(Object.assign({},TM()),{[e]:n});return new ps("auth","Firebase",i).create(e,{appName:t.name})}function Ri(t){return Tp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xM(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&xn(t,"argument-error"),Tp(t,"argument-error","Type of ".concat(e.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function kp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Ww.create(t,...e)}function pe(t,e,...n){if(!t)throw kp(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dc(e),new Error(e)}function Di(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CM(){return m_()==="http:"||m_()==="https:"}function m_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CM()||nL()||"connection"in navigator)?navigator.onLine:!0}function AM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=yp()||Vw()}get(){return SM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new tl(3e4,6e4);function Ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fi(t,e,n,i,o={}){return Kw(t,o,async()=>{let r={},s={};i&&(e==="GET"?s=i:r={body:JSON.stringify(i)});const a=ms(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Gw.fetch()(Yw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function Kw(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},RM),e);try{const o=new NM(t),r=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Yl(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const a=r.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Yl(t,"user-disabled",s);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Tp(t,d,u);xn(t,d)}}catch(o){if(o instanceof hi)throw o;xn(t,"network-request-failed",{message:String(o)})}}async function nl(t,e,n,i,o={}){const r=await fi(t,e,n,i,o);return"mfaPendingCredential"in r&&xn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Yw(t,e,n,i){const o="".concat(e).concat(n,"?").concat(i);return t.config.emulator?xp(t.config,o):"".concat(t.config.apiScheme,"://").concat(o)}function OM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bn(this.auth,"network-request-failed")),PM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Bn(t,e,i);return o.customData._tokenResponse=n,o}function g_(t){return t!==void 0&&t.enterprise!==void 0}class DM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function LM(t,e){return fi(t,"GET","/v2/recaptchaConfig",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){return fi(t,"POST","/v1/accounts:delete",e)}async function Xw(t,e){return fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function VM(t,e=!1){const n=at(t),i=await n.getIdToken(e),o=Cp(i);pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const r=typeof o.firebase=="object"?o.firebase:void 0,s=r==null?void 0:r.sign_in_provider;return{claims:o,token:i,authTime:da(Wd(o.auth_time)),issuedAtTime:da(Wd(o.iat)),expirationTime:da(Wd(o.exp)),signInProvider:s||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Wd(t){return Number(t)*1e3}function Cp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fc(n);return o?JSON.parse(o):(dc("Failed to decode base64 JWT payload"),null)}catch(o){return dc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function b_(t){const e=Cp(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof hi&&FM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function FM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=da(this.lastLoginAt),this.creationTime=da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(t){var e;const n=t.auth,i=await t.getIdToken(),o=await ts(t,Xw(n,{idToken:i}));pe(o==null?void 0:o.users.length,n,"internal-error");const r=o.users[0];t._notifyReloadListener(r);const s=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?Qw(r.providerUserInfo):[],a=BM(t.providerData,s),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Jh(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function UM(t){const e=at(t);await zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BM(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Qw(t){return t.map(e=>{var{providerId:n}=e,i=Ip(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e){const n=await Kw(t,{},async()=>{const i=ms({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:r}=t.config,s=Yw(t,o,"/v1/token","key=".concat(r)),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gw.fetch()(s,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jM(t,e){return fi(t,"POST","/v2/accounts:revokeToken",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=b_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:r}=await zM(e,n);this.updateTokensAndExpiration(i,o,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:r}=n,s=new zr;return i&&(pe(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),o&&(pe(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),r&&(pe(typeof r=="number","internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zr,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,r=Ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $M(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Jh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await ts(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VM(this,e)}reload(){return UM(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await zc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await ts(this,MM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,r,s,a,l,u,d;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(o=n.email)!==null&&o!==void 0?o:void 0,g=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,x=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,A=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:O,emailVerified:L,isAnonymous:V,providerData:D,stsTokenManager:y}=n;pe(O&&y,e,"internal-error");const b=zr.fromJSON(this.name,y);pe(typeof O=="string",e,"internal-error"),Xi(h,e.name),Xi(p,e.name),pe(typeof L=="boolean",e,"internal-error"),pe(typeof V=="boolean",e,"internal-error"),Xi(g,e.name),Xi(x,e.name),Xi(E,e.name),Xi(S,e.name),Xi(T,e.name),Xi(A,e.name);const _=new ki({uid:O,auth:e,email:p,emailVerified:L,displayName:h,isAnonymous:V,photoURL:x,phoneNumber:g,tenantId:E,stsTokenManager:b,createdAt:T,lastLoginAt:A});return D&&Array.isArray(D)&&(_.providerData=D.map(k=>Object.assign({},k))),S&&(_._redirectEventId=S),_}static async _fromIdTokenResponse(e,n,i=!1){const o=new zr;o.updateFromServerResponse(n);const r=new ki({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await zc(r),r}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];pe(o.localId!==void 0,"internal-error");const r=o.providerUserInfo!==void 0?Qw(o.providerUserInfo):[],s=!(o.email&&o.passwordHash)&&!(r!=null&&r.length),a=new zr;a.updateFromIdToken(i);const l=new ki({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:r,metadata:new Jh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;function xi(t){Di(t instanceof Function,"Expected a class definition");let e=__.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,__.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jw.type="NONE";const v_=Jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e,n){return"firebase:".concat(t,":").concat(e,":").concat(n)}class jr{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:r}=this.auth;this.fullUserKey=hc(this.userKey,o.apiKey,r),this.fullPersistenceKey=hc("persistence",o.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new jr(xi(v_),e,i);const o=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=o[0]||xi(v_);const s=hc(i,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const h=ki._fromJSON(e,d);u!==r&&(a=h),r=u;break}}catch(d){}const l=o.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new jr(r,e,i):(r=l[0],a&&await r._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(s)}catch(d){}})),new jr(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iE(e))return"Blackberry";if(oE(e))return"Webos";if(Sp(e))return"Safari";if((e.includes("chrome/")||eE(e))&&!e.includes("edge/"))return"Chrome";if(nE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Zw(t=Ut()){return/firefox\//i.test(t)}function Sp(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eE(t=Ut()){return/crios\//i.test(t)}function tE(t=Ut()){return/iemobile/i.test(t)}function nE(t=Ut()){return/android/i.test(t)}function iE(t=Ut()){return/blackberry/i.test(t)}function oE(t=Ut()){return/webos/i.test(t)}function Vu(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HM(t=Ut()){var e;return Vu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qM(){return iL()&&document.documentMode===10}function rE(t=Ut()){return Vu(t)||nE(t)||oE(t)||iE(t)||/windows phone/i.test(t)||tE(t)}function WM(){try{return!!(window&&window!==window.top)}catch(t){return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e=[]){let n;switch(t){case"Browser":n=y_(Ut());break;case"Worker":n="".concat(y_(Ut()),"-").concat(t);break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/JsCore/").concat(ko,"/").concat(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((s,a)=>{try{const l=e(r);s(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,e={}){return fi(t,"GET","/v2/passwordPolicy",Ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=6;class XM{constructor(e){var n,i,o,r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:YM,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,r,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new GM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ww,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await jr.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xw(this,{idToken:e}),i=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,r=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(i){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Ri(this));const n=e?at(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KM(this),n=new XM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ps("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await jM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xi(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await jr.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{s||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,o);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kM("Error while retrieving App Check token: ".concat(n.error)),n==null?void 0:n.token}}function xo(t){return at(t)}class w_{constructor(e){this.auth=e,this.observer=null,this.addObserver=hL(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JM(t){Fu=t}function aE(t){return Fu.loadJS(t)}function ZM(){return Fu.recaptchaEnterpriseScript}function e2(){return Fu.gapiScript}function t2(t){return"__".concat(t).concat(Math.floor(Math.random()*1e6))}const n2="recaptcha-enterprise",i2="NO_RECAPTCHA";class o2{constructor(e){this.type=n2,this.auth=xo(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(s,a)=>{LM(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new DM(l);return r.tenantId==null?r._agentRecaptchaConfig=u:r._tenantRecaptchaConfigs[r.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function o(r,s,a){const l=window.grecaptcha;g_(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(u=>{s(u)}).catch(()=>{s(i2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,s)=>{i(this.auth).then(a=>{if(!n&&g_(window.grecaptcha))o(a,r,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ZM();l.length!==0&&(l+=a),aE(l).then(()=>{o(a,r,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function E_(t,e,n,i=!1){const o=new o2(t);let r;try{r=await o.verify(n)}catch(a){r=await o.verify(n,!0)}const s=Object.assign({},e);return i?Object.assign(s,{captchaResp:r}):Object.assign(s,{captchaResponse:r}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Zh(t,e,n,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await E_(t,e,n,n==="getOobCode");return i(t,r)}else return i(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await E_(t,e,n,n==="getOobCode");return i(t,s)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){const n=Mu(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),r=n.getOptions();if(Uc(r,e!=null?e:{}))return o;xn(o,"already-initialized")}return n.initialize({options:e})}function r2(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function s2(t,e,n){const i=xo(t);pe(i._canInitEmulator,i,"emulator-config-failed"),pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,r=cE(e),{host:s,port:a}=a2(e),l=a===null?"":":".concat(a);i.config.emulator={url:"".concat(r,"//").concat(s).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:o})}),l2()}function cE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function a2(t){const e=cE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const r=o[1];return{host:r,port:I_(i.substr(r.length+1))}}else{const[r,s]=i.split(":");return{host:r,port:I_(s)}}}function I_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function c2(t,e){return fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t,e){return nl(t,"POST","/v1/accounts:signInWithPassword",Ui(t,e))}async function d2(t,e){return fi(t,"POST","/v1/accounts:sendOobCode",Ui(t,e))}async function h2(t,e){return d2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e){return nl(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}async function p2(t,e){return nl(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Ap{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ma(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ma(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,n,"signInWithPassword",u2);case"emailLink":return f2(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,i,"signUpPassword",c2);case"emailLink":return p2(e,{idToken:n,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(t,e){return nl(t,"POST","/v1/accounts:signInWithIdp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="http://localhost";class er extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new er(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,r=Ip(n,["providerId","signInMethod"]);if(!i||!o)return null;const s=new er(i,o);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Hr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Hr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hr(e,n)}buildRequest(){const e={requestUri:m2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ms(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b2(t){const e=Xs(Qs(t)).link,n=e?Xs(Qs(e)).deep_link_id:null,i=Xs(Qs(t)).deep_link_id;return(i?Xs(Qs(i)).link:null)||i||n||e||t}class Rp{constructor(e){var n,i,o,r,s,a;const l=Xs(Qs(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,h=g2((o=l.mode)!==null&&o!==void 0?o:null);pe(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=b2(e);try{return new Rp(n)}catch(i){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.providerId=gs.PROVIDER_ID}static credential(e,n){return Ma._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Rp.parseLink(n);return pe(i,"argument-error"),Ma._fromEmailAndCode(e,i.code,i.tenantId)}}gs.PROVIDER_ID="password";gs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends il{constructor(){super("facebook.com")}static credential(e){return er._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch(n){return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return er._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ii.credential(n,i)}catch(o){return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends il{constructor(){super("github.com")}static credential(e){return er._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch(n){return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends il{constructor(){super("twitter.com")}static credential(e,n){return er._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return io.credential(n,i)}catch(o){return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,e){return nl(t,"POST","/v1/accounts:signUp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const r=await ki._fromIdTokenResponse(e,i,o),s=T_(i);return new tr({user:r,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=T_(i);return new tr({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function T_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends hi{constructor(e,n,i,o){var r;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,jc.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new jc(e,n,i,o)}}function uE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?jc._fromErrorAndOperation(t,r,e,i):r})}async function v2(t,e,n=!1){const i=await ts(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(t,e,n=!1){const{auth:i}=t;if(Mn(i.app))return Promise.reject(Ri(i));const o="reauthenticate";try{const r=await ts(t,uE(i,o,e,t),n);pe(r.idToken,i,"internal-error");const s=Cp(r.idToken);pe(s,i,"internal-error");const{sub:a}=s;return pe(t.uid===a,i,"user-mismatch"),tr._forOperation(t,o,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&xn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dE(t,e,n=!1){if(Mn(t.app))return Promise.reject(Ri(t));const i="signIn",o=await uE(t,i,e),r=await tr._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(r.user),r}async function w2(t,e){return dE(xo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(t){const e=xo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E2(t,e,n){if(Mn(t.app))return Promise.reject(Ri(t));const i=xo(t),s=await Zh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hE(t),l}),a=await tr._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(a.user),a}function I2(t,e,n){return Mn(t.app)?Promise.reject(Ri(t)):w2(at(t),gs.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&hE(t),i})}async function T2(t,e){const n=at(t),o={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:r}=await h2(n.auth,o);r!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e){return fi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=at(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await ts(i,k2(i.auth,r));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function fE(t,e,n,i){return at(t).onIdTokenChanged(e,n,i)}function C2(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function S2(t,e,n,i){return at(t).onAuthStateChanged(e,n,i)}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){const t=Ut();return Sp(t)||Vu(t)}const R2=1e3,P2=10;class mE extends pE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A2()&&WM(),this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(i);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},r=this.storage.getItem(i);qM()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,P2):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mE.type="LOCAL";const gE=mE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends pE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bE.type="SESSION";const Op=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new $u(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:r}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const a=Array.from(s).map(async u=>u(n.origin,r)),l=await O2(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let r,s;return new Promise((a,l)=>{const u=Np("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:o,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(p.data.response);break;default:clearTimeout(d),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function D2(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function L2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function M2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V2(){return _E()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="firebaseLocalStorageDb",F2=1,qc="firebaseLocalStorage",yE="fbase_key";class ol{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uu(t,e){return t.transaction([qc],e?"readwrite":"readonly").objectStore(qc)}function $2(){const t=indexedDB.deleteDatabase(vE);return new ol(t).toPromise()}function ef(){const t=indexedDB.open(vE,F2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(qc,{keyPath:yE})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(qc)?e(i):(i.close(),await $2(),e(await ef()))})})}async function k_(t,e,n){const i=Uu(t,!0).put({[yE]:e,value:n});return new ol(i).toPromise()}async function U2(t,e){const n=Uu(t,!1).get(e),i=await new ol(n).toPromise();return i===void 0?null:i.value}function x_(t,e){const n=Uu(t,!0).delete(e);return new ol(n).toPromise()}const B2=800,z2=3;class wE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ef(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>z2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$u._getInstance(V2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L2(),!this.activeServiceWorker)return;this.sender=new N2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ef();return await k_(e,Hc,"1"),await x_(e,Hc),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>k_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>U2(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const r=Uu(o,!1).getAll();return new ol(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:r}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(r)&&(this.notifyListeners(o,r),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wE.type="LOCAL";const EE=wE;new tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t,e){return e?xi(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j2(t){return dE(t.auth,new Dp(t),t.bypassAuthState)}function H2(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),y2(n,new Dp(t),t.bypassAuthState)}async function q2(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),v2(n,new Dp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,i,o,r=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:r,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j2;case"linkViaPopup":case"linkViaRedirect":return q2;case"reauthViaPopup":case"reauthViaRedirect":return H2;default:xn(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new tl(2e3,1e4);async function G2(t,e,n){if(Mn(t.app))return Promise.reject(Bn(t,"operation-not-supported-in-this-environment"));const i=xo(t);xM(t,e,Pp);const o=IE(i,n);return new Bo(i,"signInViaPopup",e,o).executeNotNull()}class Bo extends TE{constructor(e,n,i,o,r){super(e,n,o,r),this.provider=i,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W2.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="pendingRedirect",fc=new Map;class Y2 extends TE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=fc.get(this.auth._key());if(!e){try{const i=await X2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}fc.set(this.auth._key(),e)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X2(t,e){const n=Z2(e),i=J2(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function Q2(t,e){fc.set(t._key(),e)}function J2(t){return xi(t._redirectPersistence)}function Z2(t){return hc(K2,t.config.apiKey,t.name)}async function eV(t,e,n=!1){if(Mn(t.app))return Promise.reject(Ri(t));const i=xo(t),o=IE(i,e),s=await new Y2(i,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=10*60*1e3;class nV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!kE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tV&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e={}){return fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sV=/^https?/;async function aV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oV(t);for(const n of e)try{if(lV(n))return}catch(i){}xn(t,"unauthorized-domain")}function lV(t){const e=Qh(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!sV.test(n))return!1;if(rV.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=new tl(3e4,6e4);function S_(){const t=ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uV(t){return new Promise((e,n)=>{var i,o,r;function s(){S_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S_(),n(Bn(t,"network-request-failed"))},timeout:cV.get()})}if(!((o=(i=ri().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((r=ri().gapi)===null||r===void 0)&&r.load)s();else{const a=t2("iframefcb");return ri()[a]=()=>{gapi.load?s():n(Bn(t,"network-request-failed"))},aE("".concat(e2(),"?onload=").concat(a)).catch(l=>n(l))}}).catch(e=>{throw pc=null,e})}let pc=null;function dV(t){return pc=pc||uV(t),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new tl(5e3,15e3),fV="__/auth/iframe",pV="emulator/auth/iframe",mV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bV(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xp(e,pV):"https://".concat(t.config.authDomain,"/").concat(fV),i={apiKey:e.apiKey,appName:t.name,v:ko},o=gV.get(t.config.apiHost);o&&(i.eid=o);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),"".concat(n,"?").concat(ms(i).slice(1))}async function _V(t){const e=await dV(t),n=ri().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:bV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mV,dontclear:!0},i=>new Promise(async(o,r)=>{await i.restyle({setHideOnLeave:!1});const s=Bn(t,"network-request-failed"),a=ri().setTimeout(()=>{r(s)},hV.get());function l(){ri().clearTimeout(a),o(i)}i.ping(l).then(l,()=>{r(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yV=500,wV=600,EV="_blank",IV="http://localhost";class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function TV(t,e,n,i=yV,o=wV){const r=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vV),{width:i.toString(),height:o.toString(),top:r,left:s}),u=Ut().toLowerCase();n&&(a=eE(u)?EV:n),Zw(u)&&(e=e||IV,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,x])=>"".concat(p).concat(g,"=").concat(x,","),"");if(HM(u)&&a!=="_self")return kV(e||"",a),new A_(null);const h=window.open(e||"",a,d);pe(h,t,"popup-blocked");try{h.focus()}catch(p){}return new A_(h)}function kV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="__/auth/handler",CV="emulator/auth/handler",SV=encodeURIComponent("fac");async function R_(t,e,n,i,o,r){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ko,eventId:o};if(e instanceof Pp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",qh(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof il){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?"#".concat(SV,"=").concat(encodeURIComponent(l)):"";return"".concat(AV(t),"?").concat(ms(a).slice(1)).concat(u)}function AV({config:t}){return t.emulator?xp(t,CV):"https://".concat(t.authDomain,"/").concat(xV)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class RV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Op,this._completeRedirectFn=eV,this._overrideRedirectResult=Q2}async _openPopup(e,n,i,o){var r;Di((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const s=await R_(e,n,i,Qh(),o);return TV(e,s,Np())}async _openRedirect(e,n,i,o){await this._originValidation(e);const r=await R_(e,n,i,Qh(),o);return D2(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:r}=this.eventManagers[n];return o?Promise.resolve(o):(Di(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await _V(e),i=new nV(e);return n.register("authEvent",o=>(pe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gd,{type:Gd},o=>{var r;const s=(r=o==null?void 0:o[0])===null||r===void 0?void 0:r[Gd];s!==void 0&&n(!!s),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rE()||Sp()||Vu()}}const xE=RV;var P_="@firebase/auth",O_="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NV(t){ui(new Hn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(t)},u=new QM(i,o,r,l);return r2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ui(new Hn("auth-internal",e=>{const n=xo(e.getProvider("auth").getImmediate());return(i=>new PV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(P_,O_,OV(t)),vn(P_,O_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=5*60,LV=Lw("authIdTokenMaxAge")||DV;let N_=null;const MV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>LV)return;const o=n==null?void 0:n.token;N_!==o&&(N_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:"Bearer ".concat(o)}:{}}))};function CE(t=el()){const e=Mu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lE(t,{popupRedirectResolver:xE,persistence:[EE,gE,Op]}),i=Lw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const s=MV(r.toString());C2(n,s,()=>s(n.currentUser)),fE(n,a=>s(a))}}const o=Ow("auth");return o&&s2(n,"http://".concat(o)),n}function VV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JM({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const r=Bn("internal-error");r.customData=o,n(r)},i.type="text/javascript",i.charset="UTF-8",VV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NV("Browser");var FV="firebase",$V="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(FV,$V,"app");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wo,SE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,b){function _(){}_.prototype=b.prototype,y.D=b.prototype,y.prototype=new _,y.prototype.constructor=y,y.C=function(k,C,P){for(var w=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)w[Le-2]=arguments[Le];return b.prototype[C].apply(k,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(y,b,_){_||(_=0);var k=Array(16);if(typeof b=="string")for(var C=0;16>C;++C)k[C]=b.charCodeAt(_++)|b.charCodeAt(_++)<<8|b.charCodeAt(_++)<<16|b.charCodeAt(_++)<<24;else for(C=0;16>C;++C)k[C]=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24;b=y.g[0],_=y.g[1],C=y.g[2];var P=y.g[3],w=b+(P^_&(C^P))+k[0]+3614090360&4294967295;b=_+(w<<7&4294967295|w>>>25),w=P+(C^b&(_^C))+k[1]+3905402710&4294967295,P=b+(w<<12&4294967295|w>>>20),w=C+(_^P&(b^_))+k[2]+606105819&4294967295,C=P+(w<<17&4294967295|w>>>15),w=_+(b^C&(P^b))+k[3]+3250441966&4294967295,_=C+(w<<22&4294967295|w>>>10),w=b+(P^_&(C^P))+k[4]+4118548399&4294967295,b=_+(w<<7&4294967295|w>>>25),w=P+(C^b&(_^C))+k[5]+1200080426&4294967295,P=b+(w<<12&4294967295|w>>>20),w=C+(_^P&(b^_))+k[6]+2821735955&4294967295,C=P+(w<<17&4294967295|w>>>15),w=_+(b^C&(P^b))+k[7]+4249261313&4294967295,_=C+(w<<22&4294967295|w>>>10),w=b+(P^_&(C^P))+k[8]+1770035416&4294967295,b=_+(w<<7&4294967295|w>>>25),w=P+(C^b&(_^C))+k[9]+2336552879&4294967295,P=b+(w<<12&4294967295|w>>>20),w=C+(_^P&(b^_))+k[10]+4294925233&4294967295,C=P+(w<<17&4294967295|w>>>15),w=_+(b^C&(P^b))+k[11]+2304563134&4294967295,_=C+(w<<22&4294967295|w>>>10),w=b+(P^_&(C^P))+k[12]+1804603682&4294967295,b=_+(w<<7&4294967295|w>>>25),w=P+(C^b&(_^C))+k[13]+4254626195&4294967295,P=b+(w<<12&4294967295|w>>>20),w=C+(_^P&(b^_))+k[14]+2792965006&4294967295,C=P+(w<<17&4294967295|w>>>15),w=_+(b^C&(P^b))+k[15]+1236535329&4294967295,_=C+(w<<22&4294967295|w>>>10),w=b+(C^P&(_^C))+k[1]+4129170786&4294967295,b=_+(w<<5&4294967295|w>>>27),w=P+(_^C&(b^_))+k[6]+3225465664&4294967295,P=b+(w<<9&4294967295|w>>>23),w=C+(b^_&(P^b))+k[11]+643717713&4294967295,C=P+(w<<14&4294967295|w>>>18),w=_+(P^b&(C^P))+k[0]+3921069994&4294967295,_=C+(w<<20&4294967295|w>>>12),w=b+(C^P&(_^C))+k[5]+3593408605&4294967295,b=_+(w<<5&4294967295|w>>>27),w=P+(_^C&(b^_))+k[10]+38016083&4294967295,P=b+(w<<9&4294967295|w>>>23),w=C+(b^_&(P^b))+k[15]+3634488961&4294967295,C=P+(w<<14&4294967295|w>>>18),w=_+(P^b&(C^P))+k[4]+3889429448&4294967295,_=C+(w<<20&4294967295|w>>>12),w=b+(C^P&(_^C))+k[9]+568446438&4294967295,b=_+(w<<5&4294967295|w>>>27),w=P+(_^C&(b^_))+k[14]+3275163606&4294967295,P=b+(w<<9&4294967295|w>>>23),w=C+(b^_&(P^b))+k[3]+4107603335&4294967295,C=P+(w<<14&4294967295|w>>>18),w=_+(P^b&(C^P))+k[8]+1163531501&4294967295,_=C+(w<<20&4294967295|w>>>12),w=b+(C^P&(_^C))+k[13]+2850285829&4294967295,b=_+(w<<5&4294967295|w>>>27),w=P+(_^C&(b^_))+k[2]+4243563512&4294967295,P=b+(w<<9&4294967295|w>>>23),w=C+(b^_&(P^b))+k[7]+1735328473&4294967295,C=P+(w<<14&4294967295|w>>>18),w=_+(P^b&(C^P))+k[12]+2368359562&4294967295,_=C+(w<<20&4294967295|w>>>12),w=b+(_^C^P)+k[5]+4294588738&4294967295,b=_+(w<<4&4294967295|w>>>28),w=P+(b^_^C)+k[8]+2272392833&4294967295,P=b+(w<<11&4294967295|w>>>21),w=C+(P^b^_)+k[11]+1839030562&4294967295,C=P+(w<<16&4294967295|w>>>16),w=_+(C^P^b)+k[14]+4259657740&4294967295,_=C+(w<<23&4294967295|w>>>9),w=b+(_^C^P)+k[1]+2763975236&4294967295,b=_+(w<<4&4294967295|w>>>28),w=P+(b^_^C)+k[4]+1272893353&4294967295,P=b+(w<<11&4294967295|w>>>21),w=C+(P^b^_)+k[7]+4139469664&4294967295,C=P+(w<<16&4294967295|w>>>16),w=_+(C^P^b)+k[10]+3200236656&4294967295,_=C+(w<<23&4294967295|w>>>9),w=b+(_^C^P)+k[13]+681279174&4294967295,b=_+(w<<4&4294967295|w>>>28),w=P+(b^_^C)+k[0]+3936430074&4294967295,P=b+(w<<11&4294967295|w>>>21),w=C+(P^b^_)+k[3]+3572445317&4294967295,C=P+(w<<16&4294967295|w>>>16),w=_+(C^P^b)+k[6]+76029189&4294967295,_=C+(w<<23&4294967295|w>>>9),w=b+(_^C^P)+k[9]+3654602809&4294967295,b=_+(w<<4&4294967295|w>>>28),w=P+(b^_^C)+k[12]+3873151461&4294967295,P=b+(w<<11&4294967295|w>>>21),w=C+(P^b^_)+k[15]+530742520&4294967295,C=P+(w<<16&4294967295|w>>>16),w=_+(C^P^b)+k[2]+3299628645&4294967295,_=C+(w<<23&4294967295|w>>>9),w=b+(C^(_|~P))+k[0]+4096336452&4294967295,b=_+(w<<6&4294967295|w>>>26),w=P+(_^(b|~C))+k[7]+1126891415&4294967295,P=b+(w<<10&4294967295|w>>>22),w=C+(b^(P|~_))+k[14]+2878612391&4294967295,C=P+(w<<15&4294967295|w>>>17),w=_+(P^(C|~b))+k[5]+4237533241&4294967295,_=C+(w<<21&4294967295|w>>>11),w=b+(C^(_|~P))+k[12]+1700485571&4294967295,b=_+(w<<6&4294967295|w>>>26),w=P+(_^(b|~C))+k[3]+2399980690&4294967295,P=b+(w<<10&4294967295|w>>>22),w=C+(b^(P|~_))+k[10]+4293915773&4294967295,C=P+(w<<15&4294967295|w>>>17),w=_+(P^(C|~b))+k[1]+2240044497&4294967295,_=C+(w<<21&4294967295|w>>>11),w=b+(C^(_|~P))+k[8]+1873313359&4294967295,b=_+(w<<6&4294967295|w>>>26),w=P+(_^(b|~C))+k[15]+4264355552&4294967295,P=b+(w<<10&4294967295|w>>>22),w=C+(b^(P|~_))+k[6]+2734768916&4294967295,C=P+(w<<15&4294967295|w>>>17),w=_+(P^(C|~b))+k[13]+1309151649&4294967295,_=C+(w<<21&4294967295|w>>>11),w=b+(C^(_|~P))+k[4]+4149444226&4294967295,b=_+(w<<6&4294967295|w>>>26),w=P+(_^(b|~C))+k[11]+3174756917&4294967295,P=b+(w<<10&4294967295|w>>>22),w=C+(b^(P|~_))+k[2]+718787259&4294967295,C=P+(w<<15&4294967295|w>>>17),w=_+(P^(C|~b))+k[9]+3951481745&4294967295,y.g[0]=y.g[0]+b&4294967295,y.g[1]=y.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,y.g[2]=y.g[2]+C&4294967295,y.g[3]=y.g[3]+P&4294967295}i.prototype.u=function(y,b){b===void 0&&(b=y.length);for(var _=b-this.blockSize,k=this.B,C=this.h,P=0;P<b;){if(C==0)for(;P<=_;)o(this,y,P),P+=this.blockSize;if(typeof y=="string"){for(;P<b;)if(k[C++]=y.charCodeAt(P++),C==this.blockSize){o(this,k),C=0;break}}else for(;P<b;)if(k[C++]=y[P++],C==this.blockSize){o(this,k),C=0;break}}this.h=C,this.o+=b},i.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var b=1;b<y.length-8;++b)y[b]=0;var _=8*this.o;for(b=y.length-8;b<y.length;++b)y[b]=_&255,_/=256;for(this.u(y),y=Array(16),b=_=0;4>b;++b)for(var k=0;32>k;k+=8)y[_++]=this.g[b]>>>k&255;return y};function r(y,b){var _=a;return Object.prototype.hasOwnProperty.call(_,y)?_[y]:_[y]=b(y)}function s(y,b){this.h=b;for(var _=[],k=!0,C=y.length-1;0<=C;C--){var P=y[C]|0;k&&P==b||(_[C]=P,k=!1)}this.g=_}var a={};function l(y){return-128<=y&&128>y?r(y,function(b){return new s([b|0],0>b?-1:0)}):new s([y|0],0>y?-1:0)}function u(y){if(isNaN(y)||!isFinite(y))return h;if(0>y)return S(u(-y));for(var b=[],_=1,k=0;y>=_;k++)b[k]=y/_|0,_*=4294967296;return new s(b,0)}function d(y,b){if(y.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(y.charAt(0)=="-")return S(d(y.substring(1),b));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(b,8)),k=h,C=0;C<y.length;C+=8){var P=Math.min(8,y.length-C),w=parseInt(y.substring(C,C+P),b);8>P?(P=u(Math.pow(b,P)),k=k.j(P).add(u(w))):(k=k.j(_),k=k.add(u(w)))}return k}var h=l(0),p=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(E(this))return-S(this).m();for(var y=0,b=1,_=0;_<this.g.length;_++){var k=this.i(_);y+=(0<=k?k:4294967296+k)*b,b*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(x(this))return"0";if(E(this))return"-"+S(this).toString(y);for(var b=u(Math.pow(y,6)),_=this,k="";;){var C=L(_,b).g;_=T(_,C.j(b));var P=((0<_.g.length?_.g[0]:_.h)>>>0).toString(y);if(_=C,x(_))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function x(y){if(y.h!=0)return!1;for(var b=0;b<y.g.length;b++)if(y.g[b]!=0)return!1;return!0}function E(y){return y.h==-1}t.l=function(y){return y=T(this,y),E(y)?-1:x(y)?0:1};function S(y){for(var b=y.g.length,_=[],k=0;k<b;k++)_[k]=~y.g[k];return new s(_,~y.h).add(p)}t.abs=function(){return E(this)?S(this):this},t.add=function(y){for(var b=Math.max(this.g.length,y.g.length),_=[],k=0,C=0;C<=b;C++){var P=k+(this.i(C)&65535)+(y.i(C)&65535),w=(P>>>16)+(this.i(C)>>>16)+(y.i(C)>>>16);k=w>>>16,P&=65535,w&=65535,_[C]=w<<16|P}return new s(_,_[_.length-1]&-2147483648?-1:0)};function T(y,b){return y.add(S(b))}t.j=function(y){if(x(this)||x(y))return h;if(E(this))return E(y)?S(this).j(S(y)):S(S(this).j(y));if(E(y))return S(this.j(S(y)));if(0>this.l(g)&&0>y.l(g))return u(this.m()*y.m());for(var b=this.g.length+y.g.length,_=[],k=0;k<2*b;k++)_[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<y.g.length;C++){var P=this.i(k)>>>16,w=this.i(k)&65535,Le=y.i(C)>>>16,Ue=y.i(C)&65535;_[2*k+2*C]+=w*Ue,A(_,2*k+2*C),_[2*k+2*C+1]+=P*Ue,A(_,2*k+2*C+1),_[2*k+2*C+1]+=w*Le,A(_,2*k+2*C+1),_[2*k+2*C+2]+=P*Le,A(_,2*k+2*C+2)}for(k=0;k<b;k++)_[k]=_[2*k+1]<<16|_[2*k];for(k=b;k<2*b;k++)_[k]=0;return new s(_,0)};function A(y,b){for(;(y[b]&65535)!=y[b];)y[b+1]+=y[b]>>>16,y[b]&=65535,b++}function O(y,b){this.g=y,this.h=b}function L(y,b){if(x(b))throw Error("division by zero");if(x(y))return new O(h,h);if(E(y))return b=L(S(y),b),new O(S(b.g),S(b.h));if(E(b))return b=L(y,S(b)),new O(S(b.g),b.h);if(30<y.g.length){if(E(y)||E(b))throw Error("slowDivide_ only works with positive integers.");for(var _=p,k=b;0>=k.l(y);)_=V(_),k=V(k);var C=D(_,1),P=D(k,1);for(k=D(k,2),_=D(_,2);!x(k);){var w=P.add(k);0>=w.l(y)&&(C=C.add(_),P=w),k=D(k,1),_=D(_,1)}return b=T(y,C.j(b)),new O(C,b)}for(C=h;0<=y.l(b);){for(_=Math.max(1,Math.floor(y.m()/b.m())),k=Math.ceil(Math.log(_)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=u(_),w=P.j(b);E(w)||0<w.l(y);)_-=k,P=u(_),w=P.j(b);x(P)&&(P=p),C=C.add(P),y=T(y,w)}return new O(C,y)}t.A=function(y){return L(this,y).h},t.and=function(y){for(var b=Math.max(this.g.length,y.g.length),_=[],k=0;k<b;k++)_[k]=this.i(k)&y.i(k);return new s(_,this.h&y.h)},t.or=function(y){for(var b=Math.max(this.g.length,y.g.length),_=[],k=0;k<b;k++)_[k]=this.i(k)|y.i(k);return new s(_,this.h|y.h)},t.xor=function(y){for(var b=Math.max(this.g.length,y.g.length),_=[],k=0;k<b;k++)_[k]=this.i(k)^y.i(k);return new s(_,this.h^y.h)};function V(y){for(var b=y.g.length+1,_=[],k=0;k<b;k++)_[k]=y.i(k)<<1|y.i(k-1)>>>31;return new s(_,y.h)}function D(y,b){var _=b>>5;b%=32;for(var k=y.g.length-_,C=[],P=0;P<k;P++)C[P]=0<b?y.i(P+_)>>>b|y.i(P+_+1)<<32-b:y.i(P+_);return new s(C,y.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,SE=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Wo=s}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AE,RE,Js,PE,mc,tf,OE,NE,DE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xl=="object"&&Xl];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function o(c,f){if(f)e:{var m=i;c=c.split(".");for(var v=0;v<c.length-1;v++){var N=c[v];if(!(N in m))break e;m=m[N]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function r(c,f){c instanceof String&&(c+="");var m=0,v=!1,N={next:function(){if(!v&&m<c.length){var F=m++;return{value:f(F,c[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}o("Array.prototype.values",function(c){return c||function(){return r(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function u(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function d(c,f,m){return c.call.apply(c.bind,arguments)}function h(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),c.apply(f,N)}}return function(){return c.apply(f,arguments)}}function p(c,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function x(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,N,F){for(var X=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)X[Ge-2]=arguments[Ge];return f.prototype[N].apply(v,X)}}function E(c){const f=c.length;if(0<f){const m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function S(c,f){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(l(v)){const N=c.length||0,F=v.length||0;c.length=N+F;for(let X=0;X<F;X++)c[N+X]=v[X]}else c.push(v)}}class T{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function A(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function L(c){return L[" "](c),c}L[" "]=function(){};var V=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function D(c,f,m){for(const v in c)f.call(m,c[v],v,c)}function y(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function b(c){const f={};for(const m in c)f[m]=c[m];return f}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,f){let m,v;for(let N=1;N<arguments.length;N++){v=arguments[N];for(m in v)c[m]=v[m];for(let F=0;F<_.length;F++)m=_[F],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function C(c){var f=1;c=c.split(":");const m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function P(c){a.setTimeout(()=>{throw c},0)}function w(){var c=dt;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Le{constructor(){this.h=this.g=null}add(f,m){const v=Ue.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Ue=new T(()=>new Ie,c=>c.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,ie=!1,dt=new Le,Bt=()=>{const c=a.Promise.resolve(void 0);_e=()=>{c.then(Zt)}};var Zt=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(m){P(m)}var f=Ue;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}ie=!1};function Ae(){this.s=this.s,this.C=this.C}Ae.prototype.s=!1,Ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch(m){}return c}();function fn(c,f){if(Ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(V){e:{try{L(f.nodeName);var N=!0;break e}catch(F){}N=!1}N||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ft[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fn.aa.h.call(this)}}x(fn,Ye);var ft={2:"touch",3:"pen",4:"mouse"};fn.prototype.h=function(){fn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),te=0;function J(c,f,m,v,N){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=N,this.key=++te,this.da=this.fa=!1}function oe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c){this.src=c,this.g={},this.h=0}ke.prototype.add=function(c,f,m,v,N){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var X=I(c,f,v,N);return-1<X?(f=c[X],m||(f.fa=!1)):(f=new J(f,this.src,F,!!v,N),f.fa=m,c.push(f)),f};function Fe(c,f){var m=f.type;if(m in c.g){var v=c.g[m],N=Array.prototype.indexOf.call(v,f,void 0),F;(F=0<=N)&&Array.prototype.splice.call(v,N,1),F&&(oe(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function I(c,f,m,v){for(var N=0;N<c.length;++N){var F=c[N];if(!F.da&&F.listener==f&&F.capture==!!m&&F.ha==v)return N}return-1}var R="closure_lm_"+(1e6*Math.random()|0),M={};function z(c,f,m,v,N){if(Array.isArray(f)){for(var F=0;F<f.length;F++)z(c,f[F],m,v,N);return null}return m=ce(m),c&&c[B]?c.K(f,m,u(v)?!!v.capture:!!v,N):U(c,f,m,!1,v,N)}function U(c,f,m,v,N,F){if(!f)throw Error("Invalid event type");var X=u(N)?!!N.capture:!!N,Ge=ee(c);if(Ge||(c[R]=Ge=new ke(c)),m=Ge.add(f,m,v,X,F),m.proxy)return m;if(v=K(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)ht||(N=X),N===void 0&&(N=!1),c.addEventListener(f.toString(),v,N);else if(c.attachEvent)c.attachEvent(Y(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function K(){function c(m){return f.call(c.src,c.listener,m)}const f=q;return c}function Q(c,f,m,v,N){if(Array.isArray(f))for(var F=0;F<f.length;F++)Q(c,f[F],m,v,N);else v=u(v)?!!v.capture:!!v,m=ce(m),c&&c[B]?(c=c.i,f=String(f).toString(),f in c.g&&(F=c.g[f],m=I(F,m,v,N),-1<m&&(oe(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete c.g[f],c.h--)))):c&&(c=ee(c))&&(f=c.g[f.toString()],c=-1,f&&(c=I(f,m,v,N)),(m=-1<c?f[c]:null)&&G(m))}function G(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[B])Fe(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(Y(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=ee(f))?(Fe(m,c),m.h==0&&(m.src=null,f[R]=null)):oe(c)}}}function Y(c){return c in M?M[c]:M[c]="on"+c}function q(c,f){if(c.da)c=!0;else{f=new fn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&G(c),c=m.call(v,f)}return c}function ee(c){return c=c[R],c instanceof ke?c:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(c){return typeof c=="function"?c:(c[de]||(c[de]=function(f){return c.handleEvent(f)}),c[de])}function re(){Ae.call(this),this.i=new ke(this),this.M=this,this.F=null}x(re,Ae),re.prototype[B]=!0,re.prototype.removeEventListener=function(c,f,m,v){Q(this,c,f,m,v)};function he(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new Ye(f,c);else if(f instanceof Ye)f.target=f.target||c;else{var N=f;f=new Ye(v,c),k(f,N)}if(N=!0,m)for(var F=m.length-1;0<=F;F--){var X=f.g=m[F];N=Te(X,v,!0,f)&&N}if(X=f.g=c,N=Te(X,v,!0,f)&&N,N=Te(X,v,!1,f)&&N,m)for(F=0;F<m.length;F++)X=f.g=m[F],N=Te(X,v,!1,f)&&N}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)oe(m[v]);delete c.g[f],c.h--}}this.F=null},re.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},re.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Te(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,F=0;F<f.length;++F){var X=f[F];if(X&&!X.da&&X.capture==m){var Ge=X.listener,Lt=X.ha||X.src;X.fa&&Fe(c.i,X),N=Ge.call(Lt,v)!==!1&&N}}return N&&!v.defaultPrevented}function Me(c,f,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Xe(c){c.g=Me(()=>{c.g=null,c.i&&(c.i=!1,Xe(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class pt extends Ae{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(c){Ae.call(this),this.h=c,this.g={}}x(zt,Ae);var pi=[];function Kn(c){D(c.g,function(f,m){this.g.hasOwnProperty(m)&&G(f)},c),c.g={}}zt.prototype.N=function(){zt.aa.N.call(this),Kn(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=a.JSON.stringify,Dt=a.JSON.parse,rn=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function zi(){}zi.prototype.h=null;function gl(c){return c.h||(c.h=c.i())}function bl(){}var Co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ks(){Ye.call(this,"d")}x(ks,Ye);function xs(){Ye.call(this,"c")}x(xs,Ye);var mi={},_l=null;function _r(){return _l=_l||new re}mi.La="serverreachability";function vl(c){Ye.call(this,mi.La,c)}x(vl,Ye);function Yn(c){const f=_r();he(f,new vl(f))}mi.STAT_EVENT="statevent";function yl(c,f){Ye.call(this,mi.STAT_EVENT,c),this.stat=f}x(yl,Ye);function Tt(c){const f=_r();he(f,new yl(f,c))}mi.Ma="timingevent";function ji(c,f){Ye.call(this,mi.Ma,c),this.size=f}x(ji,Ye);function Hi(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function kt(){this.g=!0}kt.prototype.xa=function(){this.g=!1};function od(c,f,m,v,N,F){c.info(function(){if(c.g)if(F)for(var X="",Ge=F.split("&"),Lt=0;Lt<Ge.length;Lt++){var Ve=Ge[Lt].split("=");if(1<Ve.length){var jt=Ve[0];Ve=Ve[1];var Ht=jt.split("_");X=2<=Ht.length&&Ht[1]=="type"?X+(jt+"="+Ve+"&"):X+(jt+"=redacted&")}}else X=null;else X=F;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+f+"\n"+m+"\n"+X})}function rd(c,f,m,v,N,F,X){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+f+"\n"+m+"\n"+F+" "+X})}function qi(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+sd(c,m)+(v?" "+v:"")})}function wl(c,f){c.info(function(){return"TIMEOUT: "+f})}kt.prototype.info=function(){};function sd(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var F=N[0];if(F!="noop"&&F!="stop"&&F!="close")for(var X=1;X<N.length;X++)N[X]=""}}}}return Bi(m)}catch(Ge){return f}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},El={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cs;function So(){}x(So,zi),So.prototype.g=function(){return new XMLHttpRequest},So.prototype.i=function(){return{}},Cs=new So;function Xn(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ss}function Ss(){this.i=null,this.g="",this.h=!1}var ad={},Il={};function $(c,f,m){c.L=1,c.v=xl(gi(f)),c.m=m,c.P=!0,ne(c,null)}function ne(c,f){c.F=Date.now(),mt(c),c.A=gi(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Jm(m.i,"t",v),c.C=0,m=c.j.J,c.h=new Ss,c.g=gg(c.j,m?f:null,!c.m),0<c.O&&(c.M=new pt(p(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var N="readystatechange";Array.isArray(N)||(N&&(pi[0]=N.toString()),N=pi);for(var F=0;F<N.length;F++){var X=z(m,N[F],v||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Yn(),od(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;const f=this.M;f&&bi(c)==3?f.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const Ht=bi(this.g);var f=this.g.Ba();const Er=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||rg(this.g)))){this.J||Ht!=4||f==7||(f==8||0>=Er?Yn(3):Yn(2)),An(this);var m=this.g.Z();this.X=m;t:if(Ee(this)){var v=rg(this.g);c="";var N=v.length,F=bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ao(this),As(this);var X="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(F&&f==N-1)});v.length=0,this.h.g+=c,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=m==200,rd(this.i,this.u,this.A,this.l,this.R,Ht,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Lt=this.g;if((Ge=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Ge)){var Ve=Ge;break t}}Ve=null}if(m=Ve)qi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ld(this,m);else{this.o=!1,this.s=3,Tt(12),Ao(this),As(this);break e}}if(this.P){m=!0;let Rn;for(;!this.J&&this.C<X.length;)if(Rn=rt(this,X),Rn==Il){Ht==4&&(this.s=4,Tt(14),m=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==ad){this.s=4,Tt(15),qi(this.i,this.l,X,"[Invalid Chunk]"),m=!1;break}else qi(this.i,this.l,Rn,null),ld(this,Rn);if(Ee(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||X.length!=0||this.h.h||(this.s=1,Tt(16),m=!1),this.o=this.o&&m,!m)qi(this.i,this.l,X,"[Invalid Chunked Response]"),Ao(this),As(this);else if(0<X.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),pd(jt),jt.M=!0,Tt(11))}}else qi(this.i,this.l,X,null),ld(this,X);Ht==4&&Ao(this),this.o&&!this.J&&(Ht==4?hg(this.j,this):(this.o=!1,mt(this)))}else Qk(this.g),m==400&&0<X.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Ao(this),As(this)}}}catch(Ht){}finally{}};function Ee(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rt(c,f){var m=c.C,v=f.indexOf("\n",m);return v==-1?Il:(m=Number(f.substring(m,v)),isNaN(m)?ad:(v+=1,v+m>f.length?Il:(f=f.slice(v,v+m),c.C=v+m,f)))}Xn.prototype.cancel=function(){this.J=!0,Ao(this)};function mt(c){c.S=Date.now()+c.I,pn(c,c.I)}function pn(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Hi(p(c.ba,c),f)}function An(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wl(this.i,this.A),this.L!=2&&(Yn(),Tt(17)),Ao(this),this.s=2,As(this)):pn(this,this.S-c)};function As(c){c.j.G==0||c.J||hg(c.j,c)}function Ao(c){An(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Kn(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function ld(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||cd(m.h,c))){if(!c.K&&cd(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch(Ve){v=null}if(Array.isArray(v)&&v.length==3){var N=v;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Pl(m),Al(m);else break e;fd(m),Tt(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=Hi(p(m.Za,m),6e3));if(1>=jm(m.h)&&m.ca){try{m.ca()}catch(Ve){}m.ca=void 0}}else Po(m,11)}else if((c.K||m.g==c)&&Pl(m),!A(f))for(N=m.Da.g.parse(f),f=0;f<N.length;f++){let Ve=N[f];if(m.T=Ve[0],Ve=Ve[1],m.G==2)if(Ve[0]=="c"){m.K=Ve[1],m.ia=Ve[2];const jt=Ve[3];jt!=null&&(m.la=jt,m.j.info("VER="+m.la));const Ht=Ve[4];Ht!=null&&(m.Aa=Ht,m.j.info("SVER="+m.Aa));const Er=Ve[5];Er!=null&&typeof Er=="number"&&0<Er&&(v=1.5*Er,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const Rn=c.g;if(Rn){const Nl=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nl){var F=v.h;F.g||Nl.indexOf("spdy")==-1&&Nl.indexOf("quic")==-1&&Nl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ud(F,F.h),F.h=null))}if(v.D){const md=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;md&&(v.ya=md,Qe(v.I,v.D,md))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var X=c;if(v.qa=mg(v,v.J?v.ia:null,v.W),X.K){Hm(v.h,X);var Ge=X,Lt=v.L;Lt&&(Ge.I=Lt),Ge.B&&(An(Ge),mt(Ge)),v.g=X}else ug(v);0<m.i.length&&Rl(m)}else Ve[0]!="stop"&&Ve[0]!="close"||Po(m,7);else m.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Po(m,7):hd(m):Ve[0]!="noop"&&m.l&&m.l.ta(Ve),m.v=0)}}Yn(4)}catch(Ve){}}var Lk=class{constructor(c,f){this.g=c,this.map=f}};function Bm(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zm(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function jm(c){return c.h?1:c.g?c.g.size:0}function cd(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function ud(c,f){c.g?c.g.add(f):c.h=f}function Hm(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Bm.prototype.cancel=function(){if(this.i=qm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qm(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.D);return f}return E(c.i)}function Mk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function Vk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(const v in c)f[m++]=v;return f}}}function Wm(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=Vk(c),v=Mk(c),N=v.length,F=0;F<N;F++)f.call(void 0,v[F],m&&m[F],c)}var Gm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fk(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),N=null;if(0<=v){var F=c[m].substring(0,v);N=c[m].substring(v+1)}else F=c[m];f(F,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ro(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ro){this.h=c.h,Tl(this,c.j),this.o=c.o,this.g=c.g,kl(this,c.s),this.l=c.l;var f=c.i,m=new Os;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Km(this,m),this.m=c.m}else c&&(f=String(c).match(Gm))?(this.h=!1,Tl(this,f[1]||"",!0),this.o=Rs(f[2]||""),this.g=Rs(f[3]||"",!0),kl(this,f[4]),this.l=Rs(f[5]||"",!0),Km(this,f[6]||"",!0),this.m=Rs(f[7]||"")):(this.h=!1,this.i=new Os(null,this.h))}Ro.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Ps(f,Ym,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Ps(f,Ym,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Ps(m,m.charAt(0)=="/"?Bk:Uk,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Ps(m,jk)),c.join("")};function gi(c){return new Ro(c)}function Tl(c,f,m){c.j=m?Rs(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function kl(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Km(c,f,m){f instanceof Os?(c.i=f,Hk(c.i,c.h)):(m||(f=Ps(f,zk)),c.i=new Os(f,c.h))}function Qe(c,f,m){c.i.set(f,m)}function xl(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rs(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ps(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,$k),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $k(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ym=/[#\/\?@]/g,Uk=/[#\?:]/g,Bk=/[#\?]/g,zk=/[#\?@]/g,jk=/#/g;function Os(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Wi(c){c.g||(c.g=new Map,c.h=0,c.i&&Fk(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Os.prototype,t.add=function(c,f){Wi(this),this.i=null,c=yr(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Xm(c,f){Wi(c),f=yr(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Qm(c,f){return Wi(c),f=yr(c,f),c.g.has(f)}t.forEach=function(c,f){Wi(this),this.g.forEach(function(m,v){m.forEach(function(N){c.call(f,N,v,this)},this)},this)},t.na=function(){Wi(this);const c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){const N=c[v];for(let F=0;F<N.length;F++)m.push(f[v])}return m},t.V=function(c){Wi(this);let f=[];if(typeof c=="string")Qm(this,c)&&(f=f.concat(this.g.get(yr(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return Wi(this),this.i=null,c=yr(this,c),Qm(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Jm(c,f,m){Xm(c,f),0<m.length&&(c.i=null,c.g.set(yr(c,f),E(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];const F=encodeURIComponent(String(v)),X=this.V(v);for(v=0;v<X.length;v++){var N=F;X[v]!==""&&(N+="="+encodeURIComponent(String(X[v]))),c.push(N)}}return this.i=c.join("&")};function yr(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Hk(c,f){f&&!c.j&&(Wi(c),c.i=null,c.g.forEach(function(m,v){var N=v.toLowerCase();v!=N&&(Xm(this,v),Jm(this,N,m))},c)),c.j=f}function qk(c,f){const m=new kt;if(a.Image){const v=new Image;v.onload=g(Gi,m,"TestLoadImage: loaded",!0,f,v),v.onerror=g(Gi,m,"TestLoadImage: error",!1,f,v),v.onabort=g(Gi,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=g(Gi,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function Wk(c,f){const m=new kt,v=new AbortController,N=setTimeout(()=>{v.abort(),Gi(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(F=>{clearTimeout(N),F.ok?Gi(m,"TestPingServer: ok",!0,f):Gi(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),Gi(m,"TestPingServer: error",!1,f)})}function Gi(c,f,m,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(m)}catch(F){}}function Gk(){this.g=new rn}function Kk(c,f,m){const v=m||"";try{Wm(c,function(N,F){let X=N;u(N)&&(X=Bi(N)),f.push(v+F+"="+encodeURIComponent(X))})}catch(N){throw f.push(v+"type="+encodeURIComponent("_badmap")),N}}function Ns(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Ns,zi),Ns.prototype.g=function(){return new Cl(this.l,this.j)},Ns.prototype.i=function(c){return function(){return c}}({});function Cl(c,f){re.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Cl,re),t=Cl.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Ls(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zm(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zm(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Ds(this):Ls(this),this.readyState==3&&Zm(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ds(this))},t.Qa=function(c){this.g&&(this.response=c,Ds(this))},t.ga=function(){this.g&&Ds(this)};function Ds(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ls(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join("\r\n")};function Ls(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function eg(c){let f="";return D(c,function(m,v){f+=v,f+=":",f+=m,f+="\r\n"}),f}function dd(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=eg(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Qe(c,f,m))}function st(c){re.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(st,re);var Yk=/^https?$/i,Xk=["POST","PUT"];t=st.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cs.g(),this.v=this.o?gl(this.o):gl(Cs),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(F){tg(this,F);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)m.set(N,v[N]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const F of v.keys())m.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),N=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Xk,f,void 0))||v||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of m)this.g.setRequestHeader(F,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{og(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){tg(this,F)}};function tg(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,ng(c),Sl(c)}function ng(c){c.A||(c.A=!0,he(c,"complete"),he(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,he(this,"complete"),he(this,"abort"),Sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sl(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ig(this):this.bb())},t.bb=function(){ig(this)};function ig(c){if(c.h&&typeof s<"u"&&(!c.v[1]||bi(c)!=4||c.Z()!=2)){if(c.u&&bi(c)==4)Me(c.Ea,0,c);else if(he(c,"readystatechange"),bi(c)==4){c.h=!1;try{const X=c.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=X===0){var N=String(c.D).match(Gm)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),v=!Yk.test(N?N.toLowerCase():"")}m=v}if(m)he(c,"complete"),he(c,"success");else{c.m=6;try{var F=2<bi(c)?c.g.statusText:""}catch(Ge){F=""}c.l=F+" ["+c.Z()+"]",ng(c)}}finally{Sl(c)}}}}function Sl(c,f){if(c.g){og(c);const m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||he(c,"ready");try{m.onreadystatechange=v}catch(N){}}}function og(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function bi(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<bi(this)?this.g.status:-1}catch(c){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(c){return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Dt(f)}};function rg(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch(f){return null}}function Qk(c){const f={};c=(c.g&&2<=bi(c)&&c.g.getAllResponseHeaders()||"").split("\r\n");for(let v=0;v<c.length;v++){if(A(c[v]))continue;var m=C(c[v]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=f[N]||[];f[N]=F,F.push(m)}y(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function sg(c){this.Aa=0,this.i=[],this.j=new kt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,c),this.cb=Ms("retryDelaySeedMs",1e4,c),this.Wa=Ms("forwardChannelMaxRetries",2,c),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bm(c&&c.concurrentRequestLimit),this.Da=new Gk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sg.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,v){Tt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=mg(this,null,this.W),Rl(this)};function hd(c){if(ag(c),c.G==3){var f=c.U++,m=gi(c.I);if(Qe(m,"SID",c.K),Qe(m,"RID",f),Qe(m,"TYPE","terminate"),Vs(c,m),f=new Xn(c,c.j,f),f.L=2,f.v=xl(gi(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch(v){}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=gg(f.j,null),f.g.ea(f.v)),f.F=Date.now(),mt(f)}pg(c)}function Al(c){c.g&&(pd(c),c.g.cancel(),c.g=null)}function ag(c){Al(c),c.u&&(a.clearTimeout(c.u),c.u=null),Pl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Rl(c){if(!zm(c.h)&&!c.s){c.s=!0;var f=c.Ga;_e||Bt(),ie||(_e(),ie=!0),dt.add(f,c),c.B=0}}function Jk(c,f){return jm(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Hi(p(c.Ga,c,f),fg(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const N=new Xn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=b(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(N.H=F,F=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=cg(this,N,f),m=gi(this.I),Qe(m,"RID",c),Qe(m,"CVER",22),this.D&&Qe(m,"X-HTTP-Session-Id",this.D),Vs(this,m),F&&(this.O?f="headers="+encodeURIComponent(String(eg(F)))+"&"+f:this.m&&dd(m,this.m,F)),ud(this.h,N),this.Ua&&Qe(m,"TYPE","init"),this.P?(Qe(m,"$req",f),Qe(m,"SID","null"),N.T=!0,$(N,m,null)):$(N,m,f),this.G=2}}else this.G==3&&(c?lg(this,c):this.i.length==0||zm(this.h)||lg(this))};function lg(c,f){var m;f?m=f.l:m=c.U++;const v=gi(c.I);Qe(v,"SID",c.K),Qe(v,"RID",m),Qe(v,"AID",c.T),Vs(c,v),c.m&&c.o&&dd(v,c.m,c.o),m=new Xn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=cg(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ud(c.h,m),$(m,v,f)}function Vs(c,f){c.H&&D(c.H,function(m,v){Qe(f,v,m)}),c.l&&Wm({},function(m,v){Qe(f,v,m)})}function cg(c,f,m){m=Math.min(c.i.length,m);var v=c.l?p(c.l.Na,c.l,c):null;e:{var N=c.i;let F=-1;for(;;){const X=["count="+m];F==-1?0<m?(F=N[0].g,X.push("ofs="+F)):F=0:X.push("ofs="+F);let Ge=!0;for(let Lt=0;Lt<m;Lt++){let Ve=N[Lt].g;const jt=N[Lt].map;if(Ve-=F,0>Ve)F=Math.max(0,N[Lt].g-100),Ge=!1;else try{Kk(jt,X,"req"+Ve+"_")}catch(Ht){v&&v(jt)}}if(Ge){v=X.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function ug(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;_e||Bt(),ie||(_e(),ie=!0),dt.add(f,c),c.v=0}}function fd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Hi(p(c.Fa,c),fg(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,dg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Hi(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Al(this),dg(this))};function pd(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function dg(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=gi(c.qa);Qe(f,"RID","rpc"),Qe(f,"SID",c.K),Qe(f,"AID",c.T),Qe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(f,"TO",c.ja),Qe(f,"TYPE","xmlhttp"),Vs(c,f),c.m&&c.o&&dd(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=xl(gi(f)),m.m=null,m.P=!0,ne(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Al(this),fd(this),Tt(19))};function Pl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hg(c,f){var m=null;if(c.g==f){Pl(c),pd(c),c.g=null;var v=2}else if(cd(c.h,f))m=f.D,Hm(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var N=c.B;v=_r(),he(v,new ji(v,m)),Rl(c)}else ug(c);else if(N=f.s,N==3||N==0&&0<f.X||!(v==1&&Jk(c,f)||v==2&&fd(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),N){case 1:Po(c,5);break;case 4:Po(c,10);break;case 3:Po(c,6);break;default:Po(c,2)}}}function fg(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function Po(c,f){if(c.j.info("Error code "+f),f==2){var m=p(c.fb,c),v=c.Xa;const N=!v;v=new Ro(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tl(v,"https"),xl(v),N?qk(v.toString(),m):Wk(v.toString(),m)}else Tt(2);c.G=0,c.l&&c.l.sa(f),pg(c),ag(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function pg(c){if(c.G=0,c.ka=[],c.l){const f=qm(c.h);(f.length!=0||c.i.length!=0)&&(S(c.ka,f),S(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function mg(c,f,m){var v=m instanceof Ro?gi(m):new Ro(m);if(v.g!="")f&&(v.g=f+"."+v.g),kl(v,v.s);else{var N=a.location;v=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var F=new Ro(null);v&&Tl(F,v),f&&(F.g=f),N&&kl(F,N),m&&(F.l=m),v=F}return m=c.D,f=c.ya,m&&f&&Qe(v,m,f),Qe(v,"VER",c.la),Vs(c,v),v}function gg(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new st(new Ns({eb:m})):new st(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bg(){}t=bg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ol(){}Ol.prototype.g=function(c,f){return new mn(c,f)};function mn(c,f){re.call(this),this.g=new sg(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!A(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!A(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new wr(this)}x(mn,re),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){hd(this.g)},mn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Bi(c),c=m);f.i.push(new Lk(f.Ya++,c)),f.G==3&&Rl(f)},mn.prototype.N=function(){this.g.l=null,delete this.j,hd(this.g),delete this.g,mn.aa.N.call(this)};function _g(c){ks.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}x(_g,ks);function vg(){xs.call(this),this.status=1}x(vg,xs);function wr(c){this.g=c}x(wr,bg),wr.prototype.ua=function(){he(this.g,"a")},wr.prototype.ta=function(c){he(this.g,new _g(c))},wr.prototype.sa=function(c){he(this.g,new vg)},wr.prototype.ra=function(){he(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,DE=function(){return new Ol},NE=function(){return _r()},OE=mi,tf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,mc=vr,El.COMPLETE="complete",PE=El,bl.EventType=Co,Co.OPEN="a",Co.CLOSE="b",Co.ERROR="c",Co.MESSAGE="d",re.prototype.listen=re.prototype.K,Js=bl,RE=Ns,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,AE=st}).apply(typeof Xl<"u"?Xl:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Za("@firebase/firestore");function zs(){return nr.logLevel}function le(t,...e){if(nr.logLevel<=xe.DEBUG){const n=e.map(Lp);nr.debug("Firestore (".concat(bs,"): ").concat(t),...n)}}function Li(t,...e){if(nr.logLevel<=xe.ERROR){const n=e.map(Lp);nr.error("Firestore (".concat(bs,"): ").concat(t),...n)}}function ns(t,...e){if(nr.logLevel<=xe.WARN){const n=e.map(Lp);nr.warn("Firestore (".concat(bs,"): ").concat(t),...n)}}function Lp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e="FIRESTORE (".concat(bs,") INTERNAL ASSERTION FAILED: ")+t;throw Li(e),new Error(e)}function Ke(t,e){t||me()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class UV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class BV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zV{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Go;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Go,e.enqueueRetryable(()=>o(this.currentUser))};const s=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Go)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string"),new LE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Wt(e)}}class jV{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HV{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new jV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=r=>{r.error!=null&&le("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(r.error.message));const s=r.token!==this.R;return this.R=r.token,le("FirebaseAppCheckTokenProvider","Received ".concat(s?"new":"existing"," token.")),s?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const o=r=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>o(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?o(r):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new qV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=GV(40);for(let r=0;r<o.length;++r)i.length<20&&o[r]<n&&(i+=e.charAt(o[r]%e.length))}return i}}function $e(t,e){return t<e?-1:t>e?1:0}function is(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Et(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Et(0,0))}static max(){return new ve(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,i){n===void 0?n=0:n>e.length&&me(),i===void 0?i=e.length-n:i>e.length-n&&me(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const r=e.get(o),s=n.get(o);if(r<s)return-1;if(r>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends Va{construct(e,n,i){return new nt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ae(j.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));n.push(...i.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const KV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Va{construct(e,n,i){return new Ft(e,n,i)}static isValidIdentifier(e){return KV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let i="",o=0;const r=()=>{if(i.length===0)throw new ae(j.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(i),i=""};let s=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new ae(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(i+=a,o++):(r(),o++)}if(r(),s)throw new ae(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(nt.fromString(e))}static fromName(e){return new fe(nt.fromString(e).popFirst(5))}static empty(){return new fe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new nt(e.slice()))}}function YV(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(i===1e9?new Et(n+1,0):new Et(n,i));return new vo(o,fe.empty(),e)}function XV(t){return new vo(t.readTime,t.key,-1)}class vo{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new vo(ve.min(),fe.empty(),-1)}static max(){return new vo(ve.max(),fe.empty(),-1)}}function QV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==JV)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((i,o)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,o)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,i)=>{n(e)})}static reject(e){return new W((n,i)=>{i(e)})}static waitFor(e){return new W((n,i)=>{let o=0,r=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++r,s&&r===o&&n()},l=>i(l))}),s=!0,r===o&&n()})}static or(e){let n=W.resolve(!1);for(const i of e)n=n.next(o=>o?W.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,r)=>{i.push(n.call(this,o,r))}),this.waitFor(i)}static mapArray(e,n){return new W((i,o)=>{const r=e.length,s=new Array(r);let a=0;for(let l=0;l<r;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===r&&i(s)},d=>o(d))}})}static doWhile(e,n){return new W((i,o)=>{const r=()=>{e()===!0?n().next(()=>{r()},o):i()};r()})}}function eF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mp.oe=-1;function Bu(t){return t==null}function Wc(t){return t===0&&1/t==-1/0}function tF(t){return typeof t=="number"&&Number.isInteger(t)&&!Wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yt=class nf{constructor(e,n){this.comparator=e,this.root=n||mo.EMPTY}insert(e,n){return new nf(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mo.BLACK,null,null))}remove(e){return new nf(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push("".concat(n,":").concat(i)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ql(this.root,e,this.comparator,!0)}},Ql=class{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&o&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mo=class vi{constructor(e,n,i,o,r){this.key=e,this.value=n,this.color=i!=null?i:vi.RED,this.left=o!=null?o:vi.EMPTY,this.right=r!=null?r:vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,r){return new vi(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,o!=null?o:this.left,r!=null?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const r=i(e,o.key);return o=r<0?o.copy(null,null,null,o.left.insert(e,n,i),null):r===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return vi.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}};mo.EMPTY=null,mo.RED=!0,mo.BLACK=!1;mo.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,i,o,r){return this}insert(e,n,i){return new mo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,r=i.getNext().key;if(this.comparator(o,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new $t(Ft.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new FE("Invalid base64 string: "+r):r}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(o){let r="";for(let s=0;s<o.length;++s)r+=String.fromCharCode(o[s]);return r}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const nF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=nF.exec(t);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ir(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Fp(t){const e=t.mapValue.fields.__previous_value__;return Vp(e)?Fp(e):e}function Fa(t){const e=yo(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n,i,o,r,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class $a{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function or(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vp(t)?4:oF(t)?9007199254740991:10:me()}function di(t,e){if(t===e)return!0;const n=or(t);if(n!==or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fa(t).isEqual(Fa(e));case 3:return function(o,r){if(typeof o.timestampValue=="string"&&typeof r.timestampValue=="string"&&o.timestampValue.length===r.timestampValue.length)return o.timestampValue===r.timestampValue;const s=yo(o.timestampValue),a=yo(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,r){return ir(o.bytesValue).isEqual(ir(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,r){return bt(o.geoPointValue.latitude)===bt(r.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(r.geoPointValue.longitude)}(t,e);case 2:return function(o,r){if("integerValue"in o&&"integerValue"in r)return bt(o.integerValue)===bt(r.integerValue);if("doubleValue"in o&&"doubleValue"in r){const s=bt(o.doubleValue),a=bt(r.doubleValue);return s===a?Wc(s)===Wc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return is(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:return function(o,r){const s=o.mapValue.fields||{},a=r.mapValue.fields||{};if(M_(s)!==M_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!di(s[l],a[l])))return!1;return!0}(t,e);default:return me()}}function Ua(t,e){return(t.values||[]).find(n=>di(n,e))!==void 0}function os(t,e){if(t===e)return 0;const n=or(t),i=or(e);if(n!==i)return $e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(r,s){const a=bt(r.integerValue||r.doubleValue),l=bt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return F_(t.timestampValue,e.timestampValue);case 4:return F_(Fa(t),Fa(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(r,s){const a=ir(r),l=ir(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(r,s){const a=r.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=$e(a[u],l[u]);if(d!==0)return d}return $e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,s){const a=$e(bt(r.latitude),bt(s.latitude));return a!==0?a:$e(bt(r.longitude),bt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,s){const a=r.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=os(a[u],l[u]);if(d)return d}return $e(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Jl.mapValue&&s===Jl.mapValue)return 0;if(r===Jl.mapValue)return 1;if(s===Jl.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=$e(l[h],d[h]);if(p!==0)return p;const g=os(a[l[h]],u[d[h]]);if(g!==0)return g}return $e(l.length,d.length)}(t.mapValue,e.mapValue);default:throw me()}}function F_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=yo(t),i=yo(e),o=$e(n.seconds,i.seconds);return o!==0?o:$e(n.nanos,i.nanos)}function rs(t){return of(t)}function of(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=yo(n);return"time(".concat(i.seconds,",").concat(i.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return"geo(".concat(n.latitude,",").concat(n.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const r of n.values||[])o?o=!1:i+=",",i+=of(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",r=!0;for(const s of i)r?r=!1:o+=",",o+="".concat(s,":").concat(of(n.fields[s]));return o+"}"}(t.mapValue):me()}function $_(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function rf(t){return!!t&&"integerValue"in t}function $p(t){return!!t&&"arrayValue"in t}function U_(t){return!!t&&"nullValue"in t}function B_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gc(t){return!!t&&"mapValue"in t}function ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ha(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ha(n)}setAll(e){let n=Ft.emptyPath(),i={},o=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,o),i={},o=[],n=a.popLast()}s?i[a.lastSegment()]=ha(s):o.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,o)}delete(e){const n=this.field(e.popLast());gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){_s(n,(o,r)=>e[o]=r);for(const o of i)delete e[o]}clone(){return new In(ha(this.value))}}function $E(t){const e=[];return _s(t.fields,(n,i)=>{const o=new Ft([n]);if(gc(i)){const r=$E(i.mapValue).fields;if(r.length===0)e.push(o);else for(const s of r)e.push(o.child(s))}else e.push(o)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,i,o,r,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=r,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,ve.min(),ve.min(),ve.min(),In.empty(),0)}static newFoundDocument(e,n,i,o){return new Gt(e,1,n,ve.min(),i,o,0)}static newNoDocument(e,n){return new Gt(e,2,n,ve.min(),ve.min(),In.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,ve.min(),ve.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.position=e,this.inclusive=n}}function z_(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const r=e[o],s=t.position[o];if(r.field.isKeyField()?i=fe.comparator(fe.fromName(s.referenceValue),n.key):i=os(s,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function j_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n="asc"){this.field=e,this.dir=n}}function rF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{}class _t extends UE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new aF(e,n,i):n==="array-contains"?new uF(e,i):n==="in"?new dF(e,i):n==="not-in"?new hF(e,i):n==="array-contains-any"?new fF(e,i):new _t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new lF(e,i):new cF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(os(n,this.value)):n!==null&&or(this.value)===or(n)&&this.matchesComparison(os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends UE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new qn(e,n)}matches(e){return BE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BE(t){return t.op==="and"}function zE(t){return sF(t)&&BE(t)}function sF(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function sf(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+rs(t.value);if(zE(t))return t.filters.map(e=>sf(e)).join(",");{const e=t.filters.map(n=>sf(n)).join(",");return"".concat(t.op,"(").concat(e,")")}}function jE(t,e){return t instanceof _t?function(i,o){return o instanceof _t&&i.op===o.op&&i.field.isEqual(o.field)&&di(i.value,o.value)}(t,e):t instanceof qn?function(i,o){return o instanceof qn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((r,s,a)=>r&&jE(s,o.filters[a]),!0):!1}(t,e):void me()}function HE(t){return t instanceof _t?function(n){return"".concat(n.field.canonicalString()," ").concat(n.op," ").concat(rs(n.value))}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(HE).join(" ,")+"}"}(t):"Filter"}class aF extends _t{constructor(e,n,i){super(e,n,i),this.key=fe.fromName(i.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class lF extends _t{constructor(e,n){super(e,"in",n),this.keys=qE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cF extends _t{constructor(e,n){super(e,"not-in",n),this.keys=qE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>fe.fromName(i.referenceValue))}class uF extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $p(n)&&Ua(n.arrayValue,this.value)}}class dF extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ua(this.value.arrayValue,n)}}class hF extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ua(this.value.arrayValue,n)}}class fF extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ua(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n=null,i=[],o=[],r=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=r,this.startAt=s,this.endAt=a,this.ue=null}}function H_(t,e=null,n=[],i=[],o=null,r=null,s=null){return new pF(t,e,n,i,o,r,s)}function Up(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>sf(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Bu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>rs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>rs(i)).join(",")),e.ue=n}return e.ue}function Bp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!j_(t.startAt,e.startAt)&&j_(t.endAt,e.endAt)}function af(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n=null,i=[],o=[],r=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=r,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mF(t,e,n,i,o,r,s,a){return new vs(t,e,n,i,o,r,s,a)}function zp(t){return new vs(t)}function q_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WE(t){return t.collectionGroup!==null}function fa(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $t(Ft.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.ce.push(new Ba(r,i))}),n.has(Ft.keyField().canonicalString())||e.ce.push(new Ba(Ft.keyField(),i))}return e.ce}function si(t){const e=ye(t);return e.le||(e.le=gF(e,fa(t))),e.le}function gF(t,e){if(t.limitType==="F")return H_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const r=o.dir==="desc"?"asc":"desc";return new Ba(o.field,r)});const n=t.endAt?new Gc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Gc(t.startAt.position,t.startAt.inclusive):null;return H_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function lf(t,e){const n=t.filters.concat([e]);return new vs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cf(t,e,n){return new vs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zu(t,e){return Bp(si(t),si(e))&&t.limitType===e.limitType}function GE(t){return"".concat(Up(si(t)),"|lt:").concat(t.limitType)}function Ar(t){return"Query(target=".concat(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=", filters: [".concat(n.filters.map(o=>HE(o)).join(", "),"]")),Bu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=", orderBy: [".concat(n.orderBy.map(o=>function(s){return"".concat(s.field.canonicalString()," (").concat(s.dir,")")}(o)).join(", "),"]")),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>rs(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>rs(o)).join(",")),"Target(".concat(i,")")}(si(t)),"; limitType=").concat(t.limitType,")")}function ju(t,e){return e.isFoundDocument()&&function(i,o){const r=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):fe.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,o){for(const r of fa(i))if(!r.field.isKeyField()&&o.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const r of i.filters)if(!r.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(s,a,l){const u=z_(s,a,l);return s.inclusive?u<=0:u<0}(i.startAt,fa(i),o)||i.endAt&&!function(s,a,l){const u=z_(s,a,l);return s.inclusive?u>=0:u>0}(i.endAt,fa(i),o))}(t,e)}function bF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KE(t){return(e,n)=>{let i=!1;for(const o of fa(t)){const r=_F(o,e,n);if(r!==0)return r;i=i||o.field.isKeyField()}return 0}}function _F(t,e,n){const i=t.field.isKeyField()?fe.comparator(e.key,n.key):function(r,s,a){const l=s.data.field(r),u=a.data.field(r);return l!==null&&u!==null?os(l,u):me()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,r]of i)if(this.equalsFn(o,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<o.length;r++)if(this.equalsFn(o[r][0],e))return void(o[r]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,i)=>{for(const[o,r]of i)e(o,r)})}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=new yt(fe.comparator);function Mi(){return vF}const YE=new yt(fe.comparator);function Zs(...t){let e=YE;for(const n of t)e=e.insert(n.key,n);return e}function XE(t){let e=YE;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function zo(){return pa()}function QE(){return pa()}function pa(){return new ys(t=>t.toString(),(t,e)=>t.isEqual(e))}const yF=new yt(fe.comparator),wF=new $t(fe.comparator);function Ce(...t){let e=wF;for(const n of t)e=e.add(n);return e}const EF=new $t($e);function IF(){return EF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function ZE(t){return{integerValue:""+t}}function TF(t,e){return tF(e)?ZE(e):JE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this._=void 0}}function kF(t,e,n){return t instanceof Kc?function(o,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return r&&Vp(r)&&(r=Fp(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,e):t instanceof za?tI(t,e):t instanceof ja?nI(t,e):function(o,r){const s=eI(o,r),a=W_(s)+W_(o.Pe);return rf(s)&&rf(o.Pe)?ZE(a):JE(o.serializer,a)}(t,e)}function xF(t,e,n){return t instanceof za?tI(t,e):t instanceof ja?nI(t,e):n}function eI(t,e){return t instanceof Yc?function(i){return rf(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Kc extends Hu{}class za extends Hu{constructor(e){super(),this.elements=e}}function tI(t,e){const n=iI(e);for(const i of t.elements)n.some(o=>di(o,i))||n.push(i);return{arrayValue:{values:n}}}class ja extends Hu{constructor(e){super(),this.elements=e}}function nI(t,e){let n=iI(e);for(const i of t.elements)n=n.filter(o=>!di(o,i));return{arrayValue:{values:n}}}class Yc extends Hu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function W_(t){return bt(t.integerValue||t.doubleValue)}function iI(t){return $p(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CF(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof za&&o instanceof za||i instanceof ja&&o instanceof ja?is(i.elements,o.elements,di):i instanceof Yc&&o instanceof Yc?di(i.Pe,o.Pe):i instanceof Kc&&o instanceof Kc}(t.transform,e.transform)}class SF{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qu{}function oI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sI(t.key,ai.none()):new al(t.key,t.data,ai.none());{const n=t.data,i=In.empty();let o=new $t(Ft.comparator);for(let r of e.fields)if(!o.has(r)){let s=n.field(r);s===null&&r.length>1&&(r=r.popLast(),s=n.field(r)),s===null?i.delete(r):i.set(r,s),o=o.add(r)}return new fr(t.key,i,new Vn(o.toArray()),ai.none())}}function AF(t,e,n){t instanceof al?function(o,r,s){const a=o.value.clone(),l=K_(o.fieldTransforms,r,s.transformResults);a.setAll(l),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fr?function(o,r,s){if(!bc(o.precondition,r))return void r.convertToUnknownDocument(s.version);const a=K_(o.fieldTransforms,r,s.transformResults),l=r.data;l.setAll(rI(o)),l.setAll(a),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(o,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ma(t,e,n,i){return t instanceof al?function(r,s,a,l){if(!bc(r.precondition,s))return a;const u=r.value.clone(),d=Y_(r.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof fr?function(r,s,a,l){if(!bc(r.precondition,s))return a;const u=Y_(r.fieldTransforms,l,s),d=s.data;return d.setAll(rI(r)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(r,s,a){return bc(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function RF(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),r=eI(i.transform,o||null);r!=null&&(n===null&&(n=In.empty()),n.set(i.field,r))}return n||null}function G_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&is(i,o,(r,s)=>CF(r,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class al extends qu{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fr extends qu{constructor(e,n,i,o,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function rI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function K_(t,e,n){const i=new Map;Ke(t.length===n.length);for(let o=0;o<n.length;o++){const r=t[o],s=r.transform,a=e.data.field(r.field);i.set(r.field,xF(s,a,n[o]))}return i}function Y_(t,e,n){const i=new Map;for(const o of t){const r=o.transform,s=n.data.field(o.field);i.set(o.field,kF(r,s,e))}return i}class sI extends qu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PF extends qu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const r=this.mutations[o];r.key.isEqual(e.key)&&AF(r,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ma(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ma(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=QE();return this.mutations.forEach(o=>{const r=e.get(o.key),s=r.overlayedDocument;let a=this.applyToLocalView(s,r.mutatedFields);a=n.has(o.key)?null:a;const l=oI(s,a);l!==null&&i.set(o.key,l),s.isValidDocument()||s.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(n,i)=>G_(n,i))&&is(this.baseMutations,e.baseMutations,(n,i)=>G_(n,i))}}class jp{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length);let o=function(){return yF}();const r=e.mutations;for(let s=0;s<r.length;s++)o=o.insert(r[s].key,i[s].version);return new jp(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Re;function LF(t){switch(t){default:return me();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function aI(t){if(t===void 0)return Li("GRPC error has no .code"),j.UNKNOWN;switch(t){case gt.OK:return j.OK;case gt.CANCELLED:return j.CANCELLED;case gt.UNKNOWN:return j.UNKNOWN;case gt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case gt.INTERNAL:return j.INTERNAL;case gt.UNAVAILABLE:return j.UNAVAILABLE;case gt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case gt.NOT_FOUND:return j.NOT_FOUND;case gt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case gt.ABORTED:return j.ABORTED;case gt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case gt.DATA_LOSS:return j.DATA_LOSS;default:return me()}}(Re=gt||(gt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new Wo([4294967295,4294967295],0);function X_(t){const e=MF().encode(t),n=new SE;return n.update(e),new Uint8Array(n.digest())}function Q_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Wo([n,i],0),new Wo([o,r],0)]}class Hp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ea("Invalid padding: ".concat(n));if(i<0)throw new ea("Invalid hash count: ".concat(i));if(e.length>0&&this.hashCount===0)throw new ea("Invalid hash count: ".concat(i));if(e.length===0&&n!==0)throw new ea("Invalid padding when bitmap length is 0: ".concat(n));this.Ie=8*e.length-n,this.Te=Wo.fromNumber(this.Ie)}Ee(e,n,i){let o=e.add(n.multiply(Wo.fromNumber(i)));return o.compare(VF)===1&&(o=new Wo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=X_(e),[i,o]=Q_(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,o,r);if(!this.de(s))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new Hp(r,o,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=X_(e),[i,o]=Q_(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,o,r);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,i,o,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Wu(ve.min(),o,new yt($e),Mi(),Ce())}}class ll{constructor(e,n,i,o,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ll(i,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,i,o){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=o}}class lI{constructor(e,n){this.targetId=e,this.me=n}}class cI{constructor(e,n,i=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class J_{constructor(){this.fe=0,this.ge=ev(),this.pe=Jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ce(),n=Ce(),i=Ce();return this.ge.forEach((o,r)=>{switch(r){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:me()}}),new ll(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=ev()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class FF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=Z_(),this.Qe=new yt($e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,i=e.me.count,o=this.Je(n);if(o){const r=o.target;if(af(r))if(i===0){const s=new fe(r.path);this.Ue(n,s,Gt.newNoDocument(s,ve.min()))}else Ke(i===1);else{const s=this.Ye(n);if(s!==i){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:r=0}=n;let s,a;try{s=ir(i).toUint8Array()}catch(l){if(l instanceof FE)return ns("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Hp(s,o,r)}catch(l){return ns(l instanceof ea?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(r=>{const s=this.Le.tt(),a="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(r.path.canonicalString());e.mightContain(a)||(this.Ue(n,r,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((r,s)=>{const a=this.Je(s);if(a){if(r.current&&af(a.target)){const l=new fe(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Gt.newNoDocument(l,e))}r.be&&(n.set(s,r.Ce()),r.ve())}});let i=Ce();this.qe.forEach((r,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.ke.forEach((r,s)=>s.setReadTime(e));const o=new Wu(e,n,this.Qe,this.ke,i);return this.ke=Mi(),this.qe=Z_(),this.Qe=new yt($e),o}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $t($e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Z_(){return new yt(fe.comparator)}function ev(){return new yt(fe.comparator)}const $F={asc:"ASCENDING",desc:"DESCENDING"},UF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BF={and:"AND",or:"OR"};class zF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uf(t,e){return t.useProto3Json||Bu(e)?e:{value:e}}function Xc(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function uI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jF(t,e){return Xc(t,e.toTimestamp())}function li(t){return Ke(!!t),ve.fromTimestamp(function(n){const i=yo(n);return new Et(i.seconds,i.nanos)}(t))}function qp(t,e){return df(t,e).canonicalString()}function df(t,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dI(t){const e=nt.fromString(t);return Ke(gI(e)),e}function hf(t,e){return qp(t.databaseId,e.path)}function Kd(t,e){const n=dI(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(fI(n))}function hI(t,e){return qp(t.databaseId,e)}function HF(t){const e=dI(t);return e.length===4?nt.emptyPath():fI(e)}function ff(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fI(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tv(t,e,n){return{name:hf(t,e),fields:n.value.mapValue.fields}}function qF(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],r=function(u,d){return u.useProto3Json?(Ke(d===void 0||typeof d=="string"),Jt.fromBase64String(d||"")):(Ke(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Jt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?j.UNKNOWN:aI(u.code);return new ae(d,u.message||"")}(s);n=new cI(i,o,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Kd(t,i.document.name),r=li(i.document.updateTime),s=i.document.createTime?li(i.document.createTime):ve.min(),a=new In({mapValue:{fields:i.document.fields}}),l=Gt.newFoundDocument(o,r,s,a),u=i.targetIds||[],d=i.removedTargetIds||[];n=new _c(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Kd(t,i.document),r=i.readTime?li(i.readTime):ve.min(),s=Gt.newNoDocument(o,r),a=i.removedTargetIds||[];n=new _c([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Kd(t,i.document),r=i.removedTargetIds||[];n=new _c([],r,o,null)}else{if(!("filter"in e))return me();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:r}=i,s=new DF(o,r),a=i.targetId;n=new lI(a,s)}}return n}function WF(t,e){let n;if(e instanceof al)n={update:tv(t,e.key,e.value)};else if(e instanceof sI)n={delete:hf(t,e.key)};else if(e instanceof fr)n={update:tv(t,e.key,e.data),updateMask:t4(e.fieldMask)};else{if(!(e instanceof PF))return me();n={verify:hf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof Kc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof za)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ja)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw me()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,r){return r.updateTime!==void 0?{updateTime:jF(o,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:me()}(t,e.precondition)),n}function GF(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(o,r){let s=o.updateTime?li(o.updateTime):li(r);return s.isEqual(ve.min())&&(s=li(r)),new SF(s,o.transformResults||[])}(n,e))):[]}function KF(t,e){return{documents:[hI(t,e.path)]}}function YF(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=hI(t,o);const r=function(u){if(u.length!==0)return mI(qn.create(u,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Rr(p.field),direction:JF(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=uf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:o}}function XF(t){let e=HF(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1);const d=n.from[0];d.allDescendants?o=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(h){const p=pI(h);return p instanceof qn&&zE(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(p=>function(x){return new Ba(Pr(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Bu(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Gc(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new Gc(g,p)}(n.endAt)),mF(e,o,s,r,a,"F",l,u)}function QF(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Pr(n.unaryFilter.field);return _t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Pr(n.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pr(n.unaryFilter.field);return _t.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Pr(n.unaryFilter.field);return _t.create(s,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return _t.create(Pr(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(i=>pI(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function JF(t){return $F[t]}function ZF(t){return UF[t]}function e4(t){return BF[t]}function Rr(t){return{fieldPath:t.canonicalString()}}function Pr(t){return Ft.fromServerFormat(t.fieldPath)}function mI(t){return t instanceof _t?function(n){if(n.op==="=="){if(B_(n.value))return{unaryFilter:{field:Rr(n.field),op:"IS_NAN"}};if(U_(n.value))return{unaryFilter:{field:Rr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B_(n.value))return{unaryFilter:{field:Rr(n.field),op:"IS_NOT_NAN"}};if(U_(n.value))return{unaryFilter:{field:Rr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rr(n.field),op:ZF(n.op),value:n.value}}}(t):t instanceof qn?function(n){const i=n.getFilters().map(o=>mI(o));return i.length===1?i[0]:{compositeFilter:{op:e4(n.op),filters:i}}}(t):me()}function t4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,i,o,r=ve.min(),s=ve.min(),a=Jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.ct=e}}function i4(t){const e=XF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this._n=new r4}addToCollectionParentIndex(e,n){return this._n.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(vo.min())}updateCollectionGroup(e,n,i){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class r4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new $t(nt.comparator),r=!o.has(i);return this.index[n]=o.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new $t(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ss(0)}static Ln(){return new ss(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.changes=new ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?W.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&ma(i.mutation,o,Vn.empty(),Et.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ce()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ce()){const o=zo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(r=>{let s=Zs();return r.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const i=zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ce()))}populateOverlays(e,n,i){const o=[];return i.forEach(r=>{n.has(r)||o.push(r)}),this.documentOverlayCache.getOverlays(e,o).next(r=>{r.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,o){let r=Mi();const s=pa(),a=function(){return pa()}();return n.forEach((l,u)=>{const d=i.get(u.key);o.has(u.key)&&(d===void 0||d.mutation instanceof fr)?r=r.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),ma(d.mutation,u,d.mutation.getFieldMask(),Et.now())):s.set(u.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new a4(d,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=pa();let o=new yt((s,a)=>s-a),r=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=i.get(l)||Vn.empty();d=a.applyToLocalView(u,d),i.set(l,d);const h=(o.get(a.batchId)||Ce()).add(l);o=o.insert(a.batchId,h)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=QE();d.forEach(p=>{if(!r.has(p)){const g=oI(n.get(p),i.get(p));g!==null&&h.set(p,g),r=r.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return W.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(r=>{const s=o-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-r.size):W.resolve(zo());let a=-1,l=r;return s.next(u=>W.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,l,u,Ce())).next(d=>({batchId:a,changes:XE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(i=>{let o=Zs();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const r=n.collectionGroup;let s=Zs();return this.indexManager.getCollectionParents(e,r).next(a=>W.forEach(a,l=>{const u=function(h,p){return new vs(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,i,o).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,o){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,o))).next(s=>{r.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Gt.newInvalidDocument(d)))});let a=Zs();return s.forEach((l,u)=>{const d=r.get(l);d!==void 0&&ma(d.mutation,u,Vn.empty(),Et.now()),ju(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return W.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(o){return{name:o.name,query:i4(o.bundledQuery),readTime:li(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.overlays=new yt(fe.comparator),this.hr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const i=zo();return W.forEach(n,o=>this.getOverlay(e,o).next(r=>{r!==null&&i.set(o,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,r)=>{this.ht(e,n,r)}),W.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.hr.get(i);return o!==void 0&&(o.forEach(r=>this.overlays=this.overlays.remove(r)),this.hr.delete(i)),W.resolve()}getOverlaysForCollection(e,n,i){const o=zo(),r=n.length+1,s=new fe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&l.largestBatchId>i&&o.set(l.getKey(),l)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let r=new yt((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=r.get(u.largestBatchId);d===null&&(d=zo(),r=r.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=zo(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=o)););return W.resolve(a)}ht(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const s=this.hr.get(o.largestBatchId).delete(i.key);this.hr.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new NF(n,i));let r=this.hr.get(n);r===void 0&&(r=Ce(),this.hr.set(n,r)),this.hr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.Pr=new $t(Ct.Ir),this.Tr=new $t(Ct.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new Ct(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Ct(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new fe(new nt([])),i=new Ct(n,e),o=new Ct(n,e+1),r=[];return this.Tr.forEachInRange([i,o],s=>{this.Ar(s),r.push(s.key)}),r}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new fe(new nt([])),i=new Ct(n,e),o=new Ct(n,e+1);let r=Ce();return this.Tr.forEachInRange([i,o],s=>{r=r.add(s.key)}),r}containsKey(e){const n=new Ct(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return fe.comparator(e.key,n.key)||$e(e.pr,n.pr)}static Er(e,n){return $e(e.pr,n.pr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new $t(Ct.Ir)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const r=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new OF(r,n,i,o);this.mutationQueue.push(s);for(const a of o)this.wr=this.wr.add(new Ct(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,n){return W.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.br(i),r=o<0?0:o;return W.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ct(n,0),o=new Ct(n,Number.POSITIVE_INFINITY),r=[];return this.wr.forEachInRange([i,o],s=>{const a=this.Sr(s.pr);r.push(a)}),W.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new $t($e);return n.forEach(o=>{const r=new Ct(o,0),s=new Ct(o,Number.POSITIVE_INFINITY);this.wr.forEachInRange([r,s],a=>{i=i.add(a.pr)})}),W.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let r=i;fe.isDocumentKey(r)||(r=r.child(""));const s=new Ct(new fe(r),0);let a=new $t($e);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===o&&(a=a.add(l.pr)),!0)},s),W.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(i=>{const o=this.Sr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return W.forEach(n.mutations,o=>{const r=new Ct(o.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new Ct(n,0),o=this.wr.firstAfterOrEqual(i);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.vr=e,this.docs=function(){return new yt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),r=o?o.size:0,s=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return W.resolve(i?i.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let i=Mi();return n.forEach(o=>{const r=this.docs.get(o);i=i.insert(o,r?r.document.mutableCopy():Gt.newInvalidDocument(o))}),W.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let r=Mi();const s=n.path,a=new fe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||QV(XV(d),i)<=0||(o.has(d.key)||ju(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return W.resolve(r)}getAllFromCollectionGroup(e,n,i,o){me()}Fr(e,n){return W.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new f4(this)}getSize(e){return W.resolve(this.size)}}class f4 extends s4{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.ar.addEntry(e,o)):this.ar.removeEntry(i)}),W.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.persistence=e,this.Mr=new ys(n=>Up(n),Bp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wp,this.targetCount=0,this.Lr=ss.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),W.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ss(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.qn(n),W.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,i){let o=0;const r=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(s),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),W.waitFor(r).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return W.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),W.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const o=this.persistence.referenceDelegate,r=[];return o&&n.forEach(s=>{r.push(o.markPotentiallyOrphaned(e,s))}),W.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return W.resolve(i)}containsKey(e,n){return W.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n){this.Br={},this.overlays={},this.kr=new Mp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new p4(this),this.indexManager=new o4,this.remoteDocumentCache=function(o){return new h4(o)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new n4(n),this.$r=new c4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new d4(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){le("MemoryPersistence","Starting transaction:",e);const o=new g4(this.kr.next());return this.referenceDelegate.Ur(),i(o).next(r=>this.referenceDelegate.Wr(o).next(()=>r)).toPromise().then(r=>(o.raiseOnCommittedEvent(),r))}Gr(e,n){return W.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class g4 extends ZV{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.zr=new Wp,this.jr=null}static Hr(e){return new Gp(e)}get Jr(){if(this.jr)return this.jr;throw me()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),W.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),W.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(o=>this.Jr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(r=>this.Jr.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Jr,i=>{const o=fe.fromPath(i);return this.Yr(e,o).next(r=>{r||n.removeEntry(o,ve.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return W.or([()=>W.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=o}static Ki(e,n){let i=Ce(),o=Ce();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:o=o.add(r.doc.key)}return new Kp(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return oL()?8:eF(Ut())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,o){const r={result:null};return this.ji(e,n).next(s=>{r.result=s}).next(()=>{if(!r.result)return this.Hi(e,n,o,i).next(s=>{r.result=s})}).next(()=>{if(r.result)return;const s=new b4;return this.Ji(e,n,s).next(a=>{if(r.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>r.result)}Yi(e,n,i,o){return i.documentReadCount<this.Wi?(zs()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ar(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),W.resolve()):(zs()<=xe.DEBUG&&le("QueryEngine","Query:",Ar(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Gi*o?(zs()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ar(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(n))):W.resolve())}ji(e,n){if(q_(n))return W.resolve(null);let i=si(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=cf(n,null,"F"),i=si(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const s=Ce(...r);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,cf(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,i,o){return q_(n)||o.isEqual(ve.min())?W.resolve(null):this.zi.getDocuments(e,i).next(r=>{const s=this.Zi(n,r);return this.Xi(n,s,i,o)?W.resolve(null):(zs()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ar(n)),this.es(e,s,n,YV(o,-1)).next(a=>a))})}Zi(e,n){let i=new $t(KE(e));return n.forEach((o,r)=>{ju(e,r)&&(i=i.add(r))}),i}Xi(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(o)>0)}Ji(e,n,i){return zs()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ar(n)),this.zi.getDocumentsMatchingQuery(e,n,vo.min(),i)}es(e,n,i,o){return this.zi.getDocumentsMatchingQuery(e,i,o).next(r=>(n.forEach(s=>{r=r.insert(s.key,s)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,i,o){this.persistence=e,this.ts=n,this.serializer=o,this.ns=new yt($e),this.rs=new ys(r=>Up(r),Bp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l4(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function y4(t,e,n,i){return new v4(t,e,n,i)}async function bI(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(r=>(o=r,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const s=[],a=[];let l=Ce();for(const u of o){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of r){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function w4(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),r=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let g=W.resolve();return p.forEach(x=>{g=g.next(()=>d.getEntry(l,x)).next(E=>{const S=u.docVersions.get(x);Ke(S!==null),E.version.compareTo(S)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function _I(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function E4(t,e){const n=ye(t),i=e.snapshotVersion;let o=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const s=n.os.newChangeBuffer({trackRemovals:!0});o=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const p=o.get(h);if(!p)return;a.push(n.Qr.removeMatchingKeys(r,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(r,d.addedDocuments,h)));let g=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Jt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),o=o.insert(h,g),function(E,S,T){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,g,d)&&a.push(n.Qr.updateTargetData(r,g))});let l=Mi(),u=Ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),a.push(I4(r,s,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!i.isEqual(ve.min())){const d=n.Qr.getLastRemoteSnapshotVersion(r).next(h=>n.Qr.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(d)}return W.waitFor(a).next(()=>s.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,u)).next(()=>l)}).then(r=>(n.ns=o,r))}function I4(t,e,n){let i=Ce(),o=Ce();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let s=Mi();return n.forEach((a,l)=>{const u=r.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:o}})}function T4(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function k4(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Qr.getTargetData(i,e).next(r=>r?(o=r,W.resolve(o)):n.Qr.allocateTargetId(i).next(s=>(o=new ao(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.ns.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}async function pf(t,e,n){const i=ye(t),o=i.ns.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,s=>i.persistence.referenceDelegate.removeTarget(s,o))}catch(s){if(!sl(s))throw s;le("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(s))}i.ns=i.ns.remove(e),i.rs.delete(o.target)}function nv(t,e,n){const i=ye(t);let o=ve.min(),r=Ce();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const h=ye(l),p=h.rs.get(d);return p!==void 0?W.resolve(h.ns.get(p)):h.Qr.getTargetData(u,d)}(i,s,si(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{r=l})}).next(()=>i.ts.getDocumentsMatchingQuery(s,e,n?o:ve.min(),n?r:Ce())).next(a=>(x4(i,bF(e),a),{documents:a,hs:r})))}function x4(t,e,n){let i=t.ss.get(e)||ve.min();n.forEach((o,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.ss.set(e,i)}class iv{constructor(){this.activeTargetIds=IF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C4{constructor(){this.no=new iv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new iv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=null;function Yd(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class P4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So="projects/".concat(o,"/databases/").concat(r),this.bo=this.databaseId.database==="(default)"?"project_id=".concat(o):"project_id=".concat(o,"&database_id=").concat(r)}get Do(){return!1}Co(n,i,o,r,s){const a=Yd(),l=this.vo(n,i.toUriEncodedString());le("RestConnection","Sending RPC '".concat(n,"' ").concat(a,":"),l,o);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,r,s),this.Mo(n,l,u,o).then(d=>(le("RestConnection","Received RPC '".concat(n,"' ").concat(a,": "),d),d),d=>{throw ns("RestConnection","RPC '".concat(n,"' ").concat(a," failed with error: "),d,"url: ",l,"request:",o),d})}xo(n,i,o,r,s,a){return this.Co(n,i,o,r,s)}Fo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,s)=>n[s]=r),o&&o.headers.forEach((r,s)=>n[s]=r)}vo(n,i){const o=A4[n];return"".concat(this.wo,"/v1/").concat(i,":").concat(o)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,o){const r=Yd();return new Promise((s,a)=>{const l=new AE;l.setWithCredentials(!0),l.listenOnce(PE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mc.NO_ERROR:const d=l.getResponseJson();le(qt,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(d)),s(d);break;case mc.TIMEOUT:le(qt,"RPC '".concat(e,"' ").concat(r," timed out")),a(new ae(j.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const h=l.getStatus();if(le(qt,"RPC '".concat(e,"' ").concat(r," failed with status:"),h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(S){const T=S.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(T)>=0?T:j.UNKNOWN}(g.status);a(new ae(x,g.message))}else a(new ae(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(j.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{le(qt,"RPC '".concat(e,"' ").concat(r," completed."))}});const u=JSON.stringify(o);le(qt,"RPC '".concat(e,"' ").concat(r," sending request:"),o),l.send(n,"POST",u,i,15)})}Oo(e,n,i){const o=Yd(),r=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=DE(),a=NE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new RE({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=r.join("");le(qt,"Creating RPC '".concat(e,"' stream ").concat(o,": ").concat(d),l);const h=s.createWebChannel(d,l);let p=!1,g=!1;const x=new R4({lo:S=>{g?le(qt,"Not sending because RPC '".concat(e,"' stream ").concat(o," is closed:"),S):(p||(le(qt,"Opening RPC '".concat(e,"' stream ").concat(o," transport.")),h.open(),p=!0),le(qt,"RPC '".concat(e,"' stream ").concat(o," sending:"),S),h.send(S))},ho:()=>h.close()}),E=(S,T,A)=>{S.listen(T,O=>{try{A(O)}catch(L){setTimeout(()=>{throw L},0)}})};return E(h,Js.EventType.OPEN,()=>{g||(le(qt,"RPC '".concat(e,"' stream ").concat(o," transport opened.")),x.mo())}),E(h,Js.EventType.CLOSE,()=>{g||(g=!0,le(qt,"RPC '".concat(e,"' stream ").concat(o," transport closed")),x.po())}),E(h,Js.EventType.ERROR,S=>{g||(g=!0,ns(qt,"RPC '".concat(e,"' stream ").concat(o," transport errored:"),S),x.po(new ae(j.UNAVAILABLE,"The operation could not be completed")))}),E(h,Js.EventType.MESSAGE,S=>{var T;if(!g){const A=S.data[0];Ke(!!A);const O=A,L=O.error||((T=O[0])===null||T===void 0?void 0:T.error);if(L){le(qt,"RPC '".concat(e,"' stream ").concat(o," received error:"),L);const V=L.status;let D=function(_){const k=gt[_];if(k!==void 0)return aI(k)}(V),y=L.message;D===void 0&&(D=j.INTERNAL,y="Unknown error status: "+V+" with message "+L.message),g=!0,x.po(new ae(D,y)),h.close()}else le(qt,"RPC '".concat(e,"' stream ").concat(o," received:"),A),x.yo(A)}}),E(a,OE.STAT_EVENT,S=>{S.stat===tf.PROXY?le(qt,"RPC '".concat(e,"' stream ").concat(o," detected buffering proxy")):S.stat===tf.NOPROXY&&le(qt,"RPC '".concat(e,"' stream ").concat(o," detected no buffering proxy"))}),setTimeout(()=>{x.fo()},0),x}}function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){return new zF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,i=1e3,o=1.5,r=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=o,this.Bo=r,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),o=Math.max(0,n-i);o>0&&le("ExponentialBackoff","Backing off for ".concat(o," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(i," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,o,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,i,o,r,s,a,l){this.oi=e,this.Go=i,this.zo=o,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new vI(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.jo===n&&this.u_(i,o)},i=>{e(()=>{const o=new ae(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(o)})})}u_(e,n){const i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(o=>{i(()=>this.c_(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return le("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O4 extends yI{constructor(e,n,i,o,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,s),this.serializer=r}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=qF(this.serializer,e),i=function(r){if(!("targetChange"in r))return ve.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?li(s.readTime):ve.min()}(e);return this.listener.h_(n,i)}P_(e){const n={};n.database=ff(this.serializer),n.addTarget=function(r,s){let a;const l=s.target;if(a=af(l)?{documents:KF(r,l)}:{query:YF(r,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=uI(r,s.resumeToken);const u=uf(r,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=Xc(r,s.snapshotVersion.toTimestamp());const u=uf(r,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const i=QF(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){const n={};n.database=ff(this.serializer),n.removeTarget=e,this.i_(n)}}class N4 extends yI{constructor(e,n,i,o,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,s),this.serializer=r,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=GF(e.writeResults,e.commitTime),i=li(e.commitTime);return this.listener.A_(i,n)}return Ke(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=ff(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>WF(this.serializer,i))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4 extends class{}{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.m_=!1}f_(){if(this.m_)throw new ae(j.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Co(e,df(n,i),o,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ae(j.UNKNOWN,r.toString())})}xo(e,n,i,o,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,df(n,i),o,s,a,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(j.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class L4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Li(n),this.y_=!1):le("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,i,o,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=r,this.O_.io(s=>{i.enqueueAndForget(async()=>{pr(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.M_.add(4),await cl(u),u.N_.set("Unknown"),u.M_.delete(4),await Ku(u)}(this))})}),this.N_=new L4(i,o)}}async function Ku(t){if(pr(t))for(const e of t.x_)await e(!0)}async function cl(t){for(const e of t.x_)await e(!1)}function wI(t,e){const n=ye(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Jp(n)?Qp(n):ws(n).Xo()&&Xp(n,e))}function Yp(t,e){const n=ye(t),i=ws(n);n.F_.delete(e),i.Xo()&&EI(n,e),n.F_.size===0&&(i.Xo()?i.n_():pr(n)&&n.N_.set("Unknown"))}function Xp(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ws(t).P_(e)}function EI(t,e){t.L_.xe(e),ws(t).I_(e)}function Qp(t){t.L_=new FF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ws(t).start(),t.N_.w_()}function Jp(t){return pr(t)&&!ws(t).Zo()&&t.F_.size>0}function pr(t){return ye(t).M_.size===0}function II(t){t.L_=void 0}async function V4(t){t.N_.set("Online")}async function F4(t){t.F_.forEach((e,n)=>{Xp(t,e)})}async function $4(t,e){II(t),Jp(t)?(t.N_.D_(e),Qp(t)):t.N_.set("Unknown")}async function U4(t,e,n){if(t.N_.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await async function(o,r){const s=r.cause;for(const a of r.targetIds)o.F_.has(a)&&(await o.remoteSyncer.rejectListen(a,s),o.F_.delete(a),o.L_.removeTarget(a))}(t,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Qc(t,i)}else if(e instanceof _c?t.L_.Ke(e):e instanceof lI?t.L_.He(e):t.L_.We(e),!n.isEqual(ve.min()))try{const i=await _I(t.localStore);n.compareTo(i)>=0&&await function(r,s){const a=r.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=r.F_.get(u);d&&r.F_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=r.F_.get(l);if(!d)return;r.F_.set(l,d.withResumeToken(Jt.EMPTY_BYTE_STRING,d.snapshotVersion)),EI(r,l);const h=new ao(d.target,l,u,d.sequenceNumber);Xp(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await Qc(t,i)}}async function Qc(t,e,n){if(!sl(e))throw e;t.M_.add(1),await cl(t),t.N_.set("Offline"),n||(n=()=>_I(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Ku(t)})}function TI(t,e){return e().catch(n=>Qc(t,n,e))}async function Yu(t){const e=ye(t),n=wo(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;B4(e);)try{const o=await T4(e.localStore,i);if(o===null){e.v_.length===0&&n.n_();break}i=o.batchId,z4(e,o)}catch(o){await Qc(e,o)}kI(e)&&xI(e)}function B4(t){return pr(t)&&t.v_.length<10}function z4(t,e){t.v_.push(e);const n=wo(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function kI(t){return pr(t)&&!wo(t).Zo()&&t.v_.length>0}function xI(t){wo(t).start()}async function j4(t){wo(t).V_()}async function H4(t){const e=wo(t);for(const n of t.v_)e.d_(n.mutations)}async function q4(t,e,n){const i=t.v_.shift(),o=jp.from(i,e,n);await TI(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Yu(t)}async function W4(t,e){e&&wo(t).E_&&await async function(i,o){if(function(s){return LF(s)&&s!==j.ABORTED}(o.code)){const r=i.v_.shift();wo(i).t_(),await TI(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,o)),await Yu(i)}}(t,e),kI(t)&&xI(t)}async function rv(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=pr(n);n.M_.add(3),await cl(n),i&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Ku(n)}async function G4(t,e){const n=ye(t);e?(n.M_.delete(2),await Ku(n)):e||(n.M_.add(2),await cl(n),n.N_.set("Unknown"))}function ws(t){return t.B_||(t.B_=function(n,i,o){const r=ye(n);return r.f_(),new O4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,o)}(t.datastore,t.asyncQueue,{Po:V4.bind(null,t),To:F4.bind(null,t),Ao:$4.bind(null,t),h_:U4.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Jp(t)?Qp(t):t.N_.set("Unknown")):(await t.B_.stop(),II(t))})),t.B_}function wo(t){return t.k_||(t.k_=function(n,i,o){const r=ye(n);return r.f_(),new N4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,o)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:j4.bind(null,t),Ao:W4.bind(null,t),R_:H4.bind(null,t),A_:q4.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Yu(t)):(await t.k_.stop(),t.v_.length>0&&(le("RemoteStore","Stopping write stream with ".concat(t.v_.length," pending writes")),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,i,o,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=r,this.deferred=new Go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,r){const s=Date.now()+i,a=new Zp(e,n,s,o,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(t,e){if(Li("AsyncQueue","".concat(e,": ").concat(t)),sl(t))return new ae(j.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.comparator=e?(n,i)=>e(n,i)||fe.comparator(n.key,i.key):(n,i)=>fe.comparator(n.key,i.key),this.keyedMap=Zs(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new qr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,r=i.getNext().key;if(!o.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new qr;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.q_=new yt(fe.comparator)}track(e){const n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):me():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}}class as{constructor(e,n,i,o,r,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,o,r){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new as(e,n,qr.emptySet(n),s,i,o,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Y4{constructor(){this.queries=new ys(e=>GE(e),zu),this.onlineState="Unknown",this.z_=new Set}}async function X4(t,e){const n=ye(t);let i=3;const o=e.query;let r=n.queries.get(o);r?!r.W_()&&e.G_()&&(i=2):(r=new K4,i=e.G_()?0:1);try{switch(i){case 0:r.K_=await n.onListen(o,!0);break;case 1:r.K_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(s){const a=em(s,"Initialization of query '".concat(Ar(e.query),"' failed"));return void e.onError(a)}n.queries.set(o,r),r.U_.push(e),e.j_(n.onlineState),r.K_&&e.H_(r.K_)&&tm(n)}async function Q4(t,e){const n=ye(t),i=e.query;let o=3;const r=n.queries.get(i);if(r){const s=r.U_.indexOf(e);s>=0&&(r.U_.splice(s,1),r.U_.length===0?o=e.G_()?0:1:!r.W_()&&e.G_()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function J4(t,e){const n=ye(t);let i=!1;for(const o of e){const r=o.query,s=n.queries.get(r);if(s){for(const a of s.U_)a.H_(o)&&(i=!0);s.K_=o}}i&&tm(n)}function Z4(t,e,n){const i=ye(t),o=i.queries.get(e);if(o)for(const r of o.U_)r.onError(n);i.queries.delete(e)}function tm(t){t.z_.forEach(e=>{e.next()})}var mf,av;(av=mf||(mf={})).J_="default",av.Cache="cache";class e${constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new as(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=as.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==mf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class t${constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ce(),this.mutatedKeys=Ce(),this.Ia=KE(e),this.Ta=new qr(this.Ia)}get Ea(){return this.la}da(e,n){const i=n?n.Aa:new sv,o=n?n.Ta:this.Ta;let r=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,u=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((d,h)=>{const p=o.get(d),g=ju(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?x!==E&&(i.track({type:3,doc:g}),S=!0):this.Ra(p,g)||(i.track({type:2,doc:g}),S=!0,(l&&this.Ia(g,l)>0||u&&this.Ia(g,u)<0)&&(a=!0)):!p&&g?(i.track({type:0,doc:g}),S=!0):p&&!g&&(i.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(g?(s=s.add(g),r=E?r.add(d):r.delete(d)):(s=s.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{Ta:s,Aa:i,Xi:a,mutatedKeys:r}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const r=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((d,h)=>function(g,x){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return E(g)-E(x)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(i),o=o!=null&&o;const a=n&&!o?this.ma():[],l=this.Pa.size===0&&this.current&&!o?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new as(this.query,e.Ta,r,s,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new sv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ce(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new SI(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new CI(i))}),n}pa(e){this.la=e.hs,this.Pa=Ce();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return as.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class n${constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class i${constructor(e){this.key=e,this.wa=!1}}class o${constructor(e,n,i,o,r,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new ys(a=>GE(a),zu),this.Da=new Map,this.Ca=new Set,this.va=new yt(fe.comparator),this.Fa=new Map,this.Ma=new Wp,this.xa={},this.Oa=new Map,this.Na=ss.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function r$(t,e,n=!0){const i=DI(t);let o;const r=i.ba.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),o=r.view.ya()):o=await AI(i,e,n,!0),o}async function s$(t,e){const n=DI(t);await AI(n,e,!0,!1)}async function AI(t,e,n,i){const o=await k4(t.localStore,si(e)),r=o.targetId,s=n?t.sharedClientState.addLocalQueryTarget(r):"not-current";let a;return i&&(a=await a$(t,e,r,s==="current",o.resumeToken)),t.isPrimaryClient&&n&&wI(t.remoteStore,o),a}async function a$(t,e,n,i,o){t.Ba=(h,p,g)=>async function(E,S,T,A){let O=S.view.da(T);O.Xi&&(O=await nv(E.localStore,S.query,!1).then(({documents:y})=>S.view.da(y,O)));const L=A&&A.targetChanges.get(S.targetId),V=A&&A.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(O,E.isPrimaryClient,L,V);return cv(E,S.targetId,D.fa),D.snapshot}(t,h,p,g);const r=await nv(t.localStore,e,!0),s=new t$(e,r.hs),a=s.da(r.documents),l=ll.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),u=s.applyChanges(a,t.isPrimaryClient,l);cv(t,n,u.fa);const d=new n$(e,n,s);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function l$(t,e,n){const i=ye(t),o=i.ba.get(e),r=i.Da.get(o.targetId);if(r.length>1)return i.Da.set(o.targetId,r.filter(s=>!zu(s,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await pf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Yp(i.remoteStore,o.targetId),gf(i,o.targetId)}).catch(rl)):(gf(i,o.targetId),await pf(i.localStore,o.targetId,!0))}async function c$(t,e){const n=ye(t),i=n.ba.get(e),o=n.Da.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Yp(n.remoteStore,i.targetId))}async function u$(t,e,n){const i=b$(t);try{const o=await function(s,a){const l=ye(s),u=Et.now(),d=a.reduce((g,x)=>g.add(x.key),Ce());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=Mi(),E=Ce();return l.os.getEntries(g,d).next(S=>{x=S,x.forEach((T,A)=>{A.isValidDocument()||(E=E.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,x)).next(S=>{h=S;const T=[];for(const A of a){const O=RF(A,h.get(A.key).overlayedDocument);O!=null&&T.push(new fr(A.key,O,$E(O.value.mapValue),ai.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,T,a)}).next(S=>{p=S;const T=S.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(g,S.batchId,T)})}).then(()=>({batchId:p.batchId,changes:XE(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new yt($e)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(i,o.batchId,n),await ul(i,o.changes),await Yu(i.remoteStore)}catch(o){const r=em(o,"Failed to persist write");n.reject(r)}}async function RI(t,e){const n=ye(t);try{const i=await E4(n.localStore,e);e.targetChanges.forEach((o,r)=>{const s=n.Fa.get(r);s&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.wa=!0:o.modifiedDocuments.size>0?Ke(s.wa):o.removedDocuments.size>0&&(Ke(s.wa),s.wa=!1))}),await ul(n,i,e)}catch(i){await rl(i)}}function lv(t,e,n){const i=ye(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ba.forEach((r,s)=>{const a=s.view.j_(e);a.snapshot&&o.push(a.snapshot)}),function(s,a){const l=ye(s);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.U_)p.j_(a)&&(u=!0)}),u&&tm(l)}(i.eventManager,e),o.length&&i.Sa.h_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function d$(t,e,n){const i=ye(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Fa.get(e),r=o&&o.key;if(r){let s=new yt(fe.comparator);s=s.insert(r,Gt.newNoDocument(r,ve.min()));const a=Ce().add(r),l=new Wu(ve.min(),new Map,new yt($e),s,a);await RI(i,l),i.va=i.va.remove(r),i.Fa.delete(e),nm(i)}else await pf(i.localStore,e,!1).then(()=>gf(i,e,n)).catch(rl)}async function h$(t,e){const n=ye(t),i=e.batch.batchId;try{const o=await w4(n.localStore,e);OI(n,i,null),PI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ul(n,o)}catch(o){await rl(o)}}async function f$(t,e,n){const i=ye(t);try{const o=await function(s,a){const l=ye(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ke(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,e);OI(i,e,n),PI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ul(i,o)}catch(o){await rl(o)}}function PI(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function OI(t,e,n){const i=ye(t);let o=i.xa[i.currentUser.toKey()];if(o){const r=o.get(e);r&&(n?r.reject(n):r.resolve(),o=o.remove(e)),i.xa[i.currentUser.toKey()]=o}}function gf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||NI(t,i)})}function NI(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Yp(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),nm(t))}function cv(t,e,n){for(const i of n)i instanceof CI?(t.Ma.addReference(i.key,e),p$(t,i)):i instanceof SI?(le("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||NI(t,i.key)):me()}function p$(t,e){const n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(le("SyncEngine","New document in limbo: "+n),t.Ca.add(i),nm(t))}function nm(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new fe(nt.fromString(e)),i=t.Na.next();t.Fa.set(i,new i$(n)),t.va=t.va.insert(n,i),wI(t.remoteStore,new ao(si(zp(n.path)),i,"TargetPurposeLimboResolution",Mp.oe))}}async function ul(t,e,n){const i=ye(t),o=[],r=[],s=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{s.push(i.Ba(l,e,n).then(u=>{if((u||n)&&i.isPrimaryClient){const d=u&&!u.fromCache;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){o.push(u);const d=Kp.Ki(l.targetId,u);r.push(d)}}))}),await Promise.all(s),i.Sa.h_(o),await async function(l,u){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>W.forEach(u,p=>W.forEach(p.qi,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>W.forEach(p.Qi,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!sl(h))throw h;le("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.ns.get(p),x=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(x);d.ns=d.ns.insert(p,E)}}}(i.localStore,r))}async function m$(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await bI(n.localStore,e);n.currentUser=e,function(r,s){r.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ae(j.CANCELLED,s))})}),r.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ul(n,i.us)}}function g$(t,e){const n=ye(t),i=n.Fa.get(e);if(i&&i.wa)return Ce().add(i.key);{let o=Ce();const r=n.Da.get(e);if(!r)return o;for(const s of r){const a=n.ba.get(s);o=o.unionWith(a.view.Ea)}return o}}function DI(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d$.bind(null,e),e.Sa.h_=J4.bind(null,e.eventManager),e.Sa.ka=Z4.bind(null,e.eventManager),e}function b$(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f$.bind(null,e),e}class uv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return y4(this.persistence,new _4,e.initialUser,this.serializer)}createPersistence(e){return new m4(Gp.Hr,this.serializer)}createSharedClientState(e){return new C4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=m$.bind(null,this.syncEngine),await G4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y4}()}createDatastore(e){const n=Gu(e.databaseInfo.databaseId),i=function(r){return new P4(r)}(e.databaseInfo);return function(r,s,a,l){return new D4(r,s,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,r,s,a){return new M4(i,o,r,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lv(this.syncEngine,n,0),function(){return ov.D()?new ov:new S4}())}createSyncEngine(e,n){return function(o,r,s,a,l,u,d){const h=new o$(o,r,s,a,l,u);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const o=ye(i);le("RemoteStore","RemoteStore shutting down."),o.M_.add(5),await cl(o),o.O_.shutdown(),o.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,n,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=ME.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{le("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(le("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=em(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Qd(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await bI(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E$(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>rv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>rv(e.remoteStore,o)),t._onlineComponents=e}function w$(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function E$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!w$(n))throw n;ns("Error using user provided cache. Falling back to memory cache: "+n),await Qd(t,new uv)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Qd(t,new uv);return t._offlineComponents}async function LI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await dv(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await dv(t,new _$))),t._onlineComponents}function I$(t){return LI(t).then(e=>e.syncEngine)}async function hv(t){const e=await LI(t),n=e.eventManager;return n.onListen=r$.bind(null,e.syncEngine),n.onUnlisten=l$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c$.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e,n){if(!n)throw new ae(j.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function T$(t,e,n,i){if(e===!0&&i===!0)throw new ae(j.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))}function pv(t){if(!fe.isDocumentKey(t))throw new ae(j.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function mv(t){if(fe.isDocumentKey(t))throw new ae(j.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Xu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return typeof t=="function"?"a function":me()}function Ko(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xu(t);throw new ae(j.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(j.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(r.timeoutSeconds," (must not be NaN)"));if(r.timeoutSeconds<5)throw new ae(j.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(r.timeoutSeconds," (minimum allowed value is 5)"));if(r.timeoutSeconds>30)throw new ae(j.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(r.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qu{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new UV;switch(i.type){case"firstParty":return new HV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ae(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=fv.get(n);i&&(le("ComponentProvider","Removing Datastore"),fv.delete(n),i.terminate())}(this),Promise.resolve()}}function k$(t,e,n,i={}){var o;const r=(t=Ko(t,Qu))._getSettings(),s="".concat(e,":").concat(n);if(r.host!=="firestore.googleapis.com"&&r.host!==s&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Wt.MOCK_USER;else{a=Mw(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new ae(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wt(u)}t._authCredentials=new BV(new LE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new mr(this.firestore,e,this._query)}}class cn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class go extends mr{constructor(e,n,i){super(e,n,zp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new fe(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function x$(t,e,...n){if(t=at(t),VI("collection","path",e),t instanceof Qu){const i=nt.fromString(e,...n);return mv(i),new go(t,null,i)}{if(!(t instanceof cn||t instanceof go))throw new ae(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(nt.fromString(e,...n));return mv(i),new go(t.firestore,null,i)}}function FI(t,e,...n){if(t=at(t),arguments.length===1&&(e=ME.newId()),VI("doc","path",e),t instanceof Qu){const i=nt.fromString(e,...n);return pv(i),new cn(t,null,new fe(i))}{if(!(t instanceof cn||t instanceof go))throw new ae(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(nt.fromString(e,...n));return pv(i),new cn(t.firestore,t instanceof go?t.converter:null,new fe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new vI(this,"async_queue_retry"),this.hu=()=>{const n=Xd();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Xd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Go;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!sl(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;const o=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i);throw Li("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const o=Zp.createAndSchedule(this,e,n,i,r=>this.Eu(r));return this._u.push(o),o}Pu(){this.au&&me()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function bv(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const r of i)if(r in o&&typeof o[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Ha extends Qu{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=function(){return new C$}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BI(this),this._firestoreClient.terminate()}}function $I(t,e){const n=typeof t=="object"?t:el(),i=typeof t=="string"?t:"(default)",o=Mu(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const r=Nw("firestore");r&&k$(o,...r)}return o}function UI(t){return t._firestoreClient||BI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BI(t){var e,n,i;const o=t._freezeSettings(),r=function(a,l,u,d){return new iF(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,MI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new y$(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(Jt.fromBase64String(e))}catch(n){throw new ae(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ls(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=/^__.*__$/;class A${constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new al(e,this.data,n,this.fieldTransforms)}}function jI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class rm{constructor(e,n,i,o,r,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,r===void 0&&this.mu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.gu({path:i,yu:!1});return o.wu(e),o}Su(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.gu({path:i,yu:!1});return o.mu(),o}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Jc(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(jI(this.fu)&&S$.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class R${constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Gu(e)}Fu(e,n,i,o=!1){return new rm({fu:e,methodName:n,vu:i,path:Ft.emptyPath(),yu:!1,Cu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(t){const e=t._freezeSettings(),n=Gu(t._databaseId);return new R$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HI(t,e,n,i,o,r={}){const s=t.Fu(r.merge||r.mergeFields?2:0,e,n,o);GI("Data must be an object, but it was:",s,i);const a=qI(i,s);let l,u;if(r.merge)l=new Vn(s.fieldMask),u=s.fieldTransforms;else if(r.mergeFields){const d=[];for(const h of r.mergeFields){const p=O$(e,h,n);if(!s.contains(p))throw new ae(j.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));D$(d,p)||d.push(p)}l=new Vn(d),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new A$(new In(a),l,u)}function P$(t,e,n,i=!1){return am(n,t.Fu(i?4:3,e))}function am(t,e){if(WI(t=at(t)))return GI("Unsupported field value:",e,t),qI(t,e);if(t instanceof zI)return function(i,o){if(!jI(o.fu))throw o.Du("".concat(i._methodName,"() can only be used with update() and set()"));if(!o.path)throw o.Du("".concat(i._methodName,"() is not currently supported inside arrays"));const r=i._toFieldTransform(o);r&&o.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,o){const r=[];let s=0;for(const a of i){let l=am(a,o.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),s++}return{arrayValue:{values:r}}}(t,e)}return function(i,o){if((i=at(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TF(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Et.fromDate(i);return{timestampValue:Xc(o.serializer,r)}}if(i instanceof Et){const r=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,r)}}if(i instanceof om)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ls)return{bytesValue:uI(o.serializer,i._byteString)};if(i instanceof cn){const r=o.databaseId,s=i.firestore._databaseId;if(!s.isEqual(r))throw o.Du("Document reference is for database ".concat(s.projectId,"/").concat(s.database," but should be for database ").concat(r.projectId,"/").concat(r.database));return{referenceValue:qp(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Du("Unsupported field value: ".concat(Xu(i)))}(t,e)}function qI(t,e){const n={};return VE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(i,o)=>{const r=am(o,e.pu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function WI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof om||t instanceof ls||t instanceof cn||t instanceof zI)}function GI(t,e,n){if(!WI(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=Xu(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function O$(t,e,n){if((e=at(e))instanceof im)return e._internalPath;if(typeof e=="string")return KI(t,e);throw Jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const N$=new RegExp("[~\\*/\\[\\]]");function KI(t,e,n){if(e.search(N$)>=0)throw Jc("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new im(...e.split("."))._internalPath}catch(i){throw Jc("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function Jc(t,e,n,i,o){const r=i&&!i.isEmpty(),s=o!==void 0;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||s)&&(l+=" (found",r&&(l+=" in field ".concat(i)),s&&(l+=" in document ".concat(o)),l+=")"),new ae(j.INVALID_ARGUMENT,a+t+l)}function D$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,i,o,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L$ extends YI{data(){return super.data()}}function lm(t,e){return typeof e=="string"?KI(t,e):e instanceof im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cm{}class XI extends cm{}function V$(t,e,...n){let i=[];e instanceof cm&&i.push(e),i=i.concat(n),function(r){const s=r.filter(l=>l instanceof dm).length,a=r.filter(l=>l instanceof um).length;if(s>1||s>0&&a>0)throw new ae(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class um extends XI{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new um(e,n,i)}_apply(e){const n=this._parse(e);return QI(e._query,n),new mr(e.firestore,e.converter,lf(e._query,n))}_parse(e){const n=sm(e.firestore);return function(r,s,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ae(j.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(d,"' queries on documentId()."));if(d==="in"||d==="not-in"){vv(h,d);const g=[];for(const x of h)g.push(_v(l,r,x));p={arrayValue:{values:g}}}else p=_v(l,r,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vv(h,d),p=P$(a,s,h,d==="in"||d==="not-in");return _t.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class dm extends cm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dm(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,r){let s=o;const a=r.getFlattenedFilters();for(const l of a)QI(s,l),s=lf(s,l)}(e._query,n),new mr(e.firestore,e.converter,lf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hm extends XI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hm(e,n)}_apply(e){const n=function(o,r,s){if(o.startAt!==null)throw new ae(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ba(r,s)}(e._query,this._field,this._direction);return new mr(e.firestore,e.converter,function(o,r){const s=o.explicitOrderBy.concat([r]);return new vs(o.path,o.collectionGroup,s,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function F$(t,e="asc"){const n=e,i=lm("orderBy",t);return hm._create(i,n)}function _v(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new ae(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&n.indexOf("/")!==-1)throw new ae(j.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(nt.fromString(n));if(!fe.isDocumentKey(i))throw new ae(j.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return $_(t,new fe(i))}if(n instanceof cn)return $_(t,n._key);throw new ae(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xu(n),"."))}function vv(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(j.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function QI(t,e){const n=function(o,r){for(const s of o)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(j.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new ae(j.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class $${convertValue(e,n="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return _s(e,(o,r)=>{i[o]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new om(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Fp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fa(e));default:return null}}convertTimestamp(e){const n=yo(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=nt.fromString(e);Ke(gI(i));const o=new $a(i.get(1),i.get(3)),r=new fe(i.popFirst(5));return o.isEqual(n)||Li("Document ".concat(r," contains a document reference within a different database (").concat(o.projectId,"/").concat(o.database,") which is not supported. It will be treated as a reference in the current database (").concat(n.projectId,"/").concat(n.database,") instead.")),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZI extends YI{constructor(e,n,i,o,r,s){super(e,n,i,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class vc extends ZI{data(e={}){return super.data(e)}}class U${constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ta(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new vc(this._firestore,this._userDataWriter,i.key,i,new ta(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,r){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(a=>{const l=new vc(o._firestore,o._userDataWriter,a.doc.key,a.doc,new ta(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new vc(o._firestore,o._userDataWriter,a.doc.key,a.doc,new ta(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:B$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function B$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class eT extends $${constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function z$(t,e,n){t=Ko(t,cn);const i=Ko(t.firestore,Ha),o=JI(t.converter,e);return tT(i,[HI(sm(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,ai.none())])}function yv(t,e){const n=Ko(t.firestore,Ha),i=FI(t),o=JI(t.converter,e);return tT(n,[HI(sm(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,ai.exists(!1))]).then(()=>i)}function j$(t,...e){var n,i,o;t=at(t);let r={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||bv(e[s])||(r=e[s],s++);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(bv(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[s+2]=(o=h.complete)===null||o===void 0?void 0:o.bind(h)}let l,u,d;if(t instanceof cn)u=Ko(t.firestore,Ha),d=zp(t._key.path),l={next:h=>{e[s]&&e[s](H$(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Ko(t,mr);u=Ko(h.firestore,Ha),d=h._query;const p=new eT(u);l={next:g=>{e[s]&&e[s](new U$(u,p,h,g))},error:e[s+1],complete:e[s+2]},M$(t._query)}return function(p,g,x,E){const S=new v$(E),T=new e$(g,S,x);return p.asyncQueue.enqueueAndForget(async()=>X4(await hv(p),T)),()=>{S.$a(),p.asyncQueue.enqueueAndForget(async()=>Q4(await hv(p),T))}}(UI(u),d,a,l)}function tT(t,e){return function(i,o){const r=new Go;return i.asyncQueue.enqueueAndForget(async()=>u$(await I$(i),o,r)),r.promise}(UI(t),e)}function H$(t,e,n){const i=n.docs.get(e._key),o=new eT(t);return new ZI(t,o,e._key,i,new ta(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){bs=o})(ko),ui(new Hn("firestore",(i,{instanceIdentifier:o,options:r})=>{const s=i.getProvider("app").getImmediate(),a=new Ha(new zV(i.getProvider("auth-internal")),new WV(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(u.options.projectId,d)}(s,o),s);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),vn(L_,"4.6.3",e),vn(L_,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebasestorage.googleapis.com",iT="storageBucket",q$=2*60*1e3,W$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends hi{constructor(e,n,i=0){super(Jd(e),"Firebase Storage: ".concat(n," (").concat(Jd(e),")")),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function Jd(t){return"storage/"+t}function fm(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(lt.UNKNOWN,t)}function G$(t){return new ct(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function K$(t){return new ct(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(lt.UNAUTHENTICATED,t)}function X$(){return new ct(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Q$(t){return new ct(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function J$(){return new ct(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z$(){return new ct(lt.CANCELED,"User canceled the upload/download.")}function e5(t){return new ct(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function t5(t){return new ct(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function n5(){return new ct(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iT+"' property when initializing the app?")}function i5(){return new ct(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o5(){return new ct(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function r5(t){return new ct(lt.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."))}function bf(t){return new ct(lt.INVALID_ARGUMENT,t)}function oT(){return new ct(lt.APP_DELETED,"The Firebase app was deleted.")}function s5(t){return new ct(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ga(t,e){return new ct(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function js(t){throw new ct(lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=bn.makeFromUrl(e,n)}catch(o){return new bn(e,"")}if(i.path==="")return i;throw t5(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function r(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+o+s,"i"),l={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp("^https?://".concat(h,"/").concat(d,"/b/").concat(o,"/o").concat(p),"i"),x={bucket:1,path:3},E=n===nT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",T=new RegExp("^https?://".concat(E,"/").concat(o,"/").concat(S),"i"),O=[{regex:a,indices:l,postModify:r},{regex:g,indices:x,postModify:u},{regex:T,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<O.length;L++){const V=O[L],D=V.regex.exec(e);if(D){const y=D[V.indices.bucket];let b=D[V.indices.path];b||(b=""),i=new bn(y,b),V.postModify(i);break}}if(i==null)throw e5(e);return i}}class a5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e,n){let i=1,o=null,r=null,s=!1,a=0;function l(){return a===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function h(S){o=setTimeout(()=>{o=null,t(g,l())},S)}function p(){r&&clearTimeout(r)}function g(S,...T){if(u){p();return}if(S){p(),d.call(null,S,...T);return}if(l()||s){p(),d.call(null,S,...T);return}i<64&&(i*=2);let O;a===1?(a=2,O=0):O=(i+Math.random())*1e3,h(O)}let x=!1;function E(S){x||(x=!0,p(),!u&&(o!==null?(S||(a=2),clearTimeout(o),h(0)):S||(a=1)))}return h(0),r=setTimeout(()=>{s=!0,E(!0)},n),E}function c5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){return t!==void 0}function d5(t){return typeof t=="object"&&!Array.isArray(t)}function pm(t){return typeof t=="string"||t instanceof String}function wv(t){return mm()&&t instanceof Blob}function mm(){return typeof Blob<"u"}function Ev(t,e,n,i){if(i<e)throw bf("Invalid value for '".concat(t,"'. Expected ").concat(e," or greater."));if(i>n)throw bf("Invalid value for '".concat(t,"'. Expected ").concat(n," or less."))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t,e,n){let i=e;return n==null&&(i="https://".concat(e)),"".concat(n,"://").concat(i,"/v0").concat(t)}function rT(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const o=e(i)+"="+e(t[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yo||(Yo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||o||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,i,o,r,s,a,l,u,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new ec(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&r.addUploadProgressListener(s),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(s),this.pendingConnection_=null;const a=r.getErrorCode()===Yo.NO_ERROR,l=r.getStatus();if(!a||h5(l,this.additionalRetryCodes_)&&this.retry){const d=r.getErrorCode()===Yo.ABORT;i(!1,new ec(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new ec(u,r))})},n=(i,o)=>{const r=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());u5(l)?r(l):r()}catch(l){s(l)}else if(a!==null){const l=fm();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(o.canceled){const l=this.appDelete_?oT():Z$();s(l)}else{const l=J$();s(l)}};this.canceled_?n(!1,new ec(!1,null,!0)):this.backoffId_=l5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&c5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ec{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function p5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function m5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function g5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function b5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _5(t,e,n,i,o,r,s=!0){const a=rT(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return g5(u,e),p5(u,n),m5(u,r),b5(u,i),new f5(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function y5(...t){const e=v5();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(mm())return new Blob(t);throw new ct(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function w5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){if(typeof atob>"u")throw r5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zd{constructor(e,n){this.data=e,this.contentType=n||null}}function I5(t,e){switch(t){case ii.RAW:return new Zd(sT(e));case ii.BASE64:case ii.BASE64URL:return new Zd(aT(t,e));case ii.DATA_URL:return new Zd(k5(e),x5(e))}throw fm()}function sT(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=i,s=t.charCodeAt(++n);i=65536|(r&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function T5(t){let e;try{e=decodeURIComponent(t)}catch(n){throw ga(ii.DATA_URL,"Malformed data URL.")}return sT(e)}function aT(t,e){switch(t){case ii.BASE64:{const o=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(o||r)throw ga(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ii.BASE64URL:{const o=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(o||r)throw ga(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=E5(e)}catch(o){throw o.message.includes("polyfill")?o:ga(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}class lT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ga(ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=C5(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function k5(t){const e=new lT(t);return e.base64?aT(ii.BASE64,e.rest):T5(e.rest)}function x5(t){return new lT(t).contentType}function C5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){let i=0,o="";wv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(wv(this.data_)){const i=this.data_,o=w5(i,e,n);return o===null?null:new oo(o)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new oo(i,!0)}}static getBlob(...e){if(mm()){const n=e.map(i=>i instanceof oo?i.data_:i);return new oo(y5.apply(null,n))}else{const n=e.map(s=>pm(s)?I5(ii.RAW,s).data:s.data_);let i=0;n.forEach(s=>{i+=s.byteLength});const o=new Uint8Array(i);let r=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)o[r++]=s[a]}),new oo(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){let e;try{e=JSON.parse(t)}catch(n){return null}return d5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A5(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function uT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e){return e}class en{constructor(e,n,i,o){this.server=e,this.local=n||e,this.writable=!!i,this.xform=o||R5}}let tc=null;function P5(t){return!pm(t)||t.length<2?t:uT(t)}function dT(){if(tc)return tc;const t=[];t.push(new en("bucket")),t.push(new en("generation")),t.push(new en("metageneration")),t.push(new en("name","fullPath",!0));function e(r,s){return P5(s)}const n=new en("name");n.xform=e,t.push(n);function i(r,s){return s!==void 0?Number(s):s}const o=new en("size");return o.xform=i,t.push(o),t.push(new en("timeCreated")),t.push(new en("updated")),t.push(new en("md5Hash",null,!0)),t.push(new en("cacheControl",null,!0)),t.push(new en("contentDisposition",null,!0)),t.push(new en("contentEncoding",null,!0)),t.push(new en("contentLanguage",null,!0)),t.push(new en("contentType",null,!0)),t.push(new en("metadata","customMetadata",!0)),tc=t,tc}function O5(t,e){function n(){const i=t.bucket,o=t.fullPath,r=new bn(i,o);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function N5(t,e,n){const i={};i.type="file";const o=n.length;for(let r=0;r<o;r++){const s=n[r];i[s.local]=s.xform(i,e[s.server])}return O5(i,t),i}function hT(t,e,n){const i=cT(e);return i===null?null:N5(t,i,n)}function D5(t,e,n,i){const o=cT(e);if(o===null||!pm(o.downloadTokens))return null;const r=o.downloadTokens;if(r.length===0)return null;const s=encodeURIComponent;return r.split(",").map(u=>{const d=t.bucket,h=t.fullPath,p="/b/"+s(d)+"/o/"+s(h),g=gm(p,n,i),x=rT({alt:"media",token:u});return g+x})[0]}function L5(t,e){const n={},i=e.length;for(let o=0;o<i;o++){const r=e[o];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class fT{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){if(!t)throw fm()}function M5(t,e){function n(i,o){const r=hT(t,o,e);return pT(r!==null),r}return n}function V5(t,e){function n(i,o){const r=hT(t,o,e);return pT(r!==null),D5(r,o,t.host,t._protocol)}return n}function mT(t){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=X$():o=Y$():n.getStatus()===402?o=K$(t.bucket):n.getStatus()===403?o=Q$(t.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function F5(t){const e=mT(t);function n(i,o){let r=e(i,o);return i.getStatus()===404&&(r=G$(t.path)),r.serverResponse=o.serverResponse,r}return n}function $5(t,e,n){const i=e.fullServerUrl(),o=gm(i,t.host,t._protocol),r="GET",s=t.maxOperationRetryTime,a=new fT(o,r,V5(t,n),s);return a.errorHandler=F5(e),a}function U5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function B5(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=U5(null,e)),i}function z5(t,e,n,i,o){const r=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let O="";for(let L=0;L<2;L++)O=O+Math.random().toString().slice(2);return O}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=B5(e,i,o),d=L5(u,n),h="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",p="\r\n--"+l+"--",g=oo.getBlob(h,i,p);if(g===null)throw i5();const x={name:u.fullPath},E=gm(r,t.host,t._protocol),S="POST",T=t.maxUploadRetryTime,A=new fT(E,S,M5(t,n),T);return A.urlParams=x,A.headers=s,A.body=g.uploadData(),A.errorHandler=mT(e),A}class j5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o){if(this.sent_)throw js("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const r in o)o.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,o[r].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw js("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw js("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw js("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw js("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class H5 extends j5{initXhr(){this.xhr_.responseType="text"}}function gT(){return new H5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rr(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uT(this._location.path)}get storage(){return this._service}get parent(){const e=S5(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new rr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw s5(e)}}function q5(t,e,n){t._throwIfRoot("uploadBytes");const i=z5(t.storage,t._location,dT(),new oo(e,!0),n);return t.storage.makeRequestWithTokens(i,gT).then(o=>({metadata:o,ref:t}))}function W5(t){t._throwIfRoot("getDownloadURL");const e=$5(t.storage,t._location,dT());return t.storage.makeRequestWithTokens(e,gT).then(n=>{if(n===null)throw o5();return n})}function G5(t,e){const n=A5(t._location.path,e),i=new bn(t._location.bucket,n);return new rr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){return/^[A-Za-z]+:\/\//.test(t)}function Y5(t,e){return new rr(t,e)}function bT(t,e){if(t instanceof bm){const n=t;if(n._bucket==null)throw n5();const i=new rr(n,n._bucket);return e!=null?bT(i,e):i}else return e!==void 0?G5(t,e):t}function X5(t,e){if(e&&K5(e)){if(t instanceof bm)return Y5(t,e);throw bf("To use ref(service, url), the first argument must be a Storage instance.")}else return bT(t,e)}function Iv(t,e){const n=e==null?void 0:e[iT];return n==null?null:bn.makeFromBucketSpec(n,t)}function Q5(t,e,n,i={}){t.host="".concat(e,":").concat(n),t._protocol="http";const{mockUserToken:o}=i;o&&(t._overrideAuthToken=typeof o=="string"?o:Mw(o,t.app.options.projectId))}class bm{constructor(e,n,i,o,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=r,this._bucket=null,this._host=nT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q$,this._maxUploadRetryTime=W$,this._requests=new Set,o!=null?this._bucket=bn.makeFromBucketSpec(o,this._host):this._bucket=Iv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=Iv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ev("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ev("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rr(this,e)}_makeRequest(e,n,i,o,r=!0){if(this._deleted)return new a5(oT());{const s=_5(e,this._appId,i,o,n,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const Tv="@firebase/storage",kv="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="storage";function J5(t,e,n){return t=at(t),q5(t,e,n)}function Z5(t){return t=at(t),W5(t)}function e6(t,e){return t=at(t),X5(t,e)}function t6(t=el(),e){t=at(t);const i=Mu(t,_T).getImmediate({identifier:e}),o=Nw("storage");return o&&n6(i,...o),i}function n6(t,e,n,i={}){Q5(t,e,n,i)}function i6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new bm(n,i,o,e,ko)}function o6(){ui(new Hn(_T,i6,"PUBLIC").setMultipleInstances(!0)),vn(Tv,kv,""),vn(Tv,kv,"esm2017")}o6();const r6={apiKey:"AIzaSyBsTqYHIeFCDYxhVKK8pbvE-6MO_fpwCCk",authDomain:"epn-chat.firebaseapp.com",databaseurl:"import.meta.env.VITE_DATABASEURL",projectId:"epn-chat",storageBucket:"epn-chat.appspot.com",messagingSenderId:"530988007811",appId:"1:530988007811:web:51224d2170fc8a7631f6b6",measurementid:"G-40R9N78X47"},_m=Ep(r6),yc=CE(_m),vT=$I(_m),s6=t6(_m),vm=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n},a6={__name:"LoginPage",setup(t){const e=_w(),n=nn(""),i=nn(""),o=async()=>{try{const l=(await I2(yc,n.value,i.value)).user;l&&!l.emailVerified?(await sendEmailVerification(l),e.push("/verify-email")):e.push("/chat")}catch(a){console.error("Error al iniciar sesin:",a.message)}};S2(yc,a=>{a&&a.emailVerified&&e.push("/chat")});const r=async()=>{try{const a=new Ii,{user:l}=await G2(yc,a);l&&(l.providerData.length===1&&l.providerData[0].providerId==="google.com"&&await registerUser(l),e.push("/chat"))}catch(a){console.error("Error al iniciar sesin con Google:",a),alert("Error al iniciar sesin con Google. Intenta nuevamente.")}},s=()=>{e.push("/register")};return(a,l)=>{const u=Kx("ion-icon");return wn(),On(se(vp),null,{default:ge(()=>[ue(se(gp),null,{default:ge(()=>[ue(se(Mc),null,{default:ge(()=>[ue(se(_p),null,{default:ge(()=>[At("Login")]),_:1})]),_:1})]),_:1}),ue(se(mp),null,{default:ge(()=>[ue(se(bp),null,{default:ge(()=>[ue(se(Br),null,{default:ge(()=>[ue(se(ho),{position:"floating"},{default:ge(()=>[At("Correo Electrnico")]),_:1}),ue(se(Ur),{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=d=>n.value=d),type:"email",required:""},null,8,["modelValue"])]),_:1}),ue(se(Br),null,{default:ge(()=>[ue(se(ho),{position:"floating"},{default:ge(()=>[At("Contrasea")]),_:1}),ue(se(Ur),{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=d=>i.value=d),type:"password",required:""},null,8,["modelValue"])]),_:1})]),_:1}),ue(se(so),{expand:"full",onClick:o},{default:ge(()=>[At("Iniciar Sesin")]),_:1}),ue(se(so),{expand:"full",color:"danger",onClick:r},{default:ge(()=>[ue(u,{slot:"start"}),At(" Iniciar Sesin con Google ")]),_:1}),ue(se(so),{expand:"full",color:"secondary",onClick:s},{default:ge(()=>[At(" Ir a Registro ")]),_:1})]),_:1})]),_:1})}}},l6=vm(a6,[["__scopeId","data-v-1d1b2191"]]),c6={__name:"RegisterPage",setup(t){const e=_w(),n=nn(""),i=nn(""),o=nn(""),r=async()=>{try{const a=(await E2(yc,i.value,o.value)).user;await x2(a,{displayName:n.value}),await T2(a),await z$(FI(vT,"users",a.uid),{username:n.value,email:i.value}),alert("Usuario registrado exitosamente. Se ha enviado un correo de verificacin."),e.push("/login")}catch(s){console.error("Error al registrar usuario:",s),alert("Error al registrar usuario: ".concat(s.message))}};return(s,a)=>(wn(),On(se(vp),null,{default:ge(()=>[ue(se(gp),null,{default:ge(()=>[ue(se(Mc),null,{default:ge(()=>[ue(se(_p),null,{default:ge(()=>[At("Registro")]),_:1})]),_:1})]),_:1}),ue(se(mp),null,{default:ge(()=>[ue(se(bp),null,{default:ge(()=>[ue(se(Br),null,{default:ge(()=>[ue(se(ho),{position:"floating"},{default:ge(()=>[At("Nombre de Usuario")]),_:1}),ue(se(Ur),{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=l=>n.value=l),required:""},null,8,["modelValue"])]),_:1}),ue(se(Br),null,{default:ge(()=>[ue(se(ho),{position:"floating"},{default:ge(()=>[At("Correo Electrnico")]),_:1}),ue(se(Ur),{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=l=>i.value=l),type:"email",required:""},null,8,["modelValue"])]),_:1}),ue(se(Br),null,{default:ge(()=>[ue(se(ho),{position:"floating"},{default:ge(()=>[At("Contrasea")]),_:1}),ue(se(Ur),{modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=l=>o.value=l),type:"password",required:""},null,8,["modelValue"])]),_:1})]),_:1}),ue(se(so),{expand:"full",onClick:r},{default:ge(()=>[At("Registrarse")]),_:1})]),_:1})]),_:1}))}},u6=vm(c6,[["__scopeId","data-v-cfa64415"]]),d6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z'/></svg>",h6=["href"],f6=Gn({__name:"ChatPage",setup(t){const e=x$(vT,"messages"),n=nn([]);let i=null;ah.onAuthStateChanged(T=>{i=T?T.uid:null}),j$(V$(e,F$("timestamp","asc")),T=>{n.value=T.docs.map(A=>({id:A.id,...A.data()}))});const o=nn("");let r=null;const s=nn(null),a=nn({isOpen:!1,message:"",duration:3e3,color:"danger"}),l=(T,A="danger")=>{a.value.message=T,a.value.color=A,a.value.isOpen=!0},u=async()=>{var T;if(o.value.trim()!==""||r){let A=null,O="text";if(r)if(r.type==="image/jpeg")A=await h(r,"images"),O="image";else if(r.type==="application/pdf")A=await h(r,"pdf"),O="pdf";else{l("El archivo no es un formato permitido.");return}await yv(e,{sender:i,senderName:((T=ah.currentUser)==null?void 0:T.displayName)||"Usuario Annimo",text:o.value,fileUrl:A,type:O,timestamp:new Date().toISOString()}),o.value="",r=null,s.value&&(s.value.value="")}},d=T=>{const A=T.target;if(A.files&&A.files.length>0){const O=A.files[0],L=O.type,V=O.name.toLowerCase();O.size<=5*1024*1024?L==="image/jpeg"&&V.endsWith(".jpeg")||L==="application/pdf"?r=O:(l("Solo se permiten imgenes en formato JPEG o archivos PDF."),r=null,s.value&&(s.value.value="")):(l("El archivo no debe superar los 5 MB."),r=null,s.value&&(s.value.value=""))}},h=async(T,A)=>{const O=e6(s6,"".concat(A,"/").concat(T.name));return await J5(O,T),Z5(O)},p=()=>{var T;(T=s.value)==null||T.click()},g=T=>{const A=document.createElement("a");A.href=T,A.download="archivo.pdf",document.body.appendChild(A),A.click(),document.body.removeChild(A)},x=async()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async T=>{var L;const{latitude:A,longitude:O}=T.coords;await yv(e,{sender:i,senderName:((L=ah.currentUser)==null?void 0:L.displayName)||"Usuario Annimo",text:"https://www.google.com/maps?q=".concat(A,",").concat(O),type:"location",timestamp:new Date().toISOString()})},T=>{alert("Error obteniendo la ubicacin: "+T.message)}):alert("La geolocalizacin no es soportada por este navegador.")},E=T=>({"message-received":T.sender!==i,"message-sent":T.sender===i});Gf(()=>{"geolocation"in navigator?navigator.permissions.query({name:"geolocation"}).then(T=>{T.state==="granted"?(console.log("Permisos de geolocalizacin ya concedidos"),S()):T.state==="prompt"?(console.log("Solicitando permisos de geolocalizacin..."),T.onchange=()=>{T.state==="granted"?(console.log("Permisos de geolocalizacin concedidos"),S()):console.warn("Permisos de geolocalizacin no concedidos")},navigator.geolocation.getCurrentPosition(A=>{console.log("Ubicacin obtenida:",A.coords.latitude,A.coords.longitude)},A=>{console.error("Error al obtener la ubicacin:",A),alert("Error al obtener la ubicacin: "+A.message)})):console.warn("Permisos de geolocalizacin no concedidos")}).catch(T=>{console.error("Error al consultar permisos de geolocalizacin:",T),alert("Error al consultar permisos de geolocalizacin: "+T.message)}):(console.warn("La geolocalizacin no est soportada por este navegador."),alert("La geolocalizacin no est soportada por este navegador."))});const S=()=>{navigator.geolocation.getCurrentPosition(T=>{console.log("Ubicacin obtenida:",T.coords.latitude,T.coords.longitude)},T=>{console.error("Error al obtener la ubicacin:",T),alert("Error al obtener la ubicacin: "+T.message)})};return(T,A)=>(wn(),On(se(vp),null,{default:ge(()=>[ue(se(gp),null,{default:ge(()=>[ue(se(Mc),null,{default:ge(()=>[ue(se(xD),{slot:"start"},{default:ge(()=>[ue(se(Iw),{defaultHref:"/login"})]),_:1}),ue(se(_p),null,{default:ge(()=>[At("Chat")]),_:1})]),_:1})]),_:1}),ue(se(mp),{fullscreen:!0},{default:ge(()=>[ue(se(bp),null,{default:ge(()=>[(wn(!0),VC(Jn,null,pC(n.value,(O,L)=>(wn(),On(se(Br),{key:L,class:hu(E(O))},{default:ge(()=>[O.sender!==se(i)?(wn(),On(se(ho),{key:0,class:"username"},{default:ge(()=>[At(wg(O.senderName),1)]),_:2},1024)):$s("",!0),O.type==="text"?(wn(),On(se(ho),{key:1},{default:ge(()=>[At(wg(O.text),1)]),_:2},1024)):$s("",!0),O.type==="image"?(wn(),On(se(SD),{key:2,src:O.fileUrl},null,8,["src"])):$s("",!0),O.type==="pdf"?(wn(),On(se(so),{key:3,onClick:V=>g(O.fileUrl)},{default:ge(()=>[At(" Descargar PDF ")]),_:2},1032,["onClick"])):$s("",!0),O.type==="location"?(wn(),On(se(ho),{key:4},{default:ge(()=>[Tc("a",{href:O.text,target:"_blank"},"Ver ubicacin",8,h6)]),_:2},1024)):$s("",!0)]),_:2},1032,["class"]))),128))]),_:1})]),_:1}),ue(se(CD),null,{default:ge(()=>[ue(se(Mc),null,{default:ge(()=>[ue(se(Ur),{modelValue:o.value,"onUpdate:modelValue":A[0]||(A[0]=O=>o.value=O),onKeyup:y1(u,["enter"]),placeholder:"Escribe un mensaje"},null,8,["modelValue"]),ue(se(so),{onClick:u},{default:ge(()=>[ue(se(FD),{icon:se(d6)},null,8,["icon"])]),_:1}),ue(se(so),{onClick:p},{default:ge(()=>[At(" Adjuntar Archivo ")]),_:1}),ue(se(so),{onClick:x},{default:ge(()=>[At(" Enviar Ubicacin ")]),_:1}),Tc("input",{type:"file",accept:"image/jpeg,application/pdf",onChange:d,ref_key:"fileInput",ref:s,style:{display:"none"}},null,544)]),_:1})]),_:1}),ue(se(UD),{"is-open":a.value.isOpen,message:a.value.message,duration:a.value.duration,color:a.value.color,onDidDismiss:A[1]||(A[1]=O=>a.value.isOpen=!1)},null,8,["is-open","message","duration","color"])]),_:1}))}}),p6=vm(f6,[["__scopeId","data-v-40d233b9"]]),m6=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:l6},{path:"/register",name:"Register",component:u6},{path:"/chat",name:"Chat",component:p6}],yT=qD({history:WD(),routes:m6});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Map,b6={activated:!1,tokenObservers:[]};function Wn(t){return g6.get(t)||Object.assign({},b6)}const xv={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n,i,o,r){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=o,o>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Oa,this.pending.promise.catch(n=>{}),await v6(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Oa,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function v6(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Zc=new ps("appCheck","AppCheck",y6);function wT(t){if(!Wn(t).activated)throw Zc.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="firebase-app-check-database",E6=1,_f="firebase-app-check-store";let nc=null;function I6(){return nc||(nc=new Promise((t,e)=>{try{const n=indexedDB.open(w6,E6);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var o;e(Zc.create("storage-open",{originalErrorMessage:(o=i.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=i=>{const o=i.target.result;switch(i.oldVersion){case 0:o.createObjectStore(_f,{keyPath:"compositeKey"})}}}catch(n){e(Zc.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),nc)}function T6(t,e){return k6(x6(t),e)}async function k6(t,e){const i=(await I6()).transaction(_f,"readwrite"),r=i.objectStore(_f).put({compositeKey:t,value:e});return new Promise((s,a)=>{r.onsuccess=l=>{s()},i.onerror=l=>{var u;a(Zc.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function x6(t){return"".concat(t.options.appId,"-").concat(t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Za("@firebase/app-check");function Cv(t,e){return $w()?T6(t,e).catch(n=>{vf.warn("Failed to write token to IndexedDB. Error: ".concat(n))}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={error:"UNKNOWN_ERROR"};function S6(t){return Nu.encodeString(JSON.stringify(t),!1)}async function yf(t,e=!1){const n=t.app;wT(n);const i=Wn(n);let o=i.token,r;if(o&&!na(o)&&(i.token=void 0,o=void 0),!o){const l=await i.cachedTokenPromise;l&&(na(l)?o=l:await Cv(n,void 0))}if(!e&&o&&na(o))return{token:o.token};let s=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),o=await Wn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?vf.warn(l.message):vf.error(l),r=l}let a;return o?r?na(o)?a={token:o.token,internalError:r}:a=Av(r):(a={token:o.token},i.token=o,await Cv(n,o)):a=Av(r),s&&O6(n,a),a}async function A6(t){const e=t.app;wT(e);const{provider:n}=Wn(e);{const{token:i}=await n.getToken();return{token:i}}}function R6(t,e,n,i){const{app:o}=t,r=Wn(o),s={next:n,error:i,type:e};if(r.tokenObservers=[...r.tokenObservers,s],r.token&&na(r.token)){const a=r.token;Promise.resolve().then(()=>{n({token:a.token}),Sv(t)}).catch(()=>{})}r.cachedTokenPromise.then(()=>Sv(t))}function ET(t,e){const n=Wn(t),i=n.tokenObservers.filter(o=>o.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function Sv(t){const{app:e}=t,n=Wn(e);let i=n.tokenRefresher;i||(i=P6(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function P6(t){const{app:e}=t;return new _6(async()=>{const n=Wn(e);let i;if(n.token?i=await yf(t,!0):i=await yf(t),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=Wn(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const o=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},xv.RETRIAL_MIN_WAIT,xv.RETRIAL_MAX_WAIT)}function O6(t,e){const n=Wn(t).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch(o){}}function na(t){return t.expireTimeMillis-Date.now()>0}function Av(t){return{token:S6(C6),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Wn(this.app);for(const n of e)ET(this.app,n.next);return Promise.resolve()}}function D6(t,e){return new N6(t,e)}function L6(t){return{getToken:e=>yf(t,e),getLimitedUseToken:()=>A6(t),addTokenListener:e=>R6(t,"INTERNAL",e),removeTokenListener:e=>ET(t.app,e)}}const M6="@firebase/app-check",V6="0.8.4",F6="app-check",Rv="app-check-internal";function $6(){ui(new Hn(F6,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return D6(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Rv).initialize()})),ui(new Hn(Rv,t=>{const e=t.getProvider("app-check").getImmediate();return L6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),vn(M6,V6)}$6();const IT=Symbol("firebaseApp");function U6(t){return Zf()&&Pt(IT,null)||el(t)}const ic=new WeakMap;function B6(t,e){if(!ic.has(t)){const n=dx(!0);ic.set(t,n);const{unmount:i}=e;e.unmount=()=>{i.call(e),n.stop(),ic.delete(t)}}return ic.get(t)}const z6=new WeakMap,oc=new WeakMap;function j6(t){const e=U6(t);if(!oc.has(e)){let n;const o=[new Promise(r=>{n=r}),r=>{oc.set(e,r),n(r.value)}];oc.set(e,o)}return oc.get(e)}function H6(t,e){fE(e,n=>{const i=j6();t.value=n,Array.isArray(i)&&i[1](t)})}var Pv={};const Ov="@firebase/database",Nv="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT="";function q6(t){TT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Na(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $i(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new W6(e)}}catch(e){}return new G6},jo=kT("localStorage"),K6=kT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Za("@firebase/database"),Y6=function(){let t=1;return function(){return t++}}(),xT=function(t){const e=gL(t),n=new dL;n.update(e);const i=n.digest();return Nu.encodeByteArray(i)},dl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=dl.apply(null,i):typeof i=="object"?e+=Vt(i):e+=i,e+=" "}return e};let ba=null,Dv=!0;const X6=function(t,e){Z(!e,"Can't turn on custom loggers persistently."),Wr.logLevel=xe.VERBOSE,ba=Wr.log.bind(Wr)},Kt=function(...t){if(Dv===!0&&(Dv=!1,ba===null&&K6.get("logging_enabled")===!0&&X6()),ba){const e=dl.apply(null,t);ba(e)}},hl=function(t){return function(...e){Kt(t,...e)}},wf=function(...t){const e="FIREBASE INTERNAL ERROR: "+dl(...t);Wr.error(e)},sr=function(...t){const e="FIREBASE FATAL ERROR: ".concat(dl(...t));throw Wr.error(e),new Error(e)},yn=function(...t){const e="FIREBASE WARNING: "+dl(...t);Wr.warn(e)},Q6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},CT=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},J6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},cs="[MIN_NAME]",ar="[MAX_NAME]",Es=function(t,e){if(t===e)return 0;if(t===cs||e===ar)return-1;if(e===cs||t===ar)return 1;{const n=Lv(t),i=Lv(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Z6=function(t,e){return t===e?0:t<e?-1:1},Hs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Vt(e))},ym=function(t){if(typeof t!="object"||t===null)return Vt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Vt(e[i]),n+=":",n+=ym(t[e[i]]);return n+="}",n},ST=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function Cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const AT=function(t){Z(!CT(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,r,s,a,l;t===0?(r=0,s=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=a+i,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,s=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(o?1:0),u.reverse();const d=u.join("");let h="";for(l=0;l<64;l+=8){let p=parseInt(d.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},eU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},nU=new RegExp("^-?(0*)\\d{1,10}$"),iU=-2147483648,oU=2147483647,Lv=function(t){if(nU.test(t)){const e=Number(t);if(e>=iU&&e<=oU)return e}return null},fl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw yn("Exception was thrown by user callback.",n),e},Math.floor(0))}},rU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_a=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){yn('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" are invalid. This usually indicates your app was not initialized correctly.'))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yn(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="5",RT="v",PT="s",OT="r",NT="f",DT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LT="ls",MT="p",Ef="ac",VT="websocket",FT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n,i,o,r=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(n)}}function cU(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function $T(t,e,n){Z(typeof e=="string","typeof type must == string"),Z(typeof n=="object","typeof params must == object");let i;if(e===VT)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===FT)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cU(t)&&(n.ns=t.namespace);const o=[];return Cn(n,(r,s)=>{o.push(r+"="+s)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.counters_={}}incrementCounter(e,n=1){$i(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return YD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={},th={};function Em(t){const e=t.toString();return eh[e]||(eh[e]=new uU),eh[e]}function dU(t,e){const n=t.toString();return th[n]||(th[n]=e()),th[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&fl(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="start",fU="close",pU="pLPCommand",mU="pRTLPCB",UT="id",BT="pw",zT="ser",gU="cb",bU="seg",_U="ts",vU="d",yU="dframe",jT=1870,HT=30,wU=jT-HT,EU=25e3,IU=3e4;class Or{constructor(e,n,i,o,r,s,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=r,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hl(e),this.stats_=Em(n),this.urlFn=l=>(this.appCheckToken&&(l[Ef]=this.appCheckToken),$T(n,FT,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new hU(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IU)),J6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Im((...r)=>{const[s,a,l,u,d]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Mv)this.id=a,this.password=l;else if(s===fU)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...r)=>{const[s,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Mv]="t",i[zT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[gU]=this.scriptTagHolder.uniqueCallbackIdentifier),i[RT]=wm,this.transportSessionId&&(i[PT]=this.transportSessionId),this.lastSessionId&&(i[LT]=this.lastSessionId),this.applicationId&&(i[MT]=this.applicationId),this.appCheckToken&&(i[Ef]=this.appCheckToken),typeof location<"u"&&location.hostname&&DT.test(location.hostname)&&(i[OT]=NT);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Or.forceAllow_=!0}static forceDisallow(){Or.forceDisallow_=!0}static isAvailable(){return Or.forceAllow_?!0:!Or.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!eU()&&!tU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Vt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Rw(n),o=ST(i,wU);for(let r=0;r<o.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[yU]="t",i[UT]=e,i[BT]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Vt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Im{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Y6(),window[pU+this.uniqueCallbackIdentifier]=e,window[mU+this.uniqueCallbackIdentifier]=n,this.myIFrame=Im.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Kt("frame writing exception"),a.stack&&Kt(a.stack),Kt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Kt("No IE domain setting required")}catch(n){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[UT]=this.myID,e[BT]=this.myPW,e[zT]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+HT+i.length<=jT;){const s=this.pendingSegs.shift();i=i+"&"+bU+o+"="+s.seg+"&"+_U+o+"="+s.ts+"&"+vU+o+"="+s.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(EU)),r=()=>{clearTimeout(o),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Kt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=16384,kU=45e3;let eu=null;typeof MozWebSocket<"u"?eu=MozWebSocket:typeof WebSocket<"u"&&(eu=WebSocket);class Nn{constructor(e,n,i,o,r,s,a){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hl(this.connId),this.stats_=Em(n),this.connURL=Nn.connectionURL_(n,s,a,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,r){const s={};return s[RT]=wm,typeof location<"u"&&location.hostname&&DT.test(location.hostname)&&(s[OT]=NT),n&&(s[PT]=n),i&&(s[LT]=i),o&&(s[Ef]=o),r&&(s[MT]=r),$T(e,VT,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jo.set("previous_websocket_failure",!0);try{let i;Fw(),this.mySock=new eu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&eu!==null&&!Nn.forceDisallow_}static previouslyFailed(){return jo.isInMemoryStorage||jo.get("previous_websocket_failure")===!0}markConnectionHealthy(){jo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Na(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Vt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=ST(n,TU);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kU))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nn.responsesRequiredToBeHealthy=2;Nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Or,Nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Nn&&Nn.isAvailable();let i=n&&!Nn.previouslyFailed();if(e.webSocketOnly&&(n||yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Nn];else{const o=this.transports_=[];for(const r of qa.ALL_TRANSPORTS)r&&r.isAvailable()&&o.push(r);qa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=6e4,CU=5e3,SU=10*1024,AU=100*1024,nh="t",Vv="d",RU="s",Fv="r",PU="e",$v="o",Uv="a",Bv="n",zv="p",OU="h";class NU{constructor(e,n,i,o,r,s,a,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=r,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hl("c:"+this.id+":"),this.transportManager_=new qa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=_a(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>AU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(nh in e){const n=e[nh];n===Uv?this.upgradeIfSecondaryHealthy_():n===Fv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$v&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Hs("t",e),i=Hs("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Uv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Hs("t",e),i=Hs("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Hs(nh,e);if(Vv in e){const i=e[Vv];if(n===OU){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Bv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===RU?this.onConnectionShutdown_(i):n===Fv?this.onReset_(i):n===PU?wf("Server Error: "+i):n===$v?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wm!==i&&yn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),_a(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_a(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(CU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.allowedEvents_=e,this.listeners_={},Z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let r=0;r<o.length;r++)if(o[r].callback===n&&(!i||i===o[r].context)){o.splice(r,1);return}}validateEventType_(e){Z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends WT{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tu}getInitialEvent(e){return Z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=32,Hv=768;class it{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function We(){return new it("")}function Pe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Eo(t){return t.pieces_.length-t.pieceNum_}function tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new it(t.pieces_,e)}function GT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function DU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function KT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function YT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new it(e,0)}function Rt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof it)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new it(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function kn(t,e){const n=Pe(t),i=Pe(e);if(n===null)return e;if(n===i)return kn(tt(t),tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function XT(t,e){if(Eo(t)!==Eo(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Fn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Eo(t)>Eo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class LU{constructor(e,n){this.errorPrefix_=n,this.parts_=KT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Lu(this.parts_[i]);QT(this)}}function MU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Lu(e),QT(t)}function VU(t){const e=t.parts_.pop();t.byteLength_-=Lu(e),t.parts_.length>0&&(t.byteLength_-=1)}function QT(t){if(t.byteLength_>Hv)throw new Error(t.errorPrefix_+"has a key path longer than "+Hv+" bytes ("+t.byteLength_+").");if(t.parts_.length>jv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jv+") or object contains a cycle "+Mo(t))}function Mo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends WT{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Tm}getInitialEvent(e){return Z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=1e3,FU=60*5*1e3,qv=30*1e3,$U=1.3,UU=3e4,BU="server_kill",Wv=3;class Pi extends qT{constructor(e,n,i,o,r,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Pi.nextPersistentConnectionId_++,this.log_=hl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qs,this.maxReconnectDelay_=FU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Fw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&tu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,r={r:o,a:e,b:n};this.log_(Vt(r)),Z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new Oa,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,o){this.initConnection_();const r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Z(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const a={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(s).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const r={p:i},s="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(s,r,a=>{const l=a.d,u=a.s;Pi.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$i(e,"w")){const i=es(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();yn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ".concat(o," at ").concat(r," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=cL(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const r=o.s,s=o.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const r={p:e},s="n";o&&(r.q=i,r.t=o),this.sendRequest(s,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,s=>{o&&setTimeout(()=>{o(s.s,s.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,r){this.initConnection_();const s={p:n,d:i};r!==void 0&&(s.h=r),this.outstandingPuts_.push({action:e,request:s,onComplete:o}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Vt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wf("Unrecognized action received from server: "+Vt(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>UU&&(this.reconnectDelay_=qs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$U)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Pi.nextConnectionId_++,r=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,i())},u=function(h){Z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?Kt("getToken() completed but was canceled"):(Kt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,a=new NU(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,g=>{yn(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(BU)},r))}catch(h){this.log_("Failed to get token: "+h),s||(this.repoInfo_.nodeAdmin&&yn(h),l())}}}interrupt(e){Kt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qh(this.interruptReasons_)&&(this.reconnectDelay_=qs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>ym(r)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new it(e).toString();let o;if(this.listens.has(i)){const r=this.listens.get(i);o=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){Kt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wv&&(this.reconnectDelay_=qv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Kt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+TT.replace(/\./g,"-")]=1,yp()?e["framework.cordova"]=1:Vw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tu.getInstance().currentlyOnline();return qh(this.interruptReasons_)&&e}}Pi.nextPersistentConnectionId_=0;Pi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ne(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Ne(cs,e),o=new Ne(cs,n);return this.compare(i,o)!==0}minPost(){return Ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;class JT extends Ju{static get __EMPTY_NODE(){return rc}static set __EMPTY_NODE(e){rc=e}compare(e,n){return Es(e.name,n.name)}isDefinedOn(e){throw fs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ne.MIN}maxPost(){return new Ne(ar,rc)}makePost(e,n){return Z(typeof e=="string","KeyIndex indexValue must always be a string."),new Ne(e,rc)}toString(){return".key"}}const Gr=new JT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,i,o,r=null){this.isReverse_=o,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,o&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class St{constructor(e,n,i,o,r){this.key=e,this.value=n,this.color=i!=null?i:St.RED,this.left=o!=null?o:ln.EMPTY_NODE,this.right=r!=null?r:ln.EMPTY_NODE}copy(e,n,i,o,r){return new St(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,o!=null?o:this.left,r!=null?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const r=i(e,o.key);return r<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):r===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ln.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return ln.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}St.RED=!0;St.BLACK=!1;class zU{copy(e,n,i,o,r){return this}insert(e,n,i){return new St(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ln{constructor(e,n=ln.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ln(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,St.BLACK,null,null))}remove(e){return new ln(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,St.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new sc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new sc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new sc(this.root_,null,this.comparator_,!0,e)}}ln.EMPTY_NODE=new zU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t,e){return Es(t.name,e.name)}function km(t,e){return Es(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If;function HU(t){If=t}const ZT=function(t){return typeof t=="number"?"number:"+AT(t):"string:"+t},ek=function(t){if(t.isLeafNode()){const e=t.val();Z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$i(e,".sv"),"Priority must be a string or number.")}else Z(t===If||t.isEmpty(),"priority of unexpected type.");Z(t===If||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gv;class xt{constructor(e,n=xt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ek(this.priorityNode_)}static set __childrenNodeConstructor(e){Gv=e}static get __childrenNodeConstructor(){return Gv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:Pe(e)===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:xt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Pe(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Z(i!==".priority"||Eo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,xt.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ZT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=AT(this.value_):e+=this.value_,this.lazyHash_=xT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xt.__childrenNodeConstructor?-1:(Z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=xt.VALUE_TYPE_ORDER.indexOf(n),r=xt.VALUE_TYPE_ORDER.indexOf(i);return Z(o>=0,"Unknown leaf type: "+n),Z(r>=0,"Unknown leaf type: "+i),o===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}xt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tk,nk;function qU(t){tk=t}function WU(t){nk=t}class GU extends Ju{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),r=i.compareTo(o);return r===0?Es(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ne.MIN}maxPost(){return new Ne(ar,new xt("[PRIORITY-POST]",nk))}makePost(e,n){const i=tk(e);return new Ne(n,new xt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Qt=new GU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=Math.log(2);class YU{constructor(e){const n=r=>parseInt(Math.log(r)/KU,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const nu=function(t,e,n,i){t.sort(e);const o=function(l,u){const d=u-l;let h,p;if(d===0)return null;if(d===1)return h=t[l],p=n?n(h):h,new St(p,h.node,St.BLACK,null,null);{const g=parseInt(d/2,10)+l,x=o(l,g),E=o(g+1,u);return h=t[g],p=n?n(h):h,new St(p,h.node,St.BLACK,x,E)}},r=function(l){let u=null,d=null,h=t.length;const p=function(x,E){const S=h-x,T=h;h-=x;const A=o(S+1,T),O=t[S],L=n?n(O):O;g(new St(L,O.node,E,null,A))},g=function(x){u?(u.left=x,u=x):(d=x,u=x)};for(let x=0;x<l.count;++x){const E=l.nextBitIsOne(),S=Math.pow(2,l.count-(x+1));E?p(S,St.BLACK):(p(S,St.BLACK),p(S,St.RED))}return d},s=new YU(t.length),a=r(s);return new ln(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih;const Ir={};class Ci{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Z(Ir&&Qt,"ChildrenNode.ts has not been loaded"),ih=ih||new Ci({".priority":Ir},{".priority":Qt}),ih}get(e){const n=es(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ln?n:null}hasIndex(e){return $i(this.indexSet_,e.toString())}addIndex(e,n){Z(e!==Gr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const r=n.getIterator(Ne.Wrap);let s=r.getNext();for(;s;)o=o||e.isDefinedOn(s.node),i.push(s),s=r.getNext();let a;o?a=nu(i,e.getCompare()):a=Ir;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Ci(d,u)}addToIndexes(e,n){const i=$c(this.indexes_,(o,r)=>{const s=es(this.indexSet_,r);if(Z(s,"Missing index implementation for "+r),o===Ir)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ne.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),nu(a,s.getCompare())}else return Ir;else{const a=n.get(e.name);let l=o;return a&&(l=l.remove(new Ne(e.name,a))),l.insert(e,e.node)}});return new Ci(i,this.indexSet_)}removeFromIndexes(e,n){const i=$c(this.indexes_,o=>{if(o===Ir)return o;{const r=n.get(e.name);return r?o.remove(new Ne(e.name,r)):o}});return new Ci(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws;class Be{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&ek(this.priorityNode_),this.children_.isEmpty()&&Z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ws||(Ws=new Be(new ln(km),null,Ci.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ws}updatePriority(e){return this.children_.isEmpty()?this:new Be(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ws:n}}getChild(e){const n=Pe(e);return n===null?this:this.getImmediateChild(n).getChild(tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Ne(e,n);let o,r;n.isEmpty()?(o=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const s=o.isEmpty()?Ws:this.priorityNode_;return new Be(o,s,r)}}updateChild(e,n){const i=Pe(e);if(i===null)return n;{Z(Pe(e)!==".priority"||Eo(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(tt(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,r=!0;if(this.forEachChild(Qt,(s,a)=>{n[s]=a.val(e),i++,r&&Be.INTEGER_REGEXP_.test(s)?o=Math.max(o,Number(s)):r=!1}),!e&&r&&o<2*i){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ZT(this.getPriority().val())+":"),this.forEachChild(Qt,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":xT(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const r=o.getPredecessorKey(new Ne(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ne(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ne(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Ne.Wrap);let r=o.peek();for(;r!=null&&n.compare(r,e)<0;)o.getNext(),r=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Ne.Wrap);let r=o.peek();for(;r!=null&&n.compare(r,e)>0;)o.getNext(),r=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pl?-1:0}withIndex(e){if(e===Gr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Be(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Gr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Qt),o=n.getIterator(Qt);let r=i.getNext(),s=o.getNext();for(;r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=i.getNext(),s=o.getNext()}return r===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Gr?null:this.indexMap_.get(e.toString())}}Be.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class XU extends Be{constructor(){super(new ln(km),Be.EMPTY_NODE,Ci.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Be.EMPTY_NODE}isEmpty(){return!1}}const pl=new XU;Object.defineProperties(Ne,{MIN:{value:new Ne(cs,Be.EMPTY_NODE)},MAX:{value:new Ne(ar,pl)}});JT.__EMPTY_NODE=Be.EMPTY_NODE;xt.__childrenNodeConstructor=Be;HU(pl);WU(pl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=!0;function Yt(t,e=null){if(t===null)return Be.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new xt(n,Yt(e))}if(!(t instanceof Array)&&QU){const n=[];let i=!1;if(Cn(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Yt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Ne(s,l)))}}),n.length===0)return Be.EMPTY_NODE;const r=nu(n,jU,s=>s.name,km);if(i){const s=nu(n,Qt.getCompare());return new Be(r,Yt(e),new Ci({".priority":s},{".priority":Qt}))}else return new Be(r,Yt(e),Ci.Default)}else{let n=Be.EMPTY_NODE;return Cn(t,(i,o)=>{if($i(t,i)&&i.substring(0,1)!=="."){const r=Yt(o);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Yt(e))}}qU(Yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU extends Ju{constructor(e){super(),this.indexPath_=e,Z(!Se(e)&&Pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),r=i.compareTo(o);return r===0?Es(e.name,n.name):r}makePost(e,n){const i=Yt(e),o=Be.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ne(n,o)}maxPost(){const e=Be.EMPTY_NODE.updateChild(this.indexPath_,pl);return new Ne(ar,e)}toString(){return KT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU extends Ju{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Es(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ne.MIN}maxPost(){return Ne.MAX}makePost(e,n){const i=Yt(e);return new Ne(n,i)}toString(){return".value"}}const eB=new ZU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){return{type:"value",snapshotNode:t}}function nB(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function iB(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Kv(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function oB(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cs}hasEnd(){return this.endSet_}getIndexEndValue(){return Z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ar}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const e=new xm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Yv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Qt?n="$priority":t.index_===eB?n="$value":t.index_===Gr?n="$key":(Z(t.index_ instanceof JU,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Vt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Vt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Vt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Vt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Vt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends qT{constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=hl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,o){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const s=iu.getListenId_(e,i),a={};this.listens_[s]=a;const l=Yv(e._queryParams);this.restRequest_(r+".json",l,(u,d)=>{let h=d;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(r,h,!1,i),es(this.listens_,s)===a){let p;u?u===401?p="permission_denied":p="rest_error:"+u:p="ok",o(p,null)}})}unlisten(e,n){const i=iu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Yv(e._queryParams),i=e._path.toString(),o=new Oa;return this.restRequest_(i+".json",n,(r,s)=>{let a=s;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),o.resolve(a)):o.reject(new Error(a))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,r])=>{o&&o.accessToken&&(n.auth=o.accessToken),r&&r.token&&(n.ac=r.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ms(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Na(a.responseText)}catch(u){yn("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&yn("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.rootNode_=Be.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(){return{value:null,children:new Map}}function ik(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Pe(e);t.children.has(i)||t.children.set(i,ou());const o=t.children.get(i);e=tt(e),ik(o,e,n)}}function Tf(t,e,n){t.value!==null?n(e,t.value):sB(t,(i,o)=>{const r=new it(e.toString()+"/"+i);Tf(o,r,n)})}function sB(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Cn(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=10*1e3,lB=30*1e3,cB=5*60*1e3;class uB{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aB(e);const i=Qv+(lB-Qv)*Math.random();_a(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Cn(e,(o,r)=>{r>0&&$i(this.statsToReport_,o)&&(n[o]=r,i=!0)}),i&&this.server_.reportStats(n),_a(this.reportStats_.bind(this),Math.floor(Math.random()*2*cB))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(oi||(oi={}));function ok(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=oi.ACK_USER_WRITE,this.source=ok()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return Z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new it(e));return new ru(We(),n,this.revert)}}else return Z(Pe(this.path)===e,"operationForChild called for unrelated child."),new ru(tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=oi.OVERWRITE}operationForChild(e){return Se(this.path)?new lr(this.source,We(),this.snap.getImmediateChild(e)):new lr(this.source,tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=oi.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new it(e));return n.isEmpty()?null:n.value?new lr(this.source,We(),n.value):new Wa(this.source,We(),n)}else return Z(Pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wa(this.source,tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=Pe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function dB(t,e,n,i){const o=[],r=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&r.push(oB(s.childName,s.snapshotNode))}),Gs(t,o,"child_removed",e,i,n),Gs(t,o,"child_added",e,i,n),Gs(t,o,"child_moved",r,i,n),Gs(t,o,"child_changed",e,i,n),Gs(t,o,"value",e,i,n),o}function Gs(t,e,n,i,o,r){const s=i.filter(a=>a.type===n);s.sort((a,l)=>fB(t,a,l)),s.forEach(a=>{const l=hB(t,a,r);o.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function hB(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fB(t,e,n){if(e.childName==null||n.childName==null)throw fs("Should only compare child_ events.");const i=new Ne(e.childName,e.snapshotNode),o=new Ne(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){return{eventCache:t,serverCache:e}}function va(t,e,n,i){return ak(new Cm(e,n,i),t.serverCache)}function lk(t,e,n,i){return ak(t.eventCache,new Cm(e,n,i))}function kf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function cr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh;const pB=()=>(oh||(oh=new ln(Z6)),oh);class Ze{constructor(e,n=pB()){this.value=e,this.children=n}static fromObject(e){let n=new Ze(null);return Cn(e,(i,o)=>{n=n.set(new it(i),o)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:We(),value:this.value};if(Se(e))return null;{const i=Pe(e),o=this.children.get(i);if(o!==null){const r=o.findRootMostMatchingPathAndValue(tt(e),n);return r!=null?{path:Rt(new it(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=Pe(e),i=this.children.get(n);return i!==null?i.subtree(tt(e)):new Ze(null)}}set(e,n){if(Se(e))return new Ze(n,this.children);{const i=Pe(e),r=(this.children.get(i)||new Ze(null)).set(tt(e),n),s=this.children.insert(i,r);return new Ze(this.value,s)}}remove(e){if(Se(e))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const n=Pe(e),i=this.children.get(n);if(i){const o=i.remove(tt(e));let r;return o.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,o),this.value===null&&r.isEmpty()?new Ze(null):new Ze(this.value,r)}else return this}}get(e){if(Se(e))return this.value;{const n=Pe(e),i=this.children.get(n);return i?i.get(tt(e)):null}}setTree(e,n){if(Se(e))return n;{const i=Pe(e),r=(this.children.get(i)||new Ze(null)).setTree(tt(e),n);let s;return r.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,r),new Ze(this.value,s)}}fold(e){return this.fold_(We(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,r)=>{i[o]=r.fold_(Rt(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,We(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(Se(e))return null;{const r=Pe(e),s=this.children.get(r);return s?s.findOnPath_(tt(e),Rt(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,We(),n)}foreachOnPath_(e,n,i){if(Se(e))return this;{this.value&&i(n,this.value);const o=Pe(e),r=this.children.get(o);return r?r.foreachOnPath_(tt(e),Rt(n,o),i):new Ze(null)}}foreach(e){this.foreach_(We(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(Rt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.writeTree_=e}static empty(){return new zn(new Ze(null))}}function ya(t,e,n){if(Se(e))return new zn(new Ze(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let r=i.value;const s=kn(o,e);return r=r.updateChild(s,n),new zn(t.writeTree_.set(o,r))}else{const o=new Ze(n),r=t.writeTree_.setTree(e,o);return new zn(r)}}}function Jv(t,e,n){let i=t;return Cn(n,(o,r)=>{i=ya(i,Rt(e,o),r)}),i}function Zv(t,e){if(Se(e))return zn.empty();{const n=t.writeTree_.setTree(e,new Ze(null));return new zn(n)}}function xf(t,e){return gr(t,e)!=null}function gr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kn(n.path,e)):null}function ey(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(i,o)=>{e.push(new Ne(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new Ne(i,o.value))}),e}function bo(t,e){if(Se(e))return t;{const n=gr(t,e);return n!=null?new zn(new Ze(n)):new zn(t.writeTree_.subtree(e))}}function Cf(t){return t.writeTree_.isEmpty()}function us(t,e){return ck(We(),t.writeTree_,e)}function ck(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,r)=>{o===".priority"?(Z(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=ck(Rt(t,o),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Rt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e){return mk(e,t)}function mB(t,e,n,i,o){Z(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=ya(t.visibleWrites,e,n)),t.lastWriteId=i}function gB(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function bB(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Z(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,r=!1,s=t.allWrites.length-1;for(;o&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&_B(a,i.path)?o=!1:Fn(i.path,a.path)&&(r=!0)),s--}if(o){if(r)return vB(t),!0;if(i.snap)t.visibleWrites=Zv(t.visibleWrites,i.path);else{const a=i.children;Cn(a,l=>{t.visibleWrites=Zv(t.visibleWrites,Rt(i.path,l))})}return!0}else return!1}function _B(t,e){if(t.snap)return Fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Fn(Rt(t.path,n),e))return!0;return!1}function vB(t){t.visibleWrites=dk(t.allWrites,yB,We()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yB(t){return t.visible}function dk(t,e,n){let i=zn.empty();for(let o=0;o<t.length;++o){const r=t[o];if(e(r)){const s=r.path;let a;if(r.snap)Fn(n,s)?(a=kn(n,s),i=ya(i,a,r.snap)):Fn(s,n)&&(a=kn(s,n),i=ya(i,We(),r.snap.getChild(a)));else if(r.children){if(Fn(n,s))a=kn(n,s),i=Jv(i,a,r.children);else if(Fn(s,n))if(a=kn(s,n),Se(a))i=Jv(i,We(),r.children);else{const l=es(r.children,Pe(a));if(l){const u=l.getChild(tt(a));i=ya(i,We(),u)}}}else throw fs("WriteRecord should have .snap or .children")}}return i}function hk(t,e,n,i,o){if(!i&&!o){const r=gr(t.visibleWrites,e);if(r!=null)return r;{const s=bo(t.visibleWrites,e);if(Cf(s))return n;if(n==null&&!xf(s,We()))return null;{const a=n||Be.EMPTY_NODE;return us(s,a)}}}else{const r=bo(t.visibleWrites,e);if(!o&&Cf(r))return n;if(!o&&n==null&&!xf(r,We()))return null;{const s=function(u){return(u.visible||o)&&(!i||!~i.indexOf(u.writeId))&&(Fn(u.path,e)||Fn(e,u.path))},a=dk(t.allWrites,s,e),l=n||Be.EMPTY_NODE;return us(a,l)}}}function wB(t,e,n){let i=Be.EMPTY_NODE;const o=gr(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Qt,(r,s)=>{i=i.updateImmediateChild(r,s)}),i;if(n){const r=bo(t.visibleWrites,e);return n.forEachChild(Qt,(s,a)=>{const l=us(bo(r,new it(s)),a);i=i.updateImmediateChild(s,l)}),ey(r).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{const r=bo(t.visibleWrites,e);return ey(r).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function EB(t,e,n,i,o){Z(i||o,"Either existingEventSnap or existingServerSnap must exist");const r=Rt(e,n);if(xf(t.visibleWrites,r))return null;{const s=bo(t.visibleWrites,r);return Cf(s)?o.getChild(n):us(s,o.getChild(n))}}function IB(t,e,n,i){const o=Rt(e,n),r=gr(t.visibleWrites,o);if(r!=null)return r;if(i.isCompleteForChild(n)){const s=bo(t.visibleWrites,o);return us(s,i.getNode().getImmediateChild(n))}else return null}function TB(t,e){return gr(t.visibleWrites,e)}function kB(t,e,n,i,o,r,s){let a;const l=bo(t.visibleWrites,e),u=gr(l,We());if(u!=null)a=u;else if(n!=null)a=us(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=s.getCompare(),p=r?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let g=p.getNext();for(;g&&d.length<o;)h(g,i)!==0&&d.push(g),g=p.getNext();return d}else return[]}function xB(){return{visibleWrites:zn.empty(),allWrites:[],lastWriteId:-1}}function Sf(t,e,n,i){return hk(t.writeTree,t.treePath,e,n,i)}function fk(t,e){return wB(t.writeTree,t.treePath,e)}function ty(t,e,n,i){return EB(t.writeTree,t.treePath,e,n,i)}function su(t,e){return TB(t.writeTree,Rt(t.treePath,e))}function CB(t,e,n,i,o,r){return kB(t.writeTree,t.treePath,e,n,i,o,r)}function Sm(t,e,n){return IB(t.writeTree,t.treePath,e,n)}function pk(t,e){return mk(Rt(t.treePath,e),t.writeTree)}function mk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Z(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const r=o.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,Kv(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,iB(i,o.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,nB(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,Kv(i,e.snapshotNode,o.oldSnap));else throw fs("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const gk=new AB;class Am{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Cm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sm(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cr(this.viewCache_),r=CB(this.writes_,o,n,1,i,e);return r.length===0?null:r[0]}}function RB(t,e){Z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function PB(t,e,n,i,o){const r=new SB;let s,a;if(n.type===oi.OVERWRITE){const u=n;u.source.fromUser?s=Af(t,e,u.path,u.snap,i,o,r):(Z(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Se(u.path),s=au(t,e,u.path,u.snap,i,o,a,r))}else if(n.type===oi.MERGE){const u=n;u.source.fromUser?s=NB(t,e,u.path,u.children,i,o,r):(Z(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Rf(t,e,u.path,u.children,i,o,a,r))}else if(n.type===oi.ACK_USER_WRITE){const u=n;u.revert?s=MB(t,e,u.path,i,o,r):s=DB(t,e,u.path,u.affectedTree,i,o,r)}else if(n.type===oi.LISTEN_COMPLETE)s=LB(t,e,n.path,i,r);else throw fs("Unknown operation type: "+n.type);const l=r.getChanges();return OB(e,s,l),{viewCache:s,changes:l}}function OB(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=kf(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(tB(kf(e)))}}function bk(t,e,n,i,o,r){const s=e.eventCache;if(su(i,n)!=null)return e;{let a,l;if(Se(n))if(Z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=cr(e),d=u instanceof Be?u:Be.EMPTY_NODE,h=fk(i,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const u=Sf(i,cr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,r)}else{const u=Pe(n);if(u===".priority"){Z(Eo(n)===1,"Can't have a priority with additional path components");const d=s.getNode();l=e.serverCache.getNode();const h=ty(i,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=s.getNode()}else{const d=tt(n);let h;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const p=ty(i,n,s.getNode(),l);p!=null?h=s.getNode().getImmediateChild(u).updateChild(d,p):h=s.getNode().getImmediateChild(u)}else h=Sm(i,u,e.serverCache);h!=null?a=t.filter.updateChild(s.getNode(),u,h,d,o,r):a=s.getNode()}}return va(e,a,s.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function au(t,e,n,i,o,r,s,a){const l=e.serverCache;let u;const d=s?t.filter:t.filter.getIndexedFilter();if(Se(n))u=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,i);u=d.updateFullNode(l.getNode(),g,null)}else{const g=Pe(n);if(!l.isCompleteForPath(n)&&Eo(n)>1)return e;const x=tt(n),S=l.getNode().getImmediateChild(g).updateChild(x,i);g===".priority"?u=d.updatePriority(l.getNode(),S):u=d.updateChild(l.getNode(),g,S,x,gk,null)}const h=lk(e,u,l.isFullyInitialized()||Se(n),d.filtersNodes()),p=new Am(o,h,r);return bk(t,h,n,o,p,a)}function Af(t,e,n,i,o,r,s){const a=e.eventCache;let l,u;const d=new Am(o,e,r);if(Se(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,s),l=va(e,u,!0,t.filter.filtersNodes());else{const h=Pe(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=va(e,u,a.isFullyInitialized(),a.isFiltered());else{const p=tt(n),g=a.getNode().getImmediateChild(h);let x;if(Se(p))x=i;else{const E=d.getCompleteChild(h);E!=null?GT(p)===".priority"&&E.getChild(YT(p)).isEmpty()?x=E:x=E.updateChild(p,i):x=Be.EMPTY_NODE}if(g.equals(x))l=e;else{const E=t.filter.updateChild(a.getNode(),h,x,p,d,s);l=va(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ny(t,e){return t.eventCache.isCompleteForChild(e)}function NB(t,e,n,i,o,r,s){let a=e;return i.foreach((l,u)=>{const d=Rt(n,l);ny(e,Pe(d))&&(a=Af(t,a,d,u,o,r,s))}),i.foreach((l,u)=>{const d=Rt(n,l);ny(e,Pe(d))||(a=Af(t,a,d,u,o,r,s))}),a}function iy(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function Rf(t,e,n,i,o,r,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Se(n)?u=i:u=new Ze(null).setTree(n,i);const d=e.serverCache.getNode();return u.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){const g=e.serverCache.getNode().getImmediateChild(h),x=iy(t,g,p);l=au(t,l,new it(h),x,o,r,s,a)}}),u.children.inorderTraversal((h,p)=>{const g=!e.serverCache.isCompleteForChild(h)&&p.value===null;if(!d.hasChild(h)&&!g){const x=e.serverCache.getNode().getImmediateChild(h),E=iy(t,x,p);l=au(t,l,new it(h),E,o,r,s,a)}}),l}function DB(t,e,n,i,o,r,s){if(su(o,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return au(t,e,n,l.getNode().getChild(n),o,r,a,s);if(Se(n)){let u=new Ze(null);return l.getNode().forEachChild(Gr,(d,h)=>{u=u.set(new it(d),h)}),Rf(t,e,n,u,o,r,a,s)}else return e}else{let u=new Ze(null);return i.foreach((d,h)=>{const p=Rt(n,d);l.isCompleteForPath(p)&&(u=u.set(d,l.getNode().getChild(p)))}),Rf(t,e,n,u,o,r,a,s)}}function LB(t,e,n,i,o){const r=e.serverCache,s=lk(e,r.getNode(),r.isFullyInitialized()||Se(n),r.isFiltered());return bk(t,s,n,i,gk,o)}function MB(t,e,n,i,o,r){let s;if(su(i,n)!=null)return e;{const a=new Am(i,e,o),l=e.eventCache.getNode();let u;if(Se(n)||Pe(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Sf(i,cr(e));else{const h=e.serverCache.getNode();Z(h instanceof Be,"serverChildren would be complete if leaf node"),d=fk(i,h)}d=d,u=t.filter.updateFullNode(l,d,r)}else{const d=Pe(n);let h=Sm(i,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?u=t.filter.updateChild(l,d,h,tt(n),a,r):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,Be.EMPTY_NODE,tt(n),a,r):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Sf(i,cr(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,r)))}return s=e.serverCache.isFullyInitialized()||su(i,We())!=null,va(e,u,s,t.filter.filtersNodes())}}function VB(t,e){const n=cr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(Pe(e)).isEmpty())?n.getChild(e):null}function oy(t,e,n,i){e.type===oi.MERGE&&e.source.queryId!==null&&(Z(cr(t.viewCache_),"We should always have a full cache before handling merges"),Z(kf(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,r=PB(t.processor_,o,e,n,i);return RB(t.processor_,r.viewCache),Z(r.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,FB(t,r.changes,r.viewCache.eventCache.getNode())}function FB(t,e,n,i){const o=t.eventRegistrations_;return dB(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry;function $B(t){Z(!ry,"__referenceConstructor has already been defined"),ry=t}function Rm(t,e,n,i){const o=e.source.queryId;if(o!==null){const r=t.views.get(o);return Z(r!=null,"SyncTree gave us an op for an invalid query."),oy(r,e,n,i)}else{let r=[];for(const s of t.views.values())r=r.concat(oy(s,e,n,i));return r}}function Pm(t,e){let n=null;for(const i of t.views.values())n=n||VB(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sy;function UB(t){Z(!sy,"__referenceConstructor has already been defined"),sy=t}class ay{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=xB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BB(t,e,n,i,o){return mB(t.pendingWriteTree_,e,n,i,o),o?ed(t,new lr(ok(),e,n)):[]}function Nr(t,e,n=!1){const i=gB(t.pendingWriteTree_,e);if(bB(t.pendingWriteTree_,e)){let r=new Ze(null);return i.snap!=null?r=r.set(We(),!0):Cn(i.children,s=>{r=r.set(new it(s),!0)}),ed(t,new ru(i.path,r,n))}else return[]}function Zu(t,e,n){return ed(t,new lr(rk(),e,n))}function zB(t,e,n){const i=Ze.fromObject(n);return ed(t,new Wa(rk(),e,i))}function jB(t,e,n,i){const o=wk(t,i);if(o!=null){const r=Ek(o),s=r.path,a=r.queryId,l=kn(s,e),u=new lr(sk(a),l,n);return Ik(t,s,u)}else return[]}function HB(t,e,n,i){const o=wk(t,i);if(o){const r=Ek(o),s=r.path,a=r.queryId,l=kn(s,e),u=Ze.fromObject(n),d=new Wa(sk(a),l,u);return Ik(t,s,d)}else return[]}function _k(t,e,n){const o=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=kn(s,e),u=Pm(a,l);if(u)return u});return hk(o,e,r,n,!0)}function ed(t,e){return vk(e,t.syncPointTree_,null,uk(t.pendingWriteTree_,We()))}function vk(t,e,n,i){if(Se(t.path))return yk(t,e,n,i);{const o=e.get(We());n==null&&o!=null&&(n=Pm(o,We()));let r=[];const s=Pe(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,d=pk(i,s);r=r.concat(vk(a,l,u,d))}return o&&(r=r.concat(Rm(o,t,i,n))),r}}function yk(t,e,n,i){const o=e.get(We());n==null&&o!=null&&(n=Pm(o,We()));let r=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=pk(i,s),d=t.operationForChild(s);d&&(r=r.concat(yk(d,a,l,u)))}),o&&(r=r.concat(Rm(o,t,i,n))),r}function wk(t,e){return t.tagToQueryMap.get(e)}function Ek(t){const e=t.indexOf("$");return Z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new it(t.substr(0,e))}}function Ik(t,e,n){const i=t.syncPointTree_.get(e);Z(i,"Missing sync point for query tag that we're tracking");const o=uk(t.pendingWriteTree_,e);return Rm(i,n,o,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Om(n)}node(){return this.node_}}class Nm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Rt(this.path_,e);return new Nm(this.syncTree_,n)}node(){return _k(this.syncTree_,this.path_)}}const qB=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ly=function(t,e,n){if(!t||typeof t!="object")return t;if(Z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return WB(t[".sv"],e,n);if(typeof t[".sv"]=="object")return GB(t[".sv"],e);Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},WB=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Z(!1,"Unexpected server value: "+t)}},GB=function(t,e,n){t.hasOwnProperty("increment")||Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Z(!1,"Unexpected increment value: "+i);const o=e.node();if(Z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const s=o.getValue();return typeof s!="number"?i:s+i},KB=function(t,e,n,i){return Dm(e,new Nm(n,t),i)},YB=function(t,e,n){return Dm(t,new Om(e),n)};function Dm(t,e,n){const i=t.getPriority().val(),o=ly(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const s=t,a=ly(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new xt(a,Yt(o)):t}else{const s=t;return r=s,o!==s.getPriority().val()&&(r=r.updatePriority(new xt(o))),s.forEachChild(Qt,(a,l)=>{const u=Dm(l,e.getImmediateChild(a),n);u!==l&&(r=r.updateImmediateChild(a,u))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Mm(t,e){let n=e instanceof it?e:new it(e),i=t,o=Pe(n);for(;o!==null;){const r=es(i.node.children,o)||{children:{},childCount:0};i=new Lm(o,i,r),n=tt(n),o=Pe(n)}return i}function Is(t){return t.node.value}function Tk(t,e){t.node.value=e,Pf(t)}function kk(t){return t.node.childCount>0}function XB(t){return Is(t)===void 0&&!kk(t)}function td(t,e){Cn(t.node.children,(n,i)=>{e(new Lm(n,t,i))})}function xk(t,e,n,i){n&&!i&&e(t),td(t,o=>{xk(o,e,!0,i)}),n&&i&&e(t)}function QB(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function ml(t){return new it(t.parent===null?t.name:ml(t.parent)+"/"+t.name)}function Pf(t){t.parent!==null&&JB(t.parent,t.name,t)}function JB(t,e,n){const i=XB(n),o=$i(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,Pf(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Pf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=/[\[\].#$\/\u0000-\u001F\u007F]/,e9=/[\[\].#$\u0000-\u001F\u007F]/,rh=10*1024*1024,Ck=function(t){return typeof t=="string"&&t.length!==0&&!ZB.test(t)},t9=function(t){return typeof t=="string"&&t.length!==0&&!e9.test(t)},n9=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),t9(t)},Sk=function(t,e,n){const i=n instanceof it?new LU(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Mo(i));if(typeof e=="function")throw new Error(t+"contains a function "+Mo(i)+" with contents = "+e.toString());if(CT(e))throw new Error(t+"contains "+e.toString()+" "+Mo(i));if(typeof e=="string"&&e.length>rh/3&&Lu(e)>rh)throw new Error(t+"contains a string greater than "+rh+" utf8 bytes "+Mo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,r=!1;if(Cn(e,(s,a)=>{if(s===".value")o=!0;else if(s!==".priority"&&s!==".sv"&&(r=!0,!Ck(s)))throw new Error(t+" contains an invalid key ("+s+") "+Mo(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');MU(i,s),Sk(t,a,i),VU(i)}),o&&r)throw new Error(t+' contains ".value" child '+Mo(i)+" in addition to actual children.")}},i9=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ck(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!n9(n))throw new Error(mL(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function r9(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],r=o.getPath();n!==null&&!XT(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(o)}n&&t.eventLists_.push(n)}function br(t,e,n){r9(t,n),s9(t,i=>Fn(i,e)||Fn(e,i))}function s9(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const r=o.path;e(r)?(a9(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function a9(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ba&&Kt("event: "+n.toString()),fl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="repo_interrupt",c9=25;class u9{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ou(),this.transactionQueueTree_=new Lm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function d9(t,e,n){if(t.stats_=Em(t.repoInfo_),t.forceRestClient_||rU())t.server_=new iu(t.repoInfo_,(i,o,r,s)=>{cy(t,i,o,r,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>uy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Pi(t.repoInfo_,e,(i,o,r,s)=>{cy(t,i,o,r,s)},i=>{uy(t,i)},i=>{f9(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=dU(t.repoInfo_,()=>new uB(t.stats_,t.server_)),t.infoData_=new rB,t.infoSyncTree_=new ay({startListening:(i,o,r,s)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Zu(t.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Vm(t,"connected",!1),t.serverSyncTree_=new ay({startListening:(i,o,r,s)=>(t.server_.listen(i,r,o,(a,l)=>{const u=s(a,l);br(t.eventQueue_,i._path,u)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function h9(t){const n=t.infoData_.getNode(new it(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ak(t){return qB({timestamp:h9(t)})}function cy(t,e,n,i,o){t.dataUpdateCount++;const r=new it(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(o)if(i){const l=$c(n,u=>Yt(u));s=HB(t.serverSyncTree_,r,l,o)}else{const l=Yt(n);s=jB(t.serverSyncTree_,r,l,o)}else if(i){const l=$c(n,u=>Yt(u));s=zB(t.serverSyncTree_,r,l)}else{const l=Yt(n);s=Zu(t.serverSyncTree_,r,l)}let a=r;s.length>0&&(a=$m(t,r)),br(t.eventQueue_,a,s)}function uy(t,e){Vm(t,"connected",e),e===!1&&m9(t)}function f9(t,e){Cn(e,(n,i)=>{Vm(t,n,i)})}function Vm(t,e,n){const i=new it("/.info/"+e),o=Yt(n);t.infoData_.updateSnapshot(i,o);const r=Zu(t.infoSyncTree_,i,o);br(t.eventQueue_,i,r)}function p9(t){return t.nextWriteId_++}function m9(t){Rk(t,"onDisconnectEvents");const e=Ak(t),n=ou();Tf(t.onDisconnect_,We(),(o,r)=>{const s=KB(o,r,t.serverSyncTree_,e);ik(n,o,s)});let i=[];Tf(n,We(),(o,r)=>{i=i.concat(Zu(t.serverSyncTree_,o,r));const s=v9(t,o);$m(t,s)}),t.onDisconnect_=ou(),br(t.eventQueue_,We(),i)}function g9(t){t.persistentConnection_&&t.persistentConnection_.interrupt(l9)}function Rk(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Kt(n,...e)}function Pk(t,e,n){return _k(t.serverSyncTree_,e,n)||Be.EMPTY_NODE}function Fm(t,e=t.transactionQueueTree_){if(e||nd(t,e),Is(e)){const n=Nk(t,e);Z(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&b9(t,ml(e),n)}else kk(e)&&td(e,n=>{Fm(t,n)})}function b9(t,e,n){const i=n.map(u=>u.currentWriteId),o=Pk(t,e,i);let r=o;const s=o.hash();for(let u=0;u<n.length;u++){const d=n[u];Z(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=kn(e,d.path);r=r.updateChild(h,d.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Rk(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const h=[];for(let p=0;p<n.length;p++)n[p].status=2,d=d.concat(Nr(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&h.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();nd(t,Mm(t.transactionQueueTree_,e)),Fm(t,t.transactionQueueTree_),br(t.eventQueue_,e,d);for(let p=0;p<h.length;p++)fl(h[p])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{yn("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}$m(t,e)}},s)}function $m(t,e){const n=Ok(t,e),i=ml(n),o=Nk(t,n);return _9(t,o,i),i}function _9(t,e,n){if(e.length===0)return;const i=[];let o=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=kn(n,l.path);let d=!1,h;if(Z(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,o=o.concat(Nr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=c9)d=!0,h="maxretry",o=o.concat(Nr(t.serverSyncTree_,l.currentWriteId,!0));else{const p=Pk(t,l.path,s);l.currentInputSnapshot=p;const g=e[a].update(p.val());if(g!==void 0){Sk("transaction failed: Data returned ",g,l.path);let x=Yt(g);typeof g=="object"&&g!=null&&$i(g,".priority")||(x=x.updatePriority(p.getPriority()));const S=l.currentWriteId,T=Ak(t),A=YB(x,p,T);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=A,l.currentWriteId=p9(t),s.splice(s.indexOf(S),1),o=o.concat(BB(t.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),o=o.concat(Nr(t.serverSyncTree_,S,!0))}else d=!0,h="nodata",o=o.concat(Nr(t.serverSyncTree_,l.currentWriteId,!0))}br(t.eventQueue_,n,o),o=[],d&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(h),!1,null))))}nd(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)fl(i[a]);Fm(t,t.transactionQueueTree_)}function Ok(t,e){let n,i=t.transactionQueueTree_;for(n=Pe(e);n!==null&&Is(i)===void 0;)i=Mm(i,n),e=tt(e),n=Pe(e);return i}function Nk(t,e){const n=[];return Dk(t,e,n),n.sort((i,o)=>i.order-o.order),n}function Dk(t,e,n){const i=Is(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);td(e,o=>{Dk(t,o,n)})}function nd(t,e){const n=Is(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,Tk(e,n.length>0?n:void 0)}td(e,i=>{nd(t,i)})}function v9(t,e){const n=ml(Ok(t,e)),i=Mm(t.transactionQueueTree_,e);return QB(i,o=>{sh(t,o)}),sh(t,i),xk(i,o=>{sh(t,o)}),n}function sh(t,e){const n=Is(e);if(n){const i=[];let o=[],r=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(Z(r===s-1,"All SENT items should be at beginning of queue."),r=s,n[s].status=3,n[s].abortReason="set"):(Z(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),o=o.concat(Nr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Tk(e,void 0):n.length=r+1,br(t.eventQueue_,ml(e),o);for(let s=0;s<i.length;s++)fl(i[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(r){}e+="/"+o}return e}function w9(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):yn("Invalid query segment '".concat(n,"' in query '").concat(t,"'"))}return e}const dy=function(t,e){const n=E9(t),i=n.namespace;n.domain==="firebase.com"&&sr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&sr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Q6();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lU(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new it(n.pathString)}},E9=function(t){let e="",n="",i="",o="",r="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(o=y9(t.substring(d,h)));const p=w9(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),n=e.substring(x+1),r=i}"ns"in p&&(r=p.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:o,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return Se(this._path)?null:GT(this._path)}get ref(){return new Ts(this._repo,this._path)}get _queryIdentifier(){const e=Xv(this._queryParams),n=ym(e);return n==="{}"?"default":n}get _queryObject(){return Xv(this._queryParams)}isEqual(e){if(e=at(e),!(e instanceof Um))return!1;const n=this._repo===e._repo,i=XT(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+DU(this._path)}}class Ts extends Um{constructor(e,n){super(e,n,new xm,!1)}get parent(){const e=YT(this._path);return e===null?null:new Ts(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}$B(Ts);UB(Ts);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="FIREBASE_DATABASE_EMULATOR_HOST",Of={};let T9=!1;function k9(t,e,n,i,o){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||sr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kt("Using default host for project ",t.options.projectId),r="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));let s=dy(r,o),a=s.repoInfo,l;typeof process<"u"&&Pv&&(l=Pv[I9]),l?(r="http://".concat(l,"?ns=").concat(a.namespace),s=dy(r,o),a=s.repoInfo):s.repoInfo.secure;const u=new aU(t.name,t.options,e);i9("Invalid Firebase Database URL",s),Se(s.path)||sr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=C9(a,t,u,new sU(t.name,n));return new S9(d,t)}function x9(t,e){const n=Of[e];(!n||n[t.key]!==t)&&sr("Database ".concat(e,"(").concat(t.repoInfo_,") has already been deleted.")),g9(t),delete n[t.key]}function C9(t,e,n,i){let o=Of[e.name];o||(o={},Of[e.name]=o);let r=o[t.toURLString()];return r&&sr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new u9(t,T9,n,i),o[t.toURLString()]=r,r}class S9{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(d9(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ts(this._repo,We())),this._rootInternal}_delete(){return this._rootInternal!==null&&(x9(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&sr("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){q6(ko),ui(new Hn("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return k9(i,o,r,n)},"PUBLIC").setMultipleInstances(!0)),vn(Ov,Nv,t),vn(Ov,Nv,"esm2017")}Pi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Pi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};A9();function R9(t){return O9({initialUser:t,dependencies:{popupRedirectResolver:xE,persistence:[EE,gE,Op]}})}const P9=Symbol("VueFireAuth");function O9({dependencies:t,initialUser:e}){return(n,i)=>{const[o,r]=N9(n,i,e,t);H6(o,r)}}function N9(t,e,n,i,o=lE(t,i)){const r=B6(t,e).run(()=>nn(n));return z6.set(t,r),e.provide(P9,o),[r,o]}function D9(t,{firebaseApp:e,modules:n=[]}){t.provide(IT,e);for(const i of n)i(e,t)}const L9={apiKey:"AIzaSyBsTqYHIeFCDYxhVKK8pbvE-6MO_fpwCCk",authDomain:"epn-chat.firebaseapp.com",databaseURL:"import.meta.env.VITE_DATABASEURL",projectId:"epn-chat",storageBucket:"epn-chat.appspot.com",messagingSenderId:"530988007811",appId:"1:530988007811:web:51224d2170fc8a7631f6b6",measurementId:"G-40R9N78X47"};let Ga;pM().length?Ga=el():Ga=Ep(L9);$I(Ga);const ah=CE(Ga),id=I1(BD);id.use(ND);id.use(yT);id.use(D9,{firebaseApp:Ga,modules:[R9()]});yT.isReady().then(()=>{id.mount("#app")});export{MR as K,M9 as __vite_legacy_guard,sp as a,Ni as b,lO as c,Ai as d,Qr as e,H9 as f,j9 as g,kS as h,VA as i,xS as j,Vh as k,Je as l,hs as m,Nh as n,W9 as o,V9 as p,Xr as r,q9 as s,Oi as w};
